<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Common Lisp菜鸟指南(译) | Reverland的行知阁</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="lisp," />
  

  <meta name="description" content="Common Lisp菜鸟指南翻译自http://ghostopera.org/blog/2012/06/24/the-newbie-guide-to-common-lisp/ 
进入Common Lisp的世界可能非常让人退缩，甚至对有经验的程序猿也是这样。这个语言兼有力与美，但也有许多清晰的边界和没有真正被普遍理解的开端。
这个指南可能将持续一段时间，但是希望它将使踏入Common Lisp的">
<meta property="og:type" content="article">
<meta property="og:title" content="Common Lisp菜鸟指南(译)">
<meta property="og:url" content="http://reverland.org/lisp/2012/06/26/common-lisp/index.html">
<meta property="og:site_name" content="Reverland的行知阁">
<meta property="og:description" content="Common Lisp菜鸟指南翻译自http://ghostopera.org/blog/2012/06/24/the-newbie-guide-to-common-lisp/ 
进入Common Lisp的世界可能非常让人退缩，甚至对有经验的程序猿也是这样。这个语言兼有力与美，但也有许多清晰的边界和没有真正被普遍理解的开端。
这个指南可能将持续一段时间，但是希望它将使踏入Common Lisp的">
<meta property="og:updated_time" content="2015-11-15T06:01:30.223Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Common Lisp菜鸟指南(译)">
<meta name="twitter:description" content="Common Lisp菜鸟指南翻译自http://ghostopera.org/blog/2012/06/24/the-newbie-guide-to-common-lisp/ 
进入Common Lisp的世界可能非常让人退缩，甚至对有经验的程序猿也是这样。这个语言兼有力与美，但也有许多清晰的边界和没有真正被普遍理解的开端。
这个指南可能将持续一段时间，但是希望它将使踏入Common Lisp的">

  

  
    <link rel="icon" href="/images/favicon.ico">
  

  

  <link href="/css/styles.css?v=ed12202f" rel="stylesheet">

  

  

</head>

<body>

  
    <a href="#modal-one" class="toolbox-mobile">盒子</a>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">盒子</span>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a 
            class="CIRCLE" 
            href="/archives/"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a 
            class="CIRCLE" 
            href="/category/"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a 
            class="CIRCLE" 
            href="/tag/"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a 
            class="CIRCLE" 
            href="/link/"
            target="_self"
            >
            友链
          </a>
        </li>
      
        <li class="item-toolbox">
          <a 
            class="CIRCLE" 
            href="/about/"
            target="_self"
            >
            关于
          </a>
        </li>
      
        <li class="item-toolbox">
          <a 
            class="CIRCLE" 
            href="/atom.xml"
            target="_blank"
            >
            RSS
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Common_Lisp菜鸟指南"><span class="toc-text">Common Lisp菜鸟指南</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#理解Common_Lisp"><span class="toc-text">理解Common Lisp</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#了解你的工具"><span class="toc-text">了解你的工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Emacs[^1]"><span class="toc-text">Emacs[^1]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Steel_Bank_Common_Lisp"><span class="toc-text">Steel Bank Common Lisp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Quicklisp"><span class="toc-text">Quicklisp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CL-Project"><span class="toc-text">CL-Project</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Buildapp"><span class="toc-text">Buildapp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ASDF"><span class="toc-text">ASDF</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建你的第一个应用程序"><span class="toc-text">创建你的第一个应用程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Quicklisp和SLIME"><span class="toc-text">安装Quicklisp和SLIME</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建应用程序"><span class="toc-text">创建应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#重启Emacs后加载你的应用^3"><span class="toc-text">重启Emacs后加载你的应用^3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建可执行文件"><span class="toc-text">创建可执行文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#下一步是什么？"><span class="toc-text">下一步是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Footnotes"><span class="toc-text">Footnotes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Changelog"><span class="toc-text">Changelog</span></a></li></ol></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-common-lisp" class="article article-type-post" itemscope itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">Common Lisp菜鸟指南(译)</h1>

    <div class="article-meta">
      <span>2012-06-26</span>

      <span> | </span>

      <span class="article-author">Liu Yuyang</span>

      <span> | </span>

      
  <span class="article-category">
    <a class="article-category-link" href="/categories/lisp/">lisp</a>
  </span>


    </div>
  </header>

  <div class="article-content">
    
      <h1 id="Common_Lisp菜鸟指南">Common Lisp菜鸟指南</h1><p>翻译自<a href="http://ghostopera.org/blog/2012/06/24/the-newbie-guide-to-common-lisp/" target="_blank" rel="external">http://ghostopera.org/blog/2012/06/24/the-newbie-guide-to-common-lisp/</a> </p>
<p>进入Common Lisp的世界可能非常让人退缩，甚至对有经验的程序猿也是这样。这个语言兼有力与美，但也有许多清晰的边界和没有真正被普遍理解的开端。</p>
<p>这个指南可能将持续一段时间，但是希望它将使踏入Common Lisp的任务变得不那么可怕。</p>
<h2 id="理解Common_Lisp">理解Common Lisp</h2><p><a href="http://labs.ariel-networks.com/cl-style-guide.html" target="_blank" rel="external">Ariel Networks</a> 有个适当形式的 Common Lisp 指南。</p>
<p>The <a href="http://www.lispworks.com/documentation/HyperSpec/Front/index.htm" target="_blank" rel="external">HyperSpec</a> 有完整的 Common Lisp 文档。</p>
<p><a href="http://clqr.boundp.org/" target="_blank" rel="external">CLQR</a> 是一个好的课下载的 Common Lisp 快速参考手册。</p>
<h2 id="了解你的工具">了解你的工具</h2><h3 id="Emacs[^1]">Emacs[^1]</h3><p><a href="http://www.gnu.org/software/emacs/" target="_blank" rel="external">Emacs</a> 是一个可实用lisp高度定制的编辑器<a href="Emacs内置elisp解释器。elisp是lisp的一个变种。">^2</a>。它可以为lisp提供一个非常独特的实时开发流程。查看[David O’Toole][<a href="http://dto.github.com/notebook/]在通过Emacs和他的" target="_blank" rel="external">http://dto.github.com/notebook/]在通过Emacs和他的</a> “Blocky.io” 游戏开发系统在一个游戏中的<a href="http://blocky.io/blocky-lightning-talk-4.ogv" target="_blank" rel="external">lightning talk</a>，来查看实时开发实例。很酷不是吗？</p>
<h3 id="Steel_Bank_Common_Lisp">Steel Bank Common Lisp</h3><p>当这世界上有很多可用的 Common Lisp 实现时，<a href="http://www.sbcl.org/" target="_blank" rel="external">SBCL</a> 是非常标准的实现。它很积极的被开发着，有适合的调试器、原生线程、多平台支持。</p>
<h3 id="Quicklisp">Quicklisp</h3><p><a href="http://www.quicklisp.org/" target="_blank" rel="external">Quicklisp</a> 使得从一套丰富的由社区发展的 Common Lisp 库开始变得更容易。它允许你仅仅通过几个简单命令下载、安装和加载任何700多库中的库。它完全取代了它的前任asdf-install,如果你熟悉RubyGems，这非常相似。</p>
<h3 id="CL-Project">CL-Project</h3><p><a href="https://github.com/fukamachi/cl-project" target="_blank" rel="external">CL-Project</a> 是白手起家一个新的 Common Lisp 项目的最佳现代方法。虽然它肯定不是必须的，但是它提供了一个创建新项目的合理起点。</p>
<h3 id="Buildapp">Buildapp</h3><p><a href="http://www.xach.com/lisp/buildapp/" target="_blank" rel="external">Buildapp</a> 使得创建SBCL的可执行文件更加方便</p>
<h3 id="ASDF">ASDF</h3><p><a href="http://www.xach.com/lisp/buildapp/" target="_blank" rel="external">ASDF</a> 允许你定义你的项目的结构和依赖。你可以把它当作Ruby世界中Rake和Gemfile的杂交。</p>
<hr>

<h2 id="创建你的第一个应用程序">创建你的第一个应用程序</h2><p>我将把获取Emacs和SBCL的任务留给你自己，你可以找到所有Linux、Windows和MacOS的版本。</p>
<h3 id="安装Quicklisp和SLIME">安装Quicklisp和SLIME</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ curl -O http://beta.quicklisp.org/quicklisp.lisp</span><br><span class="line">$ sbcl --load quicklisp.lisp</span><br><span class="line">This is SBCL <span class="number">1.0</span>.<span class="number">42.52</span>, an implementation of ANSI Common Lisp.</span><br><span class="line">More information about SBCL is available at &lt;http://www.sbcl.org/&gt;.</span><br><span class="line"></span><br><span class="line">SBCL is free software, provided as is, with absolutely no warranty.</span><br><span class="line">It is mostly <span class="keyword">in</span> the public domain; some portions are provided under</span><br><span class="line">BSD-style licenses.  See the CREDITS and COPYING files <span class="keyword">in</span> the</span><br><span class="line">distribution <span class="keyword">for</span> more information.</span><br><span class="line"></span><br><span class="line">  ==== quicklisp quickstart loaded ====</span><br><span class="line"></span><br><span class="line">    To <span class="built_in">continue</span>, evaluate: (quicklisp-quickstart:install)</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(quicklisp-quickstart:install)&#10;(ql:add-to-init-file)&#10;(ql:quickload &#34;quicklisp-slime-helper&#34;)</span><br></pre></td></tr></table></figure>
<h3 id="创建应用程序">创建应用程序</h3><p>载入Emacs并键入<esc> x slime <enter>。你现在应该可以看到REPL——一个交互的lisp提示符。</enter></esc></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(ql:quickload &#34;cl-project&#34;)&#10;(cl-project:make-project #p&#34;myapp&#34;&#10;  :author &#34;Your name&#34;&#10;  :email &#34;your@email.com&#34;&#10;  :license &#34;BSD or whatever&#34;)&#10;(ql:quickload &#34;myapp&#34;)&#10;(in-package :myapp)</span><br></pre></td></tr></table></figure>
<p>现在在Emacs有scratch标签的窗口键入<esc> x cd <enter> myapp <enter> 紧接着输入 <control>x <control>f src/myapp.lisp <enter> 。你应该拥有了一个为准备极棒的编码新建立的myapp.lisp文件。</enter></control></control></enter></enter></esc></p>
<p>让我们继续添加一些东西然后试试结果</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun hello-world ()&#10;  (format t &#34;Hello world.~%&#34;))</span><br></pre></td></tr></table></figure>
<p>现在我们可以把我们的更改注入REPL，通过把光标放到最后一行并键入<control>c <control>c。通过切换到REPL键入以下内容执行我们的新函数：</control></control></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(hello-world)</span><br></pre></td></tr></table></figure>
<p>恭喜你！你在通过 Common Lisp 编程</p>
<h3 id="重启Emacs后加载你的应用^3">重启Emacs后加载你的应用<a href="Vim中类似。">^3</a></h3><p>CL-Project 在运行时更改了当前路径，使得第一次加载你的应用很简单。</p>
<p>你有3种方法把应用放到你的加载路径：</p>
<ul>
<li>为了让应用在你的当前路径，或者从应用路径启动你的Emacs或者在加载slime之前更改目录。</li>
<li>把你的应用移动到 ~/quicklisp/local-projects 它将总是有用。</li>
<li><a href="http://common-lisp.net/project/asdf/asdf/Controlling-where-ASDF-searches-for-systems.html#Controlling-where-ASDF-searches-for-systems" target="_blank" rel="external">向你的加载路径添加项目</a> 。</li>
</ul>
<p>个人选择对应用选择方法1对库文件选择方法2。</p>
<h3 id="创建可执行文件">创建可执行文件</h3><p>虽然做出有用的 Common Lisp 程序不必要创建可执行文件，它却肯定可以方便发布独立的应用。你生成的可执行文件将内嵌整个lisp环境，所以不要因二进制文件的体积感到吃惊……</p>
<p>首先，定义可执行文件的切入点</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(export &#39;main)&#10;(defun main (args)&#10;  (hello-world)&#10;  (cl-user::quit))</span><br></pre></td></tr></table></figure>
<p>你将需要下载 <a href="http://www.xach.com/lisp/buildapp/" target="_blank" rel="external">buildapp工具</a> ，指导在它的网站上。</p>
<p>现在从你的myapp目录我们可以在命令行运行buildapp去编译你的程序！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">buildapp --asdf-tree <span class="variable">$HOME</span>/quicklisp/dists/quicklisp/software \</span><br><span class="line">  --load-system myapp --entry myapp:main --output hello</span><br></pre></td></tr></table></figure>
<p>在程序所在目录运行你的程序</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ./hello</span><br><span class="line">Hello World.</span><br></pre></td></tr></table></figure>
<h2 id="下一步是什么？">下一步是什么？</h2><p><a href="http://www.gigamonkeys.com/book/" target="_blank" rel="external">实用Common Lisp编程</a> <a href="有中文版，田春译。">^4</a>很好的介绍Common Lisp的书。是我看的第一本对该语言介绍的书。</p>
<p><a href="http://www.cs.cmu.edu/Groups/AI/html/cltl/cltl2.html" target="_blank" rel="external">Common Lisp the Language,2nd Edition</a> Common Lisp的权威书籍</p>
<p><a href="http://www.paulgraham.com/onlisp.html" target="_blank" rel="external">On Lisp</a> [^5]提供全面的高级Lisp技术</p>
<p>你应该看看 <a href="http://landoflisp.com/" target="_blank" rel="external">Land of Lisp</a> 。它非常有趣，会是个相当愉快的阅读。</p>
<hr>

<h2 id="Footnotes">Footnotes</h2><p>[^1]: 当然可以用vim，vim中slimv正是为此而生，可参考译者的 “在Vim中使用lisp”:slimv 一文。本文中操作都可以在vim中完成,只是不要尝试用那个quicklisp-slime-helper了。</p>
<p>[^5]: 有中文版，有兴趣的同学也许可以看看 “这里”:<a href="http://115.com/folder/faujangp#lisp" target="_blank" rel="external">http://115.com/folder/faujangp#lisp</a> </p>
<hr>

<h2 id="Changelog">Changelog</h2><ul>
<li>2012年06月27日 星期三 11时03分37秒 更正一些错误。加译作者更新内容</li>
</ul>

    
  </div>
</article>

</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal-one" aria-hidden="true">
  <a href="#close" class="cover" aria-hidden="true"></a>
  <div class="modal-dialog">
    <div class="modal-header">
      <a href="#close" class="btn-close" aria-hidden="true">关闭</a>
    </div>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/category/"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tag/"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link/"
              target="_self"
              >
              友链
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              target="_self"
              >
              关于
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/atom.xml"
              target="_blank"
              >
              RSS
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    
  <section class="disqus-comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
  </section>

  <script>
    var disqus_shortname = 'reverlandblog';
    
    var disqus_url = 'http://reverland.org/lisp/2012/06/26/common-lisp/';
    
    (function(){
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>


    




  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/fastclick.js', function() {
      loadScript('/js/app.js', function() {
        // load success
      });
    });
  }
</script>

</body>
</html>
