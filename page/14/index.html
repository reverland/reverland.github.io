<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
    <link href='//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Reverland, Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Reverland的行知阁" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/images/default_avatar.jpg?v=0.4.5.2" />






<meta name="description" content="我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。">
<meta property="og:type" content="website">
<meta property="og:title" content="Reverland的行知阁">
<meta property="og:url" content="http://reverland.org/page/14/index.html">
<meta property="og:site_name" content="Reverland的行知阁">
<meta property="og:description" content="我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Reverland的行知阁">
<meta name="twitter:description" content="我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> Reverland的行知阁 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Reverland的行知阁</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">开放、分享、自由与进步</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">

    

    
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2012/07/13/" itemprop="url">
                  回忆
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-07-13T00:00:00+08:00" content="2012-07-13">
              2012-07-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2012/07/13/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2012/07/13//" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="回忆">回忆</h1><p>我向来厌恶回忆，当被它的触角在夜幕中拉住，你永远别指望从中抽身，回忆越陷越深，一层一层向过去延伸，好像永远没有终点。</p>
<p>我向来厌恶面对过去，过去的哀伤与委屈，过去的快乐与迷恋，都在回忆中幻化成不可抑制的情愫与遗憾。回忆越陷越深，它在你的心头缠绕了一圈又一圈，当回忆越行越远，往事便像猴子头上的紧箍咒一样越来越紧，让人压抑的喘不过气。</p>
<p>不知为什么，感觉往事不堪回首。虽然它普通的不能再普通，虽然它平淡的不能再平淡，但我不愿回头.让记忆随着光阴越流越远吧，我希望永远不要再见到它。</p>
<p>可是它总是找上我。终有一天，还是要面对自己的懦弱，愚蠢与自私。</p>
<blockquote>
<p>有一种被人抛诸脑后的过去，包含一些不该遗忘的点点滴滴。欢笑之余，我将故旧拾起，才刹见自己的薄情。人世间似乎存在着某种公平，每个人都曾被抛掷在他人的遗忘中；而今你所有哽咽难宣的话语，也正是你曾为人所期盼，却永远听不见的字句。</p>
<p>赫曼· 赫塞—-</p>
</blockquote>
<h2 id="大学之前">大学之前</h2><p>不想多说，封尘的不想重启。简单的写下，简单地卸下，轻装面对未来。</p>
<h2 id="大学">大学</h2><blockquote>
<p>所谓大学者,非谓有大楼之谓也,有大师之谓也。</p>
<p>梅贻琦1931年在清华的就职演说—-</p>
</blockquote>
<p>说什么好呢，本来没想到来这里。高考之前想去南京大学，考完试知道毁了，打点好好准备了一堆要报的二本大学，一本随手填了个江南大学，只因为作为革命老区的朴素人民，觉得无锡这地方比较发达。报专业的时候报的教育技术，因为自己虽然是学理科的，但一直想搞文科<a href="当年文理分科违心的选了理科，因为我讨厌考政治和历史，估计按我的风格考那个大学都考不上。">^1</a>。但老爸是搞教育的，想这行业尼玛有个毛前途啊，别报这个。我那时当然无所谓了，反正谁知道将来大学毕业做什么，那就这啥 <strong>光信息科学与技术</strong> 吧。</p>
<p>关于这牛b的专业名我要唠叨两句：还记得去派出所开国防生证明的时候，那位警察大叔来句，唉，你这专业不错啊。我想是么？然后去招生办查分的时候招生办大叔也来了句，你这个专业高科技，有前途。我想看样子没差了。<strong>来到传说中江南第一学府，尼玛来到理学院，再上了三年学，我算知道这是什么玩意了</strong>。</p>
<p>于是乎阴差阳错来到无锡这地方。初来乍到，这里商业气息以排山倒海之势扑面而来。各路江湖骗子、学长学姐、商业机构、云集此地…… 然后我就不多说了，三年过去，我已经不把这里当大学看了。</p>
<p>其实也不想黑咱亲爱的大江大，学校风景秀丽，一看就是花大力气大资金维护打造初来的，基本上这个大花园是各路情侣、闲人饭后闲逛的良处。学校四周也到处都是公园，总之风景不错就是了。有这么种感觉，咱大江大就是环蠡湖绿化带的一部分。</p>
<p>不该跑题的，虽然有很多怨念，但也不是一无是处，好歹教育部直属211大学，有心报这里的别这么就被我的胡言乱语吐槽走了，也许其它地方还不如这儿。</p>
<h3 id="外联">外联</h3><p>大一上学期，外联还是比较忙的。然后又身在两个组织的外联，于是打了一个学期的酱油<a href="打酱油？按很多人的标准来说，我大学打的酱油真是数不胜数啊。">^2</a>。最后的结果是一分钱没有拉到，不过那时候真是勇气十足啊，跑商店，闯大楼，进政府，当然，脾气好点的会听你说完，脾气差点的也没到轰我的地步…… 然后尼玛有赞助商了宣传也是我们的事，遍历宿舍做宣传，食堂门口发传单，四处张贴海报……</p>
<p>说到底，我那时不是很给力，不过很有<strong>勇气</strong>。</p>
<h3 id="骑迹">骑迹</h3><p>也不知为何了，加了个名为骑迹的组织，买了辆 Giant ATX690[^3]，准备暑假远征。没想到暗暗影响了舍友，四个人先花了几天骑车游遍了江南六大古镇，然后我知道我脾气有多差了……总之，因为脾气不好和室友别扭了很抱歉，但一直没说出过口。暑假和社团的兄弟们从学校骑车出发远征北京，难忘的七月啊。然后我又体验到自己脾气有多不好了，然而，抱歉的话一直没说出口，一路都给大家拖后腿了。</p>
<p>远征之前和骑迹，室友出去都比较多，无锡周边什么的总是去逛逛。到远征结束，基本上再没怎么出去了。最后一次出行在2011年4月26日，骑迹的24小时环太湖活动，光荣的做了压队。没想到之后，再也没骑车出去过了。<a href="因为再后来车丢了，想去也没机会了。不丢也懒得出去了。">^4</a></p>
<h3 id="泡图书馆">泡图书馆</h3><p>大一经常泡图书馆，别人都以为我在学习，其实都是在看闲书。因为好奇很多偏见、歧视从何而来，为什么人们会这样会那样，好奇人的本性，所以看了好多心理学社会学的书。现在都忘了，当时的笔记可是做了一本又一本……</p>
<p>最后的相关结论是，基本都是假说……</p>
<p>那时我第一次认识到人是有多健忘，后来问我一个天天看数学和计算机学科国外论著的室友，你看这能记住吗？他说不行，我问那看了有什么用？他说很多思想会内化成为你的一部分。当时感觉这话安慰的意思多余实际的意义，两年后接触另一个神奇的领域时我才体味到这个意思。</p>
<h3 id="动漫">动漫</h3><p>在室友旁边看死神，然后感觉不错。然后开始动漫宅化一发不可收拾，先后看了一堆新番旧番。当时痴迷的，借室友mp4看空之境界，借室友电脑看Monster，寒假在家天天看eva。去郑州病房陪父亲的时候，当时还买了本《动感新势力》，没想到那本10年三月的85期，是我唯一买的动漫相关的东西。</p>
<p>最后，忘记是何年何月，看完Lain、攻壳机动队和虫师之后，口味越来越小众，再未找到入的了法眼的动漫，也就再也没兴致看其它的动漫了。</p>
<h3 id="小说">小说</h3><p>忘记何时，迷过一阵日系推理小说。大概是远征前的假期，当时图书馆所有能借到的东野圭吾的、京极夏彦的、宫部美雪的……推理小说，到后来痴迷上整个日系文学，村上村树、松本清张、太宰治<a href="《人间失格》是最震撼我的小说之一，另一本是加缪的《局外人》">^5</a>……，唯一遗憾没看《丰饶之美》和《源氏物语》，再后来因为信长之野望这个游戏对整个日本战国史产生兴趣好好研究了一番，扯淡的是又找了本叫《中国历代军事战略（上、下）》<a href="很棒的一本书，纯粹的历史书，很少有这么好看的">^6</a>的看了一遍。</p>
<p>好了不跑题了，还是说小说。当时手机可以上网，经常用手机上轻小说论坛看小说。《文学少女》那阵真是让我痴迷上了各种小说了，好多图书馆都没有，当时我是疯狂荐购，图书馆方面的回复倒很简单：<em>不适合本馆收藏</em><a href="历史的讽刺在于，它后来买了一大堆我荐购过和没荐购过的轻小说">^7</a>。</p>
<p>总之，那段日子是动漫、小说、甚至还玩过air的游戏交错的日子。很虚空不是？我只是想从那里发现意义，寻找意义。他人的作品改变了我，启发了我。但意义也仅限于此。我放弃动漫小说、文学时，心头一点感觉都没有。</p>
<p>对了，忘了讲讲科幻小说。在郑州病房的夜晚，看着阿西莫夫的科幻小说打发漫漫长夜，我才知道科幻小说还可以写得这么棒这么有深度。后来去年寒假，看了遍《光明王》，那种宗教和科技交织的奇幻感觉让我激动万分，于是我找来txt版的把它用<em>LaTeX</em>重新排了一遍。那个时候，又有个东西影响了我。</p>
<h3 id="Dota">Dota</h3><p>现在，我旁边的室友还在每日忙着dota。</p>
<p>这是个迷人的游戏，有几个月很喜欢。我在一个游戏中寻找意义，体悟人生，有很多对现实有启发的思想渐渐影响和融入自我。更重要的，拉近了孤独的自己和很多人的关系，一致多年以来我第一次觉得和好多人有的聊的了。然而，仅此而已。之后遇见的东西，让我走火入魔了，几乎彻底把它扔掉了。</p>
<h3 id="TED">TED</h3><blockquote>
<p>Ideas worth spreading.</p>
<p>TED理念—-</p>
</blockquote>
<p>TED<a href="http://www.ted.com/" target="_blank" rel="external">1</a>是什么？Technology、Entertainment、Design，有阵对这个特着迷,它展示了一个新奇的世界，你看到这里还有一群人相信思想的力量，充满热情，相信能通过传播思想和理念改变世界，你会不激动吗？当你身边充满着成天感慨无所事事，生命缺乏激情之时你会不喜欢它吗？那时的TED展示给我很多很棒的理念。TEDxWuxi第一场面向大众的分享会当然要去了，设计学院一个学长关于设计的演讲在我心中埋下了”设计友好”的种子，现在看待很多产品和服务，都要想好多……</p>
<h3 id="数学建模">数学建模</h3><blockquote>
<p>当然我在大学的时候，还不可能把从前的点点滴滴串连起来，但是当我十年后回顾这一切的时候，真的豁然开朗了。 </p>
<p>Steve Jobs—-</p>
</blockquote>
<p>数学建模对我来说是个阴差阳错的事，如果不是某人这么一晃：我们组队去吧。我绝对不会想着去参加它的，甚至大学两年间从未考虑过数学建模这种事。</p>
<p>然而晃我的人没有参加，我一个人过去了。</p>
<p>细节不想多说，黑学校黑这个比赛的也懒得说。总之，从那时开始，人生开始巨变，而这种变化是我的选择，不是身不由己。</p>
<p>组队时，本来和一个同学说好同队，结果组队时莫名的负了她。慌忙组队之时慌忙组了队，连声抱歉也没说。我觉得自己的一生总是错过了太多道谢和道歉的机会，腼腆的性格也让我无法说出口。</p>
<p>前面半个月集训很爽，我第一次知道计算机不只是游戏机、影碟机和上网本，第一次发现自己有多强大，从无基础的是写代码越写越high，感觉我们那个房间里那些物联网学院的都没我强大<a href="我自大了，见笑。之前虽然开过matlab课，对计算机毫无兴趣的我都在后面打魔兽的……">^8</a>。然后也算第一次喜欢上了数学，特别是数据挖掘与数据分析。</p>
<p>后半个月越来越觉得这比赛是在扯淡，痛苦的感觉一天到晚就做题了什么也学不到。</p>
<p>然后的比赛是我在大学打的又一次酱油，还不好意思地拉着两名想拿成绩的队友一起酱油了。</p>
<p>最后比赛那天很抱歉没很给力，把本带去蹭学校的网更新ubuntu了，第二天早上正要忙的时候头晕脑胀的睡着了。</p>
<h3 id="GNU/Linux">GNU/Linux</h3><blockquote>
<p>Keep it simple,Stupid.</p>
<p>KISS哲学—-</p>
</blockquote>
<p>数学建模时用了一个叫SAS的统计软件，老师表示买不起。买不起？于是我上网查了查，一年几十万。</p>
<p>这不是重点，重点在于一种叫R的统计语言走进了我的世界，它带我进入了开源的世界。</p>
<p>也就这么一阴差阳错，无意瞥见的一种和我从来没什么关系的东西吸引了我的注意力，我想找一个做统计分析的强大软件，而SAS盗版都不安逸。然而R的口碑很好<a href="即使现在在国际也是很流行，搞统计的八成特别学术上的八成用它。前阵看到本12年2月出的新书讲R做数据挖掘的，作者竟然一个是政治学家一个是生物学家，给跪了。">^9</a>,据说也很强大，而且开源。嗯？开源是个什么玩意，能吃吗？然后我开始递归的google起来[^10]。</p>
<p>另外数学建模那阵老见一群飞在天上的大牛们黑word吹<a href="http://www.latex-project.org/" target="_blank" rel="external">LaTeX</a>，我心说LaTeX是什么？于是也开始了在google的递归搜索。</p>
<p>结果很简单，先是装了个火狐，感觉不错，又阴差阳错装个YLMF OS<a href="一种国人做的linux系统">^11</a>，然后某次本上的XP蓝屏了，我就把windows格了。</p>
<p>接下来的一年，是折腾的一年。从计算软件到服务器架设，从建站到前端，从排版到图形处理，从文本编辑到设计真是无所不折腾……也渐渐见识了很多领域的东西，没有什么比这个更开阔视野了，人生也从未这么丰富多彩过<a href="副作用是社交基本封闭，与旁人基本没得聊，基本不会接触妹子……以前还会和同学去打打网球什么的，某次受伤后现在只能自己默默跑步了。">^12</a>。设计、哲学、人性、科技、信仰从未这么复杂的交错起来，才明白世界很大，人生很短<a href="请珍惜自己的生命，遵从自己的心。人的生命体验，只有经历过才会明白。就像毛姆《人生的枷锁》中所说：答案只有自己找出才有意义。">^13</a>。</p>
<h2 id="然后呢">然后呢</h2><p>还有一些愿望,这是关于未来的：</p>
<ul>
<li><p>我想去从事并非光科相关的行业，如果身体条件允许的话，我想从事互联网或者数据挖掘的工作</p>
</li>
<li><p>全程马拉松，把跑步变成自己的人生习惯之一</p>
</li>
<li><p>想学习绘画，图像处理，视觉设计的东西，但并不靠它吃饭</p>
</li>
<li><p>想学会弹吉他，因为还有想唱的歌</p>
</li>
<li><p>希望将来有空余时间，把那些自己想看的书看完。</p>
</li>
<li><p>空闲时能参加开源项目，从中体会hack的乐趣</p>
</li>
</ul>
<h2 id="我的家">我的家</h2><p>随便一想就像收不住的闸，不想了。我不能哭丧着脸回去，人生苦短，我要试着带回去快乐与活力。</p>
<p>作文一篇，向过去告别，向无锡暂别，我已经<em>21</em>了。</p>
<hr>
<h2 id="Footnotes">Footnotes</h2><p>[^3]: 当时社团团购，整个学校就我一个…… 一直没感谢我当时技术部的部长和当时的会长。</p>
<p>[^10]: 要问我为何不用baidu，我真想不留情面的说那玩意是个垃圾。但鉴于很多人拿他搜盗版搜游戏还凑合，就不黑它了。如果你查的资料是英语居多，或者偏重技术，google基本是唯一的选择。但国内的google一直都不好用，每次搜到东西打不开时或google被重置时，我都想说： <em>fuck gfw</em> 。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/test/2012/07/11/" itemprop="url">
                  这两天的二逼日子
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-07-11T00:00:00+08:00" content="2012-07-11">
              2012-07-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/test/" itemprop="url" rel="index">
                    <span itemprop="name">test</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/test/2012/07/11/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="test/2012/07/11//" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="这几天我都干啥了">这几天我都干啥了</h1><p>这几天我都干些啥了呢，在这个幻灯片中，我将做个小结</p>
<p><img src="http://fmn.rrimg.com/fmn063/20120708/1320/p_large_lamv_658f000005f61261.jpg" alt="dt的tweak"></p>
<hr>
<h2 id="为啥我要宅两天">为啥我要宅两天</h2><p>前几天的考研复习那个不亦乐乎，高数终于看了三章不到，概率论终于看了不到三章。我想想怎么着回家前的这几天也得好好学习一阵，可你妹的 <em>我感冒了</em></p>
<hr>
<h2 id="那卧病寝室这几天在干吗？">那卧病寝室这几天在干吗？</h2><ul>
<li>普通说法叫折腾</li>
<li>文艺说法叫hack</li>
<li>说得二逼一点我其实就是蛋疼</li>
</ul>
<hr>
<h2 id="水人人水贴吧水论坛">水人人水贴吧水论坛</h2><ul>
<li>好吧，你之前看到的那个win7 图吧，其实就是我闲的蛋疼用archlinux+kde伪装的，然后到baidu的win8 吧发截图玩</li>
<li>貌似人人也没少水</li>
<li>貌似论坛也没少去，什么byr啊，jnrain啊，u 坛啊</li>
</ul>
<hr>
<h2 id="学习python">学习python</h2><h3 id="Why_python">Why python</h3><p>本来是学习sage的，因为看到ustc有个<a href="http://home.ustc.edu.cn/~wyfyw/iSL/" target="_blank" rel="external">创新项目</a>就是推广这个的。最后发现很多python的东西，于是学python去了。</p>
<h3 id="折腾大略">折腾大略</h3><ul>
<li>首先配置vim找到了<a href="https://github.com/klen/python-mode" target="_blank" rel="external">python-mode</a>,看视频demo很棒，于是折腾了一天，终于能比较方便的使用了，结果是把supertab插件废掉，系统默认python改成2了，x输入法在vim中用不了了，暂时也许永久地用起了神奇的vimim.</li>
<li>见byr坛上有连两个帖子热议python,结果是先选了python2</li>
<li>看看<a href="http://woodpecker.org.cn/abyteofpython_cn/chinese/" target="_blank" rel="external">python 简明教程</a>感觉看着很平滑，没有这么挫败感。一口气看到第九章</li>
</ul>
<hr>
<h2 id="搜集OS娘">搜集OS娘</h2><p>是的，我好好学习了OS娘的相关知识，并搜集了<a href="http://photo.renren.com/photo/306127150/album-647659933?curPage=1" target="_blank" rel="external">一大堆OS娘的图片</a></p>
<p><img src="http://fmn.rrimg.com/fmn065/20120710/1325/p_large_8tXz_2508000054681263.jpg" alt="OS girl"></p>
<hr>
<h2 id="总结一下吧">总结一下吧</h2><p>这两天过得及其惨不忍睹，为什么每天跑一个小时步说感冒就感冒？我在电脑前时间太长了吧……所以<em>回家不带电脑</em>，最好明天也别碰</p>
<p>这两天过得及其二逼，一早起床坐到电脑前，到晚上念念不舍上床，偶尔吃饭出去下，喝水活动下，上厕所闲逛下……目测旁边忙着dota的和我一样……</p>
<p>身子更弱了……</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#这段代码测试高亮</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"珍爱生命，远离折腾"</span></span><br></pre></td></tr></table></figure>
<p>靠，我该洗洗睡了……</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/lisp/2012/07/09/land-of-lisp/" itemprop="url">
                  land of lisp读书笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-07-09T00:00:00+08:00" content="2012-07-09">
              2012-07-09
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/lisp/" itemprop="url" rel="index">
                    <span itemprop="name">lisp</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/lisp/2012/07/09/land-of-lisp/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="lisp/2012/07/09/land-of-lisp/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="Happy_Hacking">Happy Hacking</h1><p>我第一次读这本书，便被其浓郁的黑客风格与幽默所吸引，它向我展示了common lisp这门语言强大与趣味的一面。之前从来没有试着度过原版图书，但看到这么可爱一本书，竟然吸引我一边用着取词软件一边用着google翻译给看完了。</p>
<p>说是看完了，其实有很多地方都是略略而过，与其说我是学习了一遍common lisp，不如说是大致了解了一下它。很多东西像AI，程序设计，算法的东西都是云里雾里，好在作者假设读者什么也不知道，详细而幽默的解说引人入胜，看起来虽然很累但趣味性十足。所以，即使是lisp菜鸟，这本书也是很推荐。<a href="好像此书就是为了初学者设计的……">^1</a></p>
<p>说说我学到的：学到了很多优秀而强大的common lisp技术，在有些地方还进行了自己的hack，甚至学到了服务器、http协议、svg和html、博弈算法的一些东西。</p>
<p>也说说从这本书中衍生的新想法：</p>
<ul>
<li><p>lisp做web应用还是蛮好的，正好弥补lisp缺乏图形界面库的短版，</p>
</li>
<li><p>common lisp强大但复杂，也许scheme才是我心仪的语言<a href="对一个信奉KISS原则的人尤其如此想，特别是崇尚极简主义的人呢">^2</a></p>
</li>
<li><p>语言障碍仍然是个很大的问题，要好好学习英语这门世界性语言。</p>
</li>
</ul>
<p>将我4月26日至7月7日的读书笔记集合在这里,虽然水平很烂但斗胆放在这里，希望对他人有帮助</p>
<hr>
<p><a href="http://reverland.org/tags.html#land-of-lisp-ref">land of lisp读书笔记</a></p>
<hr>
<p>忽然发现这个还在草稿里……</p>
<p>2012年09月22日 星期六 13时26分44秒</p>
<h2 id="Footnotes">Footnotes</h2>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/lisp/2012/07/07/dice-of-doom-v4/" itemprop="url">
                  Dice of Doom v4
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-07-07T00:00:00+08:00" content="2012-07-07">
              2012-07-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/lisp/" itemprop="url" rel="index">
                    <span itemprop="name">lisp</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/lisp/2012/07/07/dice-of-doom-v4/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="lisp/2012/07/07/dice-of-doom-v4/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="最终版的Dice_of_Doom">最终版的Dice of Doom</h1><p>这个游戏终于结束了，基本上这本书的主要内容也算看完了。实际上，我根本就写不出这些东西，源码也读的云里雾里。但这是一本很有趣的书，我想看完htdp之后用htdp推荐风格重新处理下这本书的代码，顺便也复习一下。</p>
<h2 id="让Dice_of_Doom_更加的有趣">让Dice of Doom 更加的有趣</h2><p>我们上回完成的版本虽然很棒，但总缺乏些什么。因为之前程序的设计，我们可以很轻易的扩展它，让它变得更有趣</p>
<p>先加载我们之前的游戏<a href="对从官网下载的源码和书中的源码可能需要修改，具体参见前几篇读书笔记。">^1</a></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(load &#34;dice-v3&#34;);</span><br></pre></td></tr></table></figure>
<h3 id="增加玩家数">增加玩家数</h3><p>因为我们之前的架构，增加玩家数很简单。为了增加玩家数后计算机能反应敏捷，让它变“傻”一点。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defparameter *num-players* 4)&#10;(defparameter *die-colors* &#39;((255 63 63) (63 63 255) (63 255 63) (255 63 255)))&#10;(defparameter *max-dice* 5)&#10;(defparameter *ai-level* 2)</span><br></pre></td></tr></table></figure>
<h3 id="建立概率节点">建立概率节点</h3><p>我们本质上是向游戏树中加入几率节点，先升级attacking-moves函数，增加个board-attack-fail分支。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun attacking-moves (board cur-player spare-dice)&#10;  (labels ((player (pos)&#10;             (car (aref board pos)))&#10;           (dice (pos)&#10;             (cadr (aref board pos))))&#10;    (lazy-mapcan (lambda (src)&#10;                   (if (eq (player src) cur-player)&#10;                     (lazy-mapcan&#10;                       (lambda (dst)&#10;                         (if (and (not (eq (player dst) cur-player))&#10;                                  (&#62; (dice src) 1))&#10;                           (make-lazy (list (list (list src dst)&#10;                                                  (game-tree (board-attack board cur-player src dst (dice src))&#10;                                                             cur-player&#10;                                                             (+ spare-dice (dice dst))&#10;                                                             nil)&#10;                                                  (game-tree (board-attack-fail board cur-player src dst (dice src))&#10;                                                             cur-player&#10;                                                             (+ spare-dice (dice dst))&#10;                                                             nil))))&#10;                           (lazy-nil)))&#10;                       (make-lazy (neighbors src)))&#10;                     (lazy-nil)))&#10;                 (make-lazy (loop for n below *board-hexnum*&#10;                                  collect n)))))</span><br></pre></td></tr></table></figure>
<p>board-attack-fail函数遍历所有位置。如果这个位置是攻击方就只能留下一个骰子</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun board-attack-fail (board player src dst dice)&#10;  (board-array (loop for pos from 0&#10;                     for hex across board&#10;                     collect (if (eq pos src)&#10;                               (list player 1)&#10;                               hex))))</span><br></pre></td></tr></table></figure>
<h3 id="让骰子滚动起来">让骰子滚动起来</h3><p>一下程序让一堆骰子滚动起来，并判断谁赢了</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;rolling the dice&#10;(defun roll-dice (dice-num)&#10;  (let ((total (loop repeat dice-num&#10;                     sum (1+ (random 6)))))&#10;    (fresh-line)&#10;    (format t &#34;On ~a dice rolled ~a. &#34; dice-num total)&#10;    total))&#10;(defun roll-against (src-dice dst-dice)&#10;  (&#62; (roll-dice src-dice) (roll-dice dst-dice)))</span><br></pre></td></tr></table></figure>
<p>我们还需要在游戏引擎中调用让骰子滚动的代码,选出正确的子树</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun pick-chance-branch (board move)&#10;  (labels ((dice (pos)&#10;             (cadr (aref board pos))))&#10;    (let ((path (car move)))&#10;      (if (or (null path) (roll-against (dice (car path))&#10;                                        (dice (cadr path))))&#10;        (cadr move)&#10;        (caddr move)))))</span><br></pre></td></tr></table></figure>
<p>更新handle-computer函数让它调用选择几率分支的函数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun handle-human (tree)&#10;  (fresh-line)&#10;  (princ &#34;choose your move:&#34;)&#10;  (let ((moves (caddr tree)))&#10;    (labels ((print-moves (moves n)&#10;               (unless (lazy-null moves)&#10;                 (let* ((move (lazy-car moves))&#10;                        (action (car move)))&#10;                   (fresh-line)&#10;                   (format t &#34;~a. &#34; n)&#10;                   (if action&#10;                     (format t &#34;~a -&#62; ~a&#34; (car action) (cadr action))&#10;                     (princ &#34;end turn&#34;)))&#10;                 (print-moves (lazy-cdr moves) (1+ n)))))&#10;      (print-moves moves 1))&#10;    (fresh-line)&#10;    (pick-chance-branch (cadr tree) (lazy-nth (1- (read)) moves))))</span><br></pre></td></tr></table></figure>
<p>同样我们可以处理handle-computer函数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun handle-computer (tree)&#10;  (let ((ratings (get-ratings (limit-tree-depth tree *ai-level*) (car tree))))&#10;    (pick-chance-branch&#10;      (cadr tree)&#10;      (lazy-nth (position (apply #&#39;max ratings) ratings) (caddr tree)))))</span><br></pre></td></tr></table></figure>
<h3 id="升级AI">升级AI</h3><p>但现在还有个问题，AI还没有考虑骰子的滚动，依然认为骰子多的一定获胜。因此需要更新AI。</p>
<p>根据概率论原理，我们可以得到这样一个矩阵来表征攻击成功的概率</p>
<table>
<thead>
<tr>
<th style="text-align:center">防守方\攻击方</th>
<th style="text-align:center">2</th>
<th style="text-align:center">3</th>
<th style="text-align:center">4</th>
<th style="text-align:center">5</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0.84</td>
<td style="text-align:center">0.97</td>
<td style="text-align:center">1.0</td>
<td style="text-align:center">1.0</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">0.44</td>
<td style="text-align:center">0.78</td>
<td style="text-align:center">0.94</td>
<td style="text-align:center">0.99</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">0.15</td>
<td style="text-align:center">0.45</td>
<td style="text-align:center">0.74</td>
<td style="text-align:center">0.91</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">0.04</td>
<td style="text-align:center">0.19</td>
<td style="text-align:center">0.46</td>
<td style="text-align:center">0.72</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">0.01</td>
<td style="text-align:center">0.06</td>
<td style="text-align:center">0.22</td>
<td style="text-align:center">0.46</td>
</tr>
</tbody>
</table>
<p>现在把这个概率交给计算机，更新get-ratings函数,给评分加权</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun get-ratings (tree player)&#10;  (let ((board (cadr tree)))&#10;    (labels ((dice (pos)&#10;               (cadr (aref board pos))))&#10;      (take-all (lazy-mapcar&#10;                  (lambda (move)&#10;                    (let ((path (car move)))&#10;                      (if path&#10;                        (let* ((src (car path))&#10;                               (dst (cadr path))&#10;                               (odds (aref (aref *dice-odds*&#10;                                                 (1- (dice dst)))&#10;                                           (- (dice src) 2))))&#10;                          (+ (* odds (rate-position (cadr move) player))&#10;                             (* (- 1 odds) (rate-position (caddr move)&#10;                                                          player))))&#10;                        (rate-position (cadr move) player))))&#10;                  (caddr tree))))))</span><br></pre></td></tr></table></figure>
<p>为了让修剪游戏树的函数能工作，还需要做些修改让它能处理新的游戏树。同时为了简化不再使用alpha-beta算法。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun limit-tree-depth (tree depth)&#10;  (list (car tree)&#10;        (cadr tree)&#10;        (if (zerop depth)&#10;          (lazy-nil)&#10;          (lazy-mapcar (lambda (move)&#10;                         (cons (car move)&#10;                               (mapcar (lambda (x)&#10;                                         (limit-tree-depth x (1- depth)))&#10;                                       (cdr move))))&#10;                       (caddr tree)))))&#10;;We mapcar across the tail of each move, so trimming is performed on&#10;;both branches of any chance nodes.</span><br></pre></td></tr></table></figure>
<h3 id="改进增援方案">改进增援方案</h3><p>之前是依据消灭敌人多少来决定增援骰子数。现在我们换一种方法：依据占据的最大领地来决定增援多少。这使游戏的地缘性更加复杂。</p>
<p>回想我们之前在<a href="http://reverland.org/Tech/2012/05/01/grand-theft-wumpus/">wumpus游戏</a>里写过的相似函数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun get-connected (board player pos)&#10;  (labels ((check-pos (pos visited)&#10;             (if (and (eq (car (aref board pos)) player)&#10;                      (not (member pos visited)))&#10;               (check-neighbors (neighbors pos) (cons pos visited))&#10;               visited))&#10;           (check-neighbors (lst visited)&#10;             (if lst&#10;               (check-neighbors (cdr lst) (check-pos (car lst) visited))&#10;               visited)))&#10;    (check-pos pos &#39;())))</span><br></pre></td></tr></table></figure>
<p>获得最大的集群,最后添加援军，注意，spare-dice仍然作为参数传递但已经不再被add-new-dice使用了。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun largest-cluster-size (board player)&#10;  (labels ((f (pos visited best)&#10;             (if (&#60; pos *board-hexnum*)&#10;               (if (and (eq (car (aref board pos)) player)&#10;                        (not (member pos visited)))&#10;                 (let* ((cluster (get-connected board player pos))&#10;                        (size (length cluster)))&#10;                   (if (&#62; size best)&#10;                     (f (1+ pos) (append cluster visited) size)&#10;                     (f (1+ pos) (append cluster visited) best)))&#10;                 (f (1+ pos) visited best))&#10;               best)))&#10;    (f 0 &#39;() 0)))&#10;(defun add-new-dice (board player spare-dice)&#10;  (labels ((f (lst n)&#10;             (cond ((zerop n) lst)&#10;                   ((null lst) nil)&#10;                   (t (let ((cur-player (caar lst))&#10;                            (cur-dice (cadar lst)))&#10;                        (if (and (eq cur-player player) (&#60; cur-dice *max-dice*))&#10;                          (cons (list cur-player (1+ cur-dice))&#10;                                (f (cdr lst) (1- n)))&#10;                          (cons (car lst) (f (cdr lst) n))))))))&#10;    (board-array (f (coerce board &#39;list)&#10;                   (largest-cluster-size board player)))))</span><br></pre></td></tr></table></figure>
<p>享受你的劳动成果吧</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(serve #&#39;dod-request-handleer)</span><br></pre></td></tr></table></figure>
<h2 id="疑问">疑问</h2><p>我发现我可以选中任何自己的领地，只要上面的骰子数大于2。我可以攻击任何强大的敌人，而且一定能成功。不知道哪里的更改或错误！！</p>
<hr>
<h2 id="Footnotes">Footnotes</h2>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/math/2012/07/05/" itemprop="url">
                  概率论与数理统计基础
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-07-05T00:00:00+08:00" content="2012-07-05">
              2012-07-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/math/" itemprop="url" rel="index">
                    <span itemprop="name">math</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/math/2012/07/05/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="math/2012/07/05//" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="概率论与数理统计基础">概率论与数理统计基础</h1><h2 id="为什么有了这篇文章">为什么有了这篇文章</h2><p>按以往的风格，大概是我想做什么所以就做了什么。但这次不太一样，首先是代人上数学实验课，matlab搞得我云里雾里，一年前深以为然并给我很大影响的东西都忘到九霄云外了，老师布置个聚类分析的练习一点都不会，完全不知怎么下手。其次加上忙着准备考研，无心折腾这折腾那，虽然很有意思……，再次网上看到满天的牛，飞过来飞过去，那个自惭形晦。好了，我胡言乱语，莫深究什么意思。</p>
<p>想想一年了，在各个领域摸爬滚打之后发现自己一无是处，收获在哪里？只能说开阔了视野，告诉自己很多东西我曾经也知道过，思考过，选择过。</p>
<p>下午看了看概率论与统计，想到自己当初拿着好几本讲R的书学习的日子，现在连个痕迹都没有留下，数学建模学到的东西也忘的精光，唉，先看看基础吧。然后回到寝室，忽然就想试试sagemath和markdown……</p>
<h2 id="概率论基本概念">概率论基本概念</h2><p>先来个全概率公式：<br>     设实验E的样本空间为S，A为E的事件，$B_1,\cdots,B_n $为S的一个划分，且 $P(B_i) &gt; 0 (i = 1,2,\cdots,n)$,则</p>
<p>$$<br>P(A)=\sum_{i=1}^n P(A \vert B_i)P(B_i)<br>$$</p>
<p>再来个贝叶斯公式：</p>
<p>$$<br>P(B_i \vert A) = \frac{P(A \vert B_i)P(B<em>i)}{\sum</em>{j=1}^n P(A|B_j)P(B_j)} , i=1,2,\cdots ,n.<br>$$</p>
<p>A,B,C三个事件相互独立</p>
<p>$$<br>\begin{equation<em>}<br>\left.<br>\begin{array}{l}<br>P(AB)=P(A)P(B) \<br>P(BC)=P(B)P(C) \<br>P(AC)=P(A)P(C) \<br>P(ABC)=P(A)P(B)P(C)<br>\end{array}<br>\right}<br>\end{equation</em>}<br>$$</p>
<h2 id="离散随机变量常见分布">离散随机变量常见分布</h2><p>先来个(0-1)分布<a href="表格做的好难看……有空再改吧">^1</a></p>
<table>
<thead>
<tr>
<th>X</th>
<th style="text-align:center">0</th>
<th style="text-align:center">1</th>
</tr>
</thead>
<tbody>
<tr>
<td>$P_k$</td>
<td style="text-align:center">1-p</td>
<td style="text-align:center">p</td>
</tr>
</tbody>
</table>
<p>二项分布,记为$X \sim b(n,p)$</p>
<p>$$<br>P{X=k}=\binom{n}{k}p^kq^{n-k},k=0,1,2,\cdots,n.<br>$$</p>
<p>泊松分布,记做$X \sim \pi(\lambda)$</p>
<p>$$<br>P{X = k}=\frac{\lambda^ke^{-\lambda}}{k!},k=0,1,2,\cdots,<br>$$</p>
<p>泊松定理</p>
<p>$$<br>\lim\limits_{n\to \infty} \binom{n}{k}p_n^k(1-p_n)^{n-k} = \frac{\lambda^ke^{-\lambda}}{k!}<br>$$</p>
<h2 id="三种连续型随机变量">三种连续型随机变量</h2><p>###均匀分布</p>
<p>概率密度函数，图中取$b=2,a=1$。</p>
<p>$$<br>\begin{equation}<br>f(x)=\left{<br>\begin{array}{l}<br>\frac{1}{b-a},a &lt; x &lt; b \<br>0, else<br>\end{array}<br>\right.<br>\end{equation}<br>$$</p>
<p><img src="http://fmn.rrfmn.com/fmn058/20120705/2310/p_large_Wt1C_4925000043391261.jpg" hight="200" width="400" alt="均匀分布概率密度"></p>
<p>其分布函数为</p>
<p>$$<br>\begin{equation}<br>F(x)=\left{<br>\begin{array}{l}<br>0,  x&lt;a \<br>\frac{x-a}{b-a}, a \leq x &lt; b \<br>1, x \geq b<br>\end{array}<br>\right.<br>\end{equation}<br>$$</p>
<p><img src="http://fmn.rrimg.com/fmn059/20120705/2310/p_large_DfWR_4925000043381261.jpg" hight="200" width="400" alt="均匀分布分布函数"></p>
<h2 id="指数分布">指数分布</h2><p>概率分布函数，图像中红、蓝、绿三种颜色曲线分别是$\theta$取0.5、1、2时所绘制。</p>
<p>$$<br>\begin{equation}<br>f(x)=\left{<br>\begin{array}{l}<br>\frac{1}{\theta}e^{-\frac{x}{\theta}}, x &gt; 0,\<br>0, else,<br>\end{array}<br>\right.<br>\end{equation}<br>$$</p>
<p><img src="http://fmn.rrimg.com/fmn056/20120705/2310/p_large_sWxZ_49250000433a1261.jpg" hight="200" width="400" alt="指数分布概率密度"></p>
<p>分布函数</p>
<p>$$<br>\begin{equation}<br>F(x)=\left{<br>\begin{array}{l}<br>1-e^{-\frac{x}{\theta}}, x &gt; 0,\<br>0, else,<br>\end{array}<br>\right.<br>\end{equation}<br>$$</p>
<p><img src="http://fmn.rrfmn.com/fmn058/20120705/2310/p_large_KHxd_49250000433b1261.jpg" hight="200" width="400" alt="指数函数分布函数"></p>
<h2 id="正态分布">正态分布</h2><p>概率密度函数,图中$\mu$为0,红、蓝、绿三种颜色图像分别取$\sigma=0.5,1,2$。</p>
<p>$$<br>f(x)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\frac{(x-\mu)^2}{2\sigma^2}},-\infty &lt; x &lt;\infty<br>$$</p>
<p><img src="http://fmn.rrimg.com/fmn059/20120705/2310/p_large_PZvg_49250000433c1261.jpg" hight="200" width="400" alt="正态分布概率密度函数"></p>
<p>分布函数</p>
<p>$$<br>F(x)=\frac{1}{\sqrt{2\pi}\sigma}\int_{-\infty}^x e^{-\frac{(x-\mu)^2}{2\sigma^2}} dt<br>$$</p>
<hr>
<h2 id="后记">后记</h2><p>markdown+mathjax不是一般蛋疼啊……，<code>\$B_i,B_j\$</code>总把<code>i,B</code>给强调了，让它以代码形式mathjax又不解析了……最近看不进英文的文档了，mathjax的文档胡乱翻了半天什么也没记住……</p>
<p>textile倒好，可没想到出现更奇葩的<code>P(C)</code>竟然解析成P &#169; ……<code>= =</code></p>
<p>总之，I hate math，以后再也不自己瞎折腾了……</p>
<h2 id="Changelog">Changelog</h2><p>###2012年07月06日 星期五 08时18分46秒</p>
<p>早上爬起来看看mathjax文档，然后试试发现昨天的奇葩问题消失了……懒得折腾的孩子们参考这里处理：<a href="http://doswa.com/2011/07/20/mathjax-in-markdown.html" target="_blank" rel="external">MathJax in Markdown</a>,想折腾的可以去折腾什么pandoc<a href="据说是haskell写的">^2</a>的……</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/lisp/2012/07/02/webdice-of-doom/" itemprop="url">
                  基于web的Dice of Doom
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-07-02T00:00:00+08:00" content="2012-07-02">
              2012-07-02
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/lisp/" itemprop="url" rel="index">
                    <span itemprop="name">lisp</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/lisp/2012/07/02/webdice-of-doom/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="lisp/2012/07/02/webdice-of-doom/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="基于web的Dice_of_Doom游戏">基于web的Dice of Doom游戏</h1><p>眼看最后两章了,虽然AI那里云山雾罩,然而看到web又精神为之一震,真是看得高潮迭起啊。作者也很给力，直接用html5来编写web应用，把svg直接嵌入到html中。可惜作者用的是firefox3.7 alpha，为了在我的archlinux x86_64的firefox12上运行良好，还是多废了些心机。这章看着很爽。</p>
<h2 id="绘制游戏元素">绘制游戏元素</h2><p>毋庸置疑，所有游戏界面要用svg画出来，于是我们之前写得 <a href="/lisp/2012/06/16/dsl/">svg库</a> 要派上用场了。什么？已经没有了？那么从该书主页上下载<a href="http://landoflisp.com/source.html" target="_blank" rel="external">svg.lisp</a>.</p>
<p>由于要创建个基于web的应用程序，之前的<a href="/lisp/2012/05/12/web-server-written-in-lisp/">webserver</a>也需要加载。</p>
<p>当然还有我们的游戏新引擎<a href="/lisp/2012/06/29/dice-of-doom-v2/">Dice of Doom v2</a></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(cd &#34;~/Documents/lisp&#34;) &#10;(load &#34;dice_of_doom_v2&#34;)&#10;(load &#34;webserver&#34;)&#10;(load &#34;svg.lisp&#34;)</span><br></pre></td></tr></table></figure>
<p>然后需要先设定一些常数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defparameter *board-width* 900);&#38754;&#26495;&#23485;&#24230;&#10;(defparameter *board-height* 500);&#38754;&#26495;&#39640;&#24230;&#10;(defparameter *board-scale* 64);&#38754;&#26495;&#32553;&#25918;&#27604;&#20363;&#10;(defparameter *top-offset* 3);&#20004;&#25694;&#36215;&#26469;&#30340;&#39600;&#23376;&#30456;&#23545;&#20301;&#31227;&#10;(defparameter *dice-scale* 40);&#39600;&#23376;&#32553;&#25918;&#27604;&#20363;&#10;(defparameter *dot-size* 0.05);&#39600;&#23376;&#19978;&#28857;&#30340;&#22823;&#23567;</span><br></pre></td></tr></table></figure>
<p>接下来画骰子</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun draw-die-svg (x y col)&#10;  (labels ((calc-pt (pt)&#10;             (cons (+ x (* *dice-scale* (car pt)))&#10;                   (+ y (* *dice-scale* (cdr pt)))))&#10;           (f (pol col)&#10;             (polygon (mapcar #&#39;calc-pt pol) col)))&#10;    (f &#39;((0 . -1) (-0.6 . -0.75) (0 . -0.5) (0.6 . -0.75))&#10;       (brightness col 40))&#10;    (f &#39;((0 . -0.5) (-0.6 . -0.75) (-0.6 . 0) (0 . 0.25))&#10;       col)&#10;    (f &#39;((0 . -0.5) (0.6 . -0.75) (0.6 . 0) (0 . 0.25))&#10;       (brightness col -40))&#10;    (mapc (lambda (x y)&#10;            (polygon (mapcar (lambda (xx yy)&#10;                               (calc-pt (cons (+ x (* xx *dot-size*))&#10;                                              (+ y (* yy *dot-size*)))))&#10;                             &#39;(-1 -1 1 1)&#10;                             &#39;(-1 1 1 -1))&#10;                     &#39;(255 255 255)))&#10;          &#39;(-0.05 0.125 0.3 -0.3 -0.125 0.05 0.2 0.2 0.45 0.45 -0.45 -0.2)&#10;          &#39;(-0.875 -0.80 -0.725 -0.775 -0.70 -0.625 -0.35 -0.05 -0.45 -0.15 -0.45 -0.05))))&#10;;(with-open-file (*standard-output* &#34;die.svg&#34; :direction :output :if-exists :supersede) (svg 100 100 (draw-die-svg 50 50 &#39;(255 0 0))))</span><br></pre></td></tr></table></figure>
<p>再画一小块面板</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun draw-tile-svg (x y pos hex xx yy col chosen-tile)&#10;  (loop for z below 2&#10;        do (polygon (mapcar (lambda (pt)&#10;                              (cons (+ xx (* *board-scale* (car pt)))&#10;                                    (+ yy (* *board-scale*&#10;                                             (+ (cdr pt) (* (- 1 z) 0.1))))))&#10;                            &#39;((-1 . -0.2) (0 . -0.5) (1 . -0.2)&#10;                                          (1 . 0.2) (0 . 0.5) (-1 . 0.2)))&#10;                    (if (eql pos chosen-tile)&#10;                      (brightness col 100)&#10;                      col)))&#10;  (loop for z below (second hex)&#10;        do (draw-die-svg (+ xx&#10;                            (* *dice-scale*&#10;                               0.3&#10;                               (if (oddp (+ x y z))&#10;                                 -0.3&#10;                                 0.3)))&#10;                         (- yy (* *dice-scale* z 0.8)) col)))&#10;&#10;;(with-open-file (*standard-output* &#34;tile.svg&#34; :direction :output) (svg 300 300 (draw-tile-svg 0 0 0 &#39;(0 3) 100 150 &#39;(255 0 0) nil)))</span><br></pre></td></tr></table></figure>
<p>接下来是整个面板</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;Draw the Board&#10;(defparameter *die-colors* &#39;((255 63 63) (63 63 255)))&#10;(defun draw-board-svg (board chosen-tile legal-tiles)&#10;  (loop for y below *board-size*&#10;        do (loop for x below *board-size*&#10;                 for pos = (+ x (* *board-size* y))&#10;                 for hex = (aref board pos)&#10;                 for xx = (* *board-scale* (+ (* 2 x) (- *board-size* y)))&#10;                 for yy = (* *board-scale* (+ (* y 0.7) *top-offset*))&#10;                 for col = (brightness (nth (first hex) *die-colors*)&#10;                                       (* -15 (- *board-size* y)))&#10;                 do (if (member pos legal-tiles)&#10;                      (tag g ()&#10;                        (tag a (&#34;xlink:href&#34; (make-game-link pos))&#10;                          (draw-tile-svg x y pos hex xx yy col chosen-tile)))&#10;                      (draw-tile-svg x y pos hex xx yy col chosen-tile)))))&#10;(defun make-game-link (pos)&#10;  (format nil &#34;/game.html?chosen=~a&#34; pos))&#10;;(with-open-file (*standard-output* &#34;board.svg&#34; :direction :output :if-exists :supersede) (svg *board-width* *board-height* (draw-board-svg (gen-board) nil nil)))</span><br></pre></td></tr></table></figure>
<p>这有个问题，之前我们svg宏不是像上文中那样定义的，svg宏需要稍加修改，具体参见本书的<a href="http://landoflisp.com/errata.html" target="_blank" rel="external">errata</a></p>
<h2 id="建立Web服务器">建立Web服务器</h2><p>先写游戏的驱动</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defparameter *cur-game-tree* nil);&#21021;&#22987;&#21270;&#24403;&#21069;&#28216;&#25103;&#26641;&#10;(defparameter *from-tile* nil);&#36873;&#25321;&#30340;&#19968;&#29255;&#38754;&#26495;&#10;&#10;(defun dod-request-handler (path header params)&#10;  (if (equal path &#34;game.html&#34;)&#10;    (progn (princ &#34;HTTP/1.1 200 OK&#10;&#10;                  &#60;!doctype html&#62;&#10;                  &#60;html&#62;&#60;head&#62;&#60;/head&#62;&#60;body&#62;&#34;)&#10;           (tag center ()&#10;             (princ &#34;Welcome to DICE OF DOOM!&#34;)&#10;             (tag br ())&#10;             (let ((chosen (assoc &#39;chosen params)))&#10;               (when (or (not *cur-game-tree*) (not chosen))&#10;                 (setf chosen nil)&#10;                 (web-initialize))&#10;               (cond ((lazy-null (caddr *cur-game-tree*))&#10;                      (web-announce-winner (cadr *cur-game-tree*)))&#10;                     ((zerop (car *cur-game-tree*))&#10;                      (web-handle-human&#10;                        (when chosen&#10;                          (read-from-string (cdr chosen)))))&#10;                     (t (web-handle-computer))))&#10;             (tag br ())&#10;             (draw-dod-page *cur-game-tree* *from-tile*))&#10;           (princ &#34;&#60;/body&#62;&#60;/html&#62;&#34;)) &#10;    (princ &#34;Sorry... I don&#39;t know that page.&#34;)))</span><br></pre></td></tr></table></figure>
<p>在这里我稍作修改，更改了服务器返回给浏览器的信息，使它更加符合标准能在firefox12中运行正常。</p>
<p>我们只做了一个超级简化的服务器，功能弱爆了，但作者许诺能在最后一章很轻易的扩展。之后我们处理些基于webserver的函数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun web-initialize ()&#10;  (setf *from-tile* nil)&#10;  (setf *cur-game-tree* (game-tree (gen-board) 0 0 t)))&#10;;&#23459;&#24067;&#32988;&#32773;web version&#10;(defun web-announce-winner (board)&#10;  (fresh-line)&#10;  (let ((w (winners board)))&#10;    (if (&#62; (length w ) 1)&#10;      (format t &#34;The game is a tie between ~a&#34; (mapcar #&#39;player-letter w))&#10;      (format t &#34;The winner is ~a&#34; (player-letter (car w)))))&#10;  (tag a (href &#34;game.html&#34;)&#10;    (princ &#34; play again&#34;)))&#10;;&#22788;&#29702;&#20154;&#31867;&#29609;&#23478;&#10;(defun web-handle-human (pos)&#10;  (cond ((not pos) (princ &#34;Please choose a hex to move from:&#34;))&#10;        ((eq pos &#39;pass) (setf *cur-game-tree*&#10;                              (cadr (lazy-car (caddr *cur-game-tree*))))&#10;                        (princ &#34;Your reinforcements have been placed.&#34;)&#10;                        (tag a (href (make-game-link nil))&#10;                          (princ &#34;continue&#34;)))&#10;        ((not *from-tile*) (setf *from-tile* pos)&#10;                           (princ &#34;Now choose a destination:&#34;))&#10;        ((eq pos *from-tile*) (setf *from-tile* nil)&#10;                              (princ &#34;Move cancelled.&#34;))&#10;        (t (setf *cur-game-tree*&#10;                 (cadr (lazy-find-if (lambda (move)&#10;                                       (equal (car move)&#10;                                              (list *from-tile* pos)))&#10;                                     (caddr *cur-game-tree*))))&#10;           (setf *from-tile* nil)&#10;           (princ &#34;You may now &#34;)&#10;           (tag a (href (make-game-link &#39;pass))&#10;             (princ &#34;pass&#34;))&#10;           (princ &#34; or make another move:&#34;))))&#10;;&#22788;&#29702;&#35745;&#31639;&#26426;&#29609;&#23478;&#10;(defun web-handle-computer ()&#10;  (setf *cur-game-tree* (handle-computer *cur-game-tree*))&#10;  (princ &#34;The computer has moved. &#34;)&#10;  (tag script ()&#10;    (princ&#10;      &#34;window.setTimeout(&#39;window.location=\&#34;game.html?chosen=NIL\&#34;&#39;,3000)&#34;)));javascript&#65292;&#25913;&#25104;3&#31186;&#20102;&#65292;&#24863;&#35273;5&#31186;&#22312;&#25105;&#36825;&#37324;&#22826;&#24930;&#20102;</span><br></pre></td></tr></table></figure>
<p>然后在html中绘制svg游戏面板时有些tweak，首先是svg，你遵照之前errata提到的修正svg宏后才能正常显示，否则只显示一小块或完全看不到时可别吃惊。另外是作者定义两次点击同一片游戏面板代表取消，但它的legal-tile（合法面板）中却没有包含本身，以致于不能正常取消选中。我做了如下修改，把当前选中的游戏面板添加进合法面板中。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;caXXXXXXXdr&#8230;&#8230;&#20197;&#21518;&#25105;&#35201;&#29992;firstsecond&#25913;&#20889;&#10;(defun draw-dod-page (tree selected-tile)&#10;  (svg *board-width* ;svg&#35201;&#26356;&#25913;&#65281;&#65281;&#10;       *board-height* &#10;       (draw-board-svg (cadr tree)&#10;                       selected-tile&#10;                       (cons selected-tile;what I add &#10;                             (take-all (if selected-tile&#10;                                   (lazy-mapcar&#10;                                     (lambda (move)&#10;                                       (when (eql (caar move)&#10;                                                  selected-tile)&#10;                                         (cadar move)))&#10;                                     (caddr tree))&#10;                                   (lazy-mapcar #&#39;caar (caddr tree))))))))</span><br></pre></td></tr></table></figure>
<p>然后很显然，enjoy我们基于网络的游戏吧</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(serve #&#39;dod-request-handler)</span><br></pre></td></tr></table></figure>
<hr>

<h2 id="游戏截图">游戏截图</h2><p>截个图看看效果</p>
<p><img src="http://fmn.rrimg.com/fmn064/20120702/1345/p_large_vHyz_01a000007c271262.jpg!" alt=""></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/lisp/2012/06/29/dice-of-doom-v2/" itemprop="url">
                  Dice of Doom v2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-06-29T00:00:00+08:00" content="2012-06-29">
              2012-06-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/lisp/" itemprop="url" rel="index">
                    <span itemprop="name">lisp</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/lisp/2012/06/29/dice-of-doom-v2/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="lisp/2012/06/29/dice-of-doom-v2/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="Dice_of_Doom_v2">Dice of Doom v2</h1><p>我已经不怎么看得懂在讲什么了，所以胡言乱语请见谅,有几个问题:</p>
<h1 id="记不起之前的游戏树什么样了，我又懒得回头去看。是不是某种决策树？">记不起之前的游戏树什么样了，我又懒得回头去看。是不是某种决策树？</h1><h1 id="不停的函数接着函数扩展看起来很方便，但又要求你时刻记得之前实现的细节，以实现正确的改进">不停的函数接着函数扩展看起来很方便，但又要求你时刻记得之前实现的细节，以实现正确的改进</h1><h1 id="作者的编程风格，以后还是按htdp里说的玩去吧，起码不会像现在这样晕。">作者的编程风格，以后还是按htdp里说的玩去吧，起码不会像现在这样晕。</h1><h1 id="英语还是障碍啊，有时候看完一大段文字后不知道在讲什么，囧了。">英语还是障碍啊，有时候看完一大段文字后不知道在讲什么，囧了。</h1><h2 id="Dice_of_Doom_v2-1">Dice of Doom v2</h2><p>首先加载之前我们完成的 <a href="/lisp/2012/05/23/dice-of-doom/">Dice of Doom</a> 源码和为惰性求值所实现的一系列库文件。没有的话就从land of lisp网站上下载吧，话说这本书真贵要40刀左右，豆瓣上竟然380元人民币……</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(load &#34;dice_of_doom_v1.lisp&#34;)&#10;(load &#34;lazy.lisp&#34;)</span><br></pre></td></tr></table></figure>
<p>然后先把游戏board扩大到4x4。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defparameter *board-size* 4)&#10;(defparameter *board-hexnum* (* *board-size* *board-size*))</span><br></pre></td></tr></table></figure>
<p>下面把Dice of Doom游戏全面lazy化吧</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun add-passing-move (board player spare-dice first-move moves)&#10;  (if first-move&#10;    moves&#10;    (lazy-cons (list nil&#10;                     (game-tree (add-new-dice board player&#10;                                              (1- spare-dice))&#10;                                (mod (1+ player) *num-players*)&#10;                                0&#10;                                t))&#10;               moves)))&#10;(defun attacking-moves (board cur-player spare-dice)&#10;  (labels ((player (pos)&#10;             (car (aref board pos)))&#10;           (dice (pos)&#10;             (cadr (aref board pos))))&#10;    (lazy-mapcan&#10;      (lambda (src)&#10;        (if (eq (player src) cur-player)&#10;          (lazy-mapcan&#10;            (lambda (dst)&#10;              (if (and (not (eq (player dst)&#10;                                cur-player))&#10;                       (&#62; (dice src) (dice dst)))&#10;                (make-lazy&#10;                  (list (list (list src dst)&#10;                              (game-tree (board-attack board&#10;                                                       cur-player&#10;                                                       src&#10;                                                       dst&#10;                                                       (dice src))&#10;                                         cur-player&#10;                                         (+ spare-dice (dice dst))&#10;                                         nil))))&#10;                (lazy-nil)))&#10;            (make-lazy (neighbors src)))&#10;          (lazy-nil)))&#10;      (make-lazy (loop for n below *board-hexnum*&#10;                       collect n)))))</span><br></pre></td></tr></table></figure>
<p>注意lazy-mapcan要求被创建的列表是惰性的，现在你知道htdp标明每个函数输入输出的习惯多好了吧……</p>
<p>lazy化handle-human函数和play-vs-human函数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun handle-human (tree)&#10;  (fresh-line)&#10;  (princ &#34;choose your move:&#34;)&#10;  (let ((moves (caddr tree)))&#10;    (labels ((print-moves (moves n)&#10;               (unless (lazy-null moves)&#10;                 (let* ((move (lazy-car moves))&#10;                        (action (car move)))&#10;                   (fresh-line)&#10;                   (format t &#34;~a. &#34; n)&#10;                   (if action&#10;                     (format t &#34;~a -&#62; ~a&#34; (car action) (cadr action))&#10;                     (princ &#34;end turn&#34;)))&#10;                 (print-moves (lazy-cdr moves) (1+ n)))))&#10;      (print-moves moves 1))&#10;    (fresh-line)&#10;    (cadr (lazy-nth (1- (read)) moves))))&#10;(defun play-vs-human (tree)&#10;  (print-info tree)&#10;  (if (not (lazy-null (caddr tree)))&#10;    (play-vs-human (handle-human tree))&#10;    (announce-winner (cadr tree))))</span><br></pre></td></tr></table></figure>
<p>现在你可以试试人人对战了，速度不错。</p>
<h2 id="让AI运行在更大的游戏区域">让AI运行在更大的游戏区域</h2><p>对AI的惰性化之前，我们先做一些修剪的工作，这是对AI决策树/游戏树算法的优化[1]。</p>
<p>我们现在的AI很尽职尽责的搜索计算所有的可能的结果。但在大的游戏面板中这样很累，为了在效率上取得平衡，限制AI的考虑决策树深度</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun limit-tree-depth (tree depth)&#10;  (list (car tree)&#10;        (cadr tree)&#10;        (if (zerop depth)&#10;          (lazy-nil)&#10;          (lazy-mapcar (lambda (move)&#10;                         (list (car move)&#10;                               (limit-tree-depth (cadr move) (1- depth))))&#10;                       (caddr tree)))))&#10;(defparameter *ai-level* 4)&#10;(defun handle-computer (tree)&#10;  (let ((ratings (get-ratings (limit-tree-depth tree *ai-level*)&#10;                              (car tree))))&#10;    (cadr (lazy-nth (position (apply #&#39;max ratings) ratings)&#10;                    (caddr tree)))))&#10;(defun play-vs-computer (tree)&#10;  (print-info tree)&#10;  (cond ((lazy-null (caddr tree)) (announce-winner (cadr tree)))&#10;        ((zerop (car tree)) (play-vs-computer (handle-human tree)))&#10;        (t (play-vs-computer (handle-computer tree)))))</span><br></pre></td></tr></table></figure>
<p>我没看懂……已经深深迷失在car cadr caddr的海洋之中，总之它限制了AI的思考深度，让它把评分限制在4步之内。[2]</p>
<h3 id="启发算法[3]">启发算法[3]</h3><p>让AI只思考较少的深度来实现投入和产出的统一。</p>
<p>让我们用更复杂的启发算法来重新对游戏面板评分:对一个自己的地盘，如果附近有比自己强大的敌人则评分1,否则则评分2。若该地盘属于对手则评分为-1</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun score-board (board player)&#10;  (loop for hex across board&#10;        for pos from 0&#10;        sum (if (eq (car hex) player)&#10;              (if (threatened pos board)&#10;                1&#10;                2)&#10;              -1)))&#10;;&#38468;&#36817;&#26377;&#26356;&#22810;&#39600;&#23376;&#30340;&#20301;&#32622;&#26377;&#23041;&#32961;&#10;(defun threatened (pos board)&#10;  (let* ((hex (aref board pos))&#10;         (player (car hex))&#10;         (dice (cadr hex)))&#10;    (loop for n in (neighbors pos)&#10;          do (let* ((nhex (aref board n))&#10;                    (nplayer (car nhex))&#10;                    (ndice (cadr nhex)))&#10;               (when (and (not (eq player nplayer)) (&#62; ndice dice))&#10;                 (return t))))))</span><br></pre></td></tr></table></figure>
<p>有意思的是，关于启发式作者这么说：在开发这个例子时，我模拟了使用不同版本score-board的各种对手，这个版本效果很好，开发启发式算法不是什么科学。囧～</p>
<p>惰性化get-ratings和rate-position函数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun get-ratings (tree player)&#10;  (take-all (lazy-mapcar (lambda (move)&#10;                           (rate-position (cadr move) player))&#10;                         (caddr tree))))&#10;(defun rate-position (tree player)&#10;  (let ((moves (caddr tree)))&#10;    (if (not (lazy-null moves))&#10;      (apply (if (eq (car tree) player)&#10;               #&#39;max&#10;               #&#39;min)&#10;             (get-ratings tree player))&#10;      (score-board (cadr tree) player))))</span><br></pre></td></tr></table></figure>
<p>现在可以试试和计算机过招了。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(play-vs-computer (game-tree (gen-board) 0 0 t))</span><br></pre></td></tr></table></figure>
<p>据说先行者有优势，计算机大概有3/4的几率获胜。</p>
<h3 id="alpha-beta_算法[4]">alpha-beta 算法[4]</h3><p> @此部分不只所云，请见谅。@</p>
<p>AI实际上执行一种深度优先搜索。</p>
<p>alpha-beta算法是把已知的一定更差的子树从决策树中剪掉的算法，熟称剪枝算法。</p>
<p>本游戏中游戏树的顶端上是最大最小算法，非顶端上是score-board评分……</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun ab-get-ratings-max (tree player upper-limit lower-limit)&#10;  (labels ((f (moves lower-limit)&#10;             (unless (lazy-null moves)&#10;               (let ((x (ab-rate-position (cadr (lazy-car moves))&#10;                                          player&#10;                                          upper-limit&#10;                                          lower-limit)))&#10;                 (if (&#62;= x upper-limit)&#10;                   (list x)&#10;                   (cons x (f (lazy-cdr moves) (max x lower-limit))))))))&#10;    (f (caddr tree) lower-limit)))&#10;&#10;(defun ab-get-ratings-min (tree player upper-limit lower-limit)&#10;  (labels ((f (moves upper-limit)&#10;             (unless (lazy-null moves)&#10;               (let ((x (ab-rate-position (cadr (lazy-car moves))&#10;                                          player&#10;                                          upper-limit&#10;                                          lower-limit)))&#10;                 (if (&#60;= x lower-limit)&#10;                   (list x)&#10;                   (cons x (f (lazy-cdr moves) (min x upper-limit))))))))&#10;    (f (caddr tree) upper-limit)))&#10;&#10;(defun ab-rate-position (tree player upper-limit lower-limit)&#10;  (let ((moves (caddr tree)))&#10;    (if (not (lazy-null moves))&#10;      (if (eq (car tree) player)&#10;        (apply #&#39;max (ab-get-ratings-max tree&#10;                                         player&#10;                                         upper-limit&#10;                                         lower-limit))&#10;        (apply #&#39;min (ab-get-ratings-min tree&#10;                                         player&#10;                                         upper-limit&#10;                                         lower-limit)))&#10;      (score-board (cadr tree) player))))</span><br></pre></td></tr></table></figure>
<p>这三个函数怎么实现及实现什么……不知道，深感自己英语不行啊，大段大段看完不知道在讲什么，哪天有兴致了对照对弈程序基本技术再看吧……I am confused now.[6]</p>
<p>改进我们的handle-computer函数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun handle-computer (tree)&#10;  (let ((ratings (ab-get-ratings-max (limit-tree-depth tree *ai-level*)&#10;                                     (car tree)&#10;                                     most-positive-fixnum&#10;                                     most-negative-fixnum)))&#10;    (cadr (lazy-nth (position (apply #&#39;max ratings) ratings) (caddr tree)))))</span><br></pre></td></tr></table></figure>
<p>现在把游戏面板扩大到5x5</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defparameter *board-size* 5)&#10;(defparameter *board-hexnum* (* *board-size* *board-size*))</span><br></pre></td></tr></table></figure>
<p>由于我们记忆化的原因，之前的4x4面板会被缓存。为了修正这个问题重新定义neighbors函数即可。</p>
<p>实验新的经过改进的游戏</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(play-vs-computer (game-tree (gen-board) 0 0 t))</span><br></pre></td></tr></table></figure>
<h2 id="小结">小结</h2><p>本章我们使用惰性求值方法改进我们的游戏，同时通过一些优化限制AI引擎搜索的决策树数目，我们学到了以下几点：</p>
<ul>
<li>惰性列表使你有可能使用无穷的列表和数据结构，并且很有效率</li>
<li>一旦你有了lazy宏和force函数，你就可以基于此创造更复杂的惰性列表库</li>
<li>启发性算法是不完美的算法，通过一些创造性的想法可以显著提高代码的性能。在我们的例子中我们使用启发式的算法来为游戏树的顶端评分。</li>
<li>一旦我们把游戏转化为惰性树，为了限制AI思考的移动的深度我们可以优雅地[5]修剪游戏树。</li>
<li>Alpha-beta算法让我们更多地优化了性能，通过修剪不会影响AI最后所思考的移动的评分。</li>
</ul>
<hr>

<h2 id="Footnotes">Footnotes</h2><p>[^4]: 参见 “<a href="http://en.wikipedia.org/wiki/Alpha-beta_pruning&quot;:http://en.wikipedia.org/wiki/Alpha-beta_pruning" target="_blank" rel="external">http://en.wikipedia.org/wiki/Alpha-beta_pruning&quot;:http://en.wikipedia.org/wiki/Alpha-beta_pruning</a></p>
<p>[^6]: 可以先看看 “alpha-beta剪枝算法”:<a href="http://www.xqbase.com/computer/search_alphabeta.htm" target="_blank" rel="external">http://www.xqbase.com/computer/search_alphabeta.htm</a></p>
<hr>

<h2 id="废话">废话</h2><p>说实话，看不懂了，愈发的看不懂。生命中某种虚空感强烈的袭来，明知自己做的是“没有意义”，也没有人在意的的东西，可我就是关心那些。</p>
<p>有时候真是不想理人，与很多人不怎么谈得来，我不喜欢到头来毫无建树的胡扯，也不喜欢扯不喜欢的东西。可有时无话可说无人可诉，人与人的差别就是这么大，不知何时。</p>
<p>有时侯如此疯狂，讨厌别人的干扰，不能容忍自己浪费生命。在他人眼里我不也是在浪费生命？我不知道，安慰我的人永远安慰我，另一个部分人永远看不起我。</p>
<p>我应该追求哪个世界与人生？一边是迷人的，我不知道余生还有多长，不想放手错过它，但它只在我的梦中。一条在横亘在这个世界，我却没有一丝爱意。</p>
<p>也许一切都是宿命。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/others/2012/06/28/google-glasses/" itemprop="url">
                  Google glasses
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-06-28T00:00:00+08:00" content="2012-06-28">
              2012-06-28
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/others/" itemprop="url" rel="index">
                    <span itemprop="name">others</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/others/2012/06/28/google-glasses/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="others/2012/06/28/google-glasses/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>最近耳闻google I/O大会，看到个消息： <a href="http://www.guao.hk/posts/google-glass-pre-order.html" target="_blank" rel="external">开发版 Google 眼镜开始接受限量预定，1500 刀超高价格明年年初发货</a></p>
<p>然后随便上网查查，奇怪为啥这么多人吹捧。</p>
<p>先看看google的宣传片吧，有种未来触手可及的感觉。下一步就该把眼镜和人的视觉系统整合了吧，攻壳机动队全义体化的假想要实现了么？</p>
<embed src="http://player.youku.com/player.php/sid/XMzc2MzY0ODQ4/v.swf" allowfullscreen="true" quality="high" width="480" height="400" align="middle" allowscriptaccess="always" type="application/x-shockwave-flash">

<p>还有个国内吐槽版：</p>
<embed src="http://player.youku.com/player.php/sid/XMzgxNzY5OTcy/v.swf" allowfullscreen="true" quality="high" width="480" height="400" align="middle" allowscriptaccess="always" type="application/x-shockwave-flash">

<p>真欢乐……</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/lisp/2012/06/26/common-lisp/" itemprop="url">
                  Common lisp菜鸟指南(译)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-06-26T00:00:00+08:00" content="2012-06-26">
              2012-06-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/lisp/" itemprop="url" rel="index">
                    <span itemprop="name">lisp</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/lisp/2012/06/26/common-lisp/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="lisp/2012/06/26/common-lisp/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="Common_Lisp菜鸟指南">Common Lisp菜鸟指南</h1><p>翻译自<a href="http://ghostopera.org/blog/2012/06/24/the-newbie-guide-to-common-lisp/" target="_blank" rel="external">http://ghostopera.org/blog/2012/06/24/the-newbie-guide-to-common-lisp/</a> </p>
<p>进入Common Lisp的世界可能非常让人退缩，甚至对有经验的程序猿也是这样。这个语言兼有力与美，但也有许多清晰的边界和没有真正被普遍理解的开端。</p>
<p>这个指南可能将持续一段时间，但是希望它将使踏入Common Lisp的任务变得不那么可怕。</p>
<h2 id="理解Common_Lisp">理解Common Lisp</h2><p><a href="http://labs.ariel-networks.com/cl-style-guide.html" target="_blank" rel="external">Ariel Networks</a> 有个适当形式的 Common Lisp 指南。</p>
<p>The <a href="http://www.lispworks.com/documentation/HyperSpec/Front/index.htm" target="_blank" rel="external">HyperSpec</a> 有完整的 Common Lisp 文档。</p>
<p><a href="http://clqr.boundp.org/" target="_blank" rel="external">CLQR</a> 是一个好的课下载的 Common Lisp 快速参考手册。</p>
<h2 id="了解你的工具">了解你的工具</h2><h3 id="Emacs[^1]">Emacs[^1]</h3><p><a href="http://www.gnu.org/software/emacs/" target="_blank" rel="external">Emacs</a> 是一个可实用lisp高度定制的编辑器<a href="Emacs内置elisp解释器。elisp是lisp的一个变种。">^2</a>。它可以为lisp提供一个非常独特的实时开发流程。查看[David O’Toole][<a href="http://dto.github.com/notebook/]在通过Emacs和他的" target="_blank" rel="external">http://dto.github.com/notebook/]在通过Emacs和他的</a> “Blocky.io” 游戏开发系统在一个游戏中的<a href="http://blocky.io/blocky-lightning-talk-4.ogv" target="_blank" rel="external">lightning talk</a>，来查看实时开发实例。很酷不是吗？</p>
<h3 id="Steel_Bank_Common_Lisp">Steel Bank Common Lisp</h3><p>当这世界上有很多可用的 Common Lisp 实现时，<a href="http://www.sbcl.org/" target="_blank" rel="external">SBCL</a> 是非常标准的实现。它很积极的被开发着，有适合的调试器、原生线程、多平台支持。</p>
<h3 id="Quicklisp">Quicklisp</h3><p><a href="http://www.quicklisp.org/" target="_blank" rel="external">Quicklisp</a> 使得从一套丰富的由社区发展的 Common Lisp 库开始变得更容易。它允许你仅仅通过几个简单命令下载、安装和加载任何700多库中的库。它完全取代了它的前任asdf-install,如果你熟悉RubyGems，这非常相似。</p>
<h3 id="CL-Project">CL-Project</h3><p><a href="https://github.com/fukamachi/cl-project" target="_blank" rel="external">CL-Project</a> 是白手起家一个新的 Common Lisp 项目的最佳现代方法。虽然它肯定不是必须的，但是它提供了一个创建新项目的合理起点。</p>
<h3 id="Buildapp">Buildapp</h3><p><a href="http://www.xach.com/lisp/buildapp/" target="_blank" rel="external">Buildapp</a> 使得创建SBCL的可执行文件更加方便</p>
<h3 id="ASDF">ASDF</h3><p><a href="http://www.xach.com/lisp/buildapp/" target="_blank" rel="external">ASDF</a> 允许你定义你的项目的结构和依赖。你可以把它当作Ruby世界中Rake和Gemfile的杂交。</p>
<hr>

<h2 id="创建你的第一个应用程序">创建你的第一个应用程序</h2><p>我将把获取Emacs和SBCL的任务留给你自己，你可以找到所有Linux、Windows和MacOS的版本。</p>
<h3 id="安装Quicklisp和SLIME">安装Quicklisp和SLIME</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ curl -O http://beta.quicklisp.org/quicklisp.lisp</span><br><span class="line">$ sbcl --load quicklisp.lisp</span><br><span class="line">This is SBCL <span class="number">1.0</span>.<span class="number">42.52</span>, an implementation of ANSI Common Lisp.</span><br><span class="line">More information about SBCL is available at &lt;http://www.sbcl.org/&gt;.</span><br><span class="line"></span><br><span class="line">SBCL is free software, provided as is, with absolutely no warranty.</span><br><span class="line">It is mostly <span class="keyword">in</span> the public domain; some portions are provided under</span><br><span class="line">BSD-style licenses.  See the CREDITS and COPYING files <span class="keyword">in</span> the</span><br><span class="line">distribution <span class="keyword">for</span> more information.</span><br><span class="line"></span><br><span class="line">  ==== quicklisp quickstart loaded ====</span><br><span class="line"></span><br><span class="line">    To <span class="built_in">continue</span>, evaluate: (quicklisp-quickstart:install)</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(quicklisp-quickstart:install)&#10;(ql:add-to-init-file)&#10;(ql:quickload &#34;quicklisp-slime-helper&#34;)</span><br></pre></td></tr></table></figure>
<h3 id="创建应用程序">创建应用程序</h3><p>载入Emacs并键入<esc> x slime <enter>。你现在应该可以看到REPL——一个交互的lisp提示符。</enter></esc></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(ql:quickload &#34;cl-project&#34;)&#10;(cl-project:make-project #p&#34;myapp&#34;&#10;  :author &#34;Your name&#34;&#10;  :email &#34;your@email.com&#34;&#10;  :license &#34;BSD or whatever&#34;)&#10;(ql:quickload &#34;myapp&#34;)&#10;(in-package :myapp)</span><br></pre></td></tr></table></figure>
<p>现在在Emacs有scratch标签的窗口键入<esc> x cd <enter> myapp <enter> 紧接着输入 <control>x <control>f src/myapp.lisp <enter> 。你应该拥有了一个为准备极棒的编码新建立的myapp.lisp文件。</enter></control></control></enter></enter></esc></p>
<p>让我们继续添加一些东西然后试试结果</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun hello-world ()&#10;  (format t &#34;Hello world.~%&#34;))</span><br></pre></td></tr></table></figure>
<p>现在我们可以把我们的更改注入REPL，通过把光标放到最后一行并键入<control>c <control>c。通过切换到REPL键入以下内容执行我们的新函数：</control></control></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(hello-world)</span><br></pre></td></tr></table></figure>
<p>恭喜你！你在通过 Common Lisp 编程</p>
<h3 id="重启Emacs后加载你的应用^3">重启Emacs后加载你的应用<a href="Vim中类似。">^3</a></h3><p>CL-Project 在运行时更改了当前路径，使得第一次加载你的应用很简单。</p>
<p>你有3种方法把应用放到你的加载路径：</p>
<ul>
<li>为了让应用在你的当前路径，或者从应用路径启动你的Emacs或者在加载slime之前更改目录。</li>
<li>把你的应用移动到 ~/quicklisp/local-projects 它将总是有用。</li>
<li><a href="http://common-lisp.net/project/asdf/asdf/Controlling-where-ASDF-searches-for-systems.html#Controlling-where-ASDF-searches-for-systems" target="_blank" rel="external">向你的加载路径添加项目</a> 。</li>
</ul>
<p>个人选择对应用选择方法1对库文件选择方法2。</p>
<h3 id="创建可执行文件">创建可执行文件</h3><p>虽然做出有用的 Common Lisp 程序不必要创建可执行文件，它却肯定可以方便发布独立的应用。你生成的可执行文件将内嵌整个lisp环境，所以不要因二进制文件的体积感到吃惊……</p>
<p>首先，定义可执行文件的切入点</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(export &#39;main)&#10;(defun main (args)&#10;  (hello-world)&#10;  (cl-user::quit))</span><br></pre></td></tr></table></figure>
<p>你将需要下载 <a href="http://www.xach.com/lisp/buildapp/" target="_blank" rel="external">buildapp工具</a> ，指导在它的网站上。</p>
<p>现在从你的myapp目录我们可以在命令行运行buildapp去编译你的程序！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">buildapp --asdf-tree <span class="variable">$HOME</span>/quicklisp/dists/quicklisp/software \</span><br><span class="line">  --load-system myapp --entry myapp:main --output hello</span><br></pre></td></tr></table></figure>
<p>在程序所在目录运行你的程序</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ./hello</span><br><span class="line">Hello World.</span><br></pre></td></tr></table></figure>
<h2 id="下一步是什么？">下一步是什么？</h2><p><a href="http://www.gigamonkeys.com/book/" target="_blank" rel="external">实用Common Lisp编程</a> <a href="有中文版，田春译。">^4</a>很好的介绍Common Lisp的书。是我看的第一本对该语言介绍的书。</p>
<p><a href="http://www.cs.cmu.edu/Groups/AI/html/cltl/cltl2.html" target="_blank" rel="external">Common Lisp the Language,2nd Edition</a> Common Lisp的权威书籍</p>
<p><a href="http://www.paulgraham.com/onlisp.html" target="_blank" rel="external">On Lisp</a> [^5]提供全面的高级Lisp技术</p>
<p>你应该看看 <a href="http://landoflisp.com/" target="_blank" rel="external">Land of Lisp</a> 。它非常有趣，会是个相当愉快的阅读。</p>
<hr>

<h2 id="Footnotes">Footnotes</h2><p>[^1]: 当然可以用vim，vim中slimv正是为此而生，可参考译者的 “在Vim中使用lisp”:slimv 一文。本文中操作都可以在vim中完成,只是不要尝试用那个quicklisp-slime-helper了。</p>
<p>[^5]: 有中文版，有兴趣的同学也许可以看看 “这里”:<a href="http://115.com/folder/faujangp#lisp" target="_blank" rel="external">http://115.com/folder/faujangp#lisp</a> </p>
<hr>

<h2 id="Changelog">Changelog</h2><ul>
<li>2012年06月27日 星期三 11时03分37秒 更正一些错误。加译作者更新内容</li>
</ul>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/reviews/2012/06/23/" itemprop="url">
                  宽容
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-06-23T00:00:00+08:00" content="2012-06-23">
              2012-06-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/reviews/" itemprop="url" rel="index">
                    <span itemprop="name">reviews</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/reviews/2012/06/23/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="reviews/2012/06/23//" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="宽容">宽容</h1><p><img src="http://img3.douban.com/lpic/s3967007.jpg!" alt=""></p>
<p>昨天是个具有双重意义的一天，其一在于它是中国纪念诗人 “屈原”:<a href="http://zh.wikipedia.org/zh/%E5%B1%88%E5%8E%9F" target="_blank" rel="external">http://zh.wikipedia.org/zh/%E5%B1%88%E5%8E%9F</a> 的端午节，它也是 “阿兰·图灵”:<a href="http://zh.wikipedia.org/zh/%E5%B1%88%E5%8E%9F" target="_blank" rel="external">http://zh.wikipedia.org/zh/%E5%B1%88%E5%8E%9F</a> 诞辰一百周年。两个人类社会异类的天才，忽然间让我想起了房龙的宽容，于是找来看了看。</p>
<h2 id="Who">Who</h2><p>一串熠熠生辉的名字，他们从先辈那里接过宽容思想的火种，勇敢的传承下去。他们有的在有生之年成为众矢之的，有得英勇地站在了断头台和柴火堆，有的却得以尽享天年。他们也许有心，或许无意，但结果都做了一件事，忤逆强权，倡导宽容。</p>
<h2 id="Why">Why</h2><p>简单的说：为了生存。千万年人类谋生存求发展的模式使我们继承下来不宽容的基因。为了生存，前辈们必须团结一致，结成某种集体。个性被压制，集体的利益高于一切，一切胆敢忤逆集体权威的行为都将被视为严重如外来威胁，结果就是人类集体对异端残忍的迫害。</p>
<p>时代在进步，世界在变化。宽容能让我们融入世界和发展自己。全球化的经济推倒了很多壁垒，个人第一次有能力以个人身份参与全球市场竞争，不同的思想和文化都频繁接触和碰撞。[1]因此这时候再为了集体压制个人是不可取的，是对生产力的压制，也是对社会进步的阻碍。</p>
<p>如果说千年之前残酷的生存与恐惧造就了今日不宽容的我们，造就了高度的集体话与社会化的我们。如今我希望看到一个尊重和鼓励个性、解放个性的世界，正如佛教所认为的，每个人都有佛性，每个人都值得尊重都不应该被集体压制，那个时代已经过去，新的时代已经到来。</p>
<h3 id="What">What</h3><p>我不想罗列书中的细节，但很少有人不着眼于帝王将相的家谱来叙述历史，仅此来说，此书就值得一看。说下看完个人感想：</p>
<ul>
<li><p>社会蓬勃发展的地方都是那些思想自由的地方。而思想自由的地方一般都是贸易异常发达的地方，比如古希腊、文艺复兴时期的意大利、17世纪的荷兰。贸易的发达要求各种人都平等的对待对方、各种思想得到尊重、一致来自四面八方被迫害的人群涌入自由之邦，思想的繁荣促进了社会进步。</p>
</li>
<li><p>顺天者昌，逆天者亡。可怜的罗马帝国尤利安大帝，过早的推行宗教宽容，结果只被视为异教徒敌人被暗杀，他的梦想直到几个世纪之后才终于再有人提出。还有许多妄想以一己之力推行各种不合大势的思想的人，都出师未捷身先死，长使英雄泪满襟。房龙的笔下，历史有种大势所趋，一发不可收拾的感觉。</p>
</li>
<li><p>有意栽花花不放，无意插柳柳成阴。千年的历史看起来循环往复，人们却经常做违反初衷的事。被压迫者一边指责强者呼吁宽容，一边成为强者后却比前者更加变本加厉。他们自以为是的相信恐怖和杀戮能够扑灭思想的火种，反而思想却更加高尚和为人所知，造成极大的反作用力。世界就是这样～初衷和结果往往不一致。</p>
</li>
<li><p>柔之胜刚，弱之胜强。很多对思想自由压制的巨大破坏，并非来自暴力革命，而是来自思想的解放和传播。哪些柔弱的思想和只有柔弱思想的脆弱个人，用某种温柔的方式推进了宽容的梦想，像那许多登上断头台的烈士一样值得尊重。</p>
</li>
</ul>
<h2 id="How">How</h2><p>有把人们统一起来的精神。无论是基督教、儒家伦理、还是抵御外寇、还是贸易、还是自由博爱平等的普世价值观。对生活在两个世界的人谈宽容就是扯淡。</p>
<p>能做到的，只是尽力宽以待人，宽以待己。不以己度人。但大多人会么？</p>
<hr>

<h2 id="Footnotes">Footnotes</h2>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/13/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/15/"><i class="fa fa-angle-right"></i></a>
  </nav>



        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="Liu Yuyang" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Liu Yuyang</p>
        </div>
        <p class="site-description motion-element" itemprop="description">我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">174</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">23</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">60</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/reverland" target="_blank">
                  
                    <i class="fa fa-github"></i> GitHub
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name">Links</p>
            
              <span class="links-of-author-item">
                <a href="http://reverland.bitbucket.org/" target="_blank">曾经的的vimwiki</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://liutos.github.com/" target="_blank">Liutos</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://blog.phoenixlzx.com/" target="_blank">凤凰君</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://gndrive.org/" target="_blank">高达数字实验室</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.cherrot.com/" target="_blank">Cherrot</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://xwyam.github.com/" target="_blank">xw_y_am</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://ishell.me" target="_blank">小东</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://blog.kochiya.me/" target="_blank">AS酱</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://blog.skydark.info/" target="_blank">skydark</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://thorb.cn/" target="_blank">thorb</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.suzibin.cn/" target="_blank">doug</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://armsword.com/" target="_blank">armsword</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://zhangwenli.com/blog" target="_blank">Ovilia</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://lilydjwg.is-programmer.com/" target="_blank">仙子</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://gaohaoyang.github.io" target="_blank">HYG</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://simmer-jun.github.io" target="_blank">Simmer</a>
              </span>
            
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2011 - 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liu Yuyang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    
    

  

    <script type="text/javascript">
      var disqus_shortname = 'reverlandblog';
      var disqus_identifier = 'page/14/index.html';
      var disqus_title = '';
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  


  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>

  
    <script type="text/javascript" src="http://cdn.staticfile.org/mathjax/2.4.0/MathJax.js"></script>
    <script type="text/javascript" src="http://cdn.staticfile.org/mathjax/2.4.0/config/TeX-AMS-MML_HTMLorMML.js"></script>
  


  
  

</body>
</html>
