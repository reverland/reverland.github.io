<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
    <link href='//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Reverland, Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Reverland的行知阁" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/images/default_avatar.jpg?v=0.4.5.2" />






<meta name="description" content="我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。">
<meta property="og:type" content="website">
<meta property="og:title" content="Reverland的行知阁">
<meta property="og:url" content="http://reverland.org/page/14/index.html">
<meta property="og:site_name" content="Reverland的行知阁">
<meta property="og:description" content="我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Reverland的行知阁">
<meta name="twitter:description" content="我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> Reverland的行知阁 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Reverland的行知阁</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">开放、分享、自由与进步</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">

    

    
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/python/2012/08/22/numpy/" itemprop="url">
                  试验性NumPy教程(译)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-08-22T00:00:00+08:00" content="2012-08-22">
              2012-08-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/python/2012/08/22/numpy/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="python/2012/08/22/numpy/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="试验性的Numpy教程">试验性的Numpy教程</h1><p>原文来自<a href="http://scipy.org/Tentative_NumPy_Tutorial" target="_blank" rel="external">Tentative NumPy Tutorial</a></p>
<p><strong>目录</strong></p>
<ul>
<li>toc<br>{: toc }</li>
</ul>
<hr>
<h2 id="先决条件">先决条件</h2><p>在阅读这个教程之前，你多少需要知道点python。如果你想重新回忆下，请看看<a href="http://docs.python.org/tut/" target="_blank" rel="external">Python Tutorial</a>.</p>
<p>如果你想要运行教程中的示例，你至少需要在你的电脑上安装了以下一些软件:</p>
<ul>
<li><a href="http://www.python.org/" target="_blank" rel="external">Python</a></li>
<li><a href="http://numpy.scipy.org/" target="_blank" rel="external">NumPy</a></li>
</ul>
<p>这些是可能对你有帮助的:</p>
<ul>
<li><a href="http://ipython.scipy.org/" target="_blank" rel="external">ipython</a>是一个净强化的交互Python Shell，对探索NumPy的特性非常方便。</li>
<li><a href="http://matplotlib.sourceforge.net/" target="_blank" rel="external">matplotlib</a>将允许你绘图</li>
<li><a href="http://scipy.org/" target="_blank" rel="external">Scipy</a>在NumPy的基础上提供了很多科学模块</li>
</ul>
<h2 id="基础篇">基础篇</h2><p>NumPy的主要对象是同种元素的多维数组。这是一个所有的元素都是一种类型、通过一个正整数元组索引的元素表格(通常是元素是数字)。在NumPy中维度(dimensions)叫做轴(axes)，轴的个数叫做秩(rank)。</p>
<p>例如，在3D空间一个点的坐标<code>[1, 2, 3]</code>是一个秩为1的数组，因为它只有一个轴。那个轴长度为3.又例如，在以下例子中，数组的秩为2(它有两个维度).第一个维度长度为2,第二个维度长度为3.</p>
<pre><code>[[ <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>],
 [ <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">2.</span>]]
</code></pre><p>NumPy的数组类被称作<em>ndarray</em>。通常被称作数组。注意numpy.array和标准Python库类array.array并不相同，后者只处理一维数组和提供少量功能。更多重要ndarray对象属性有：</p>
<ul>
<li><p>ndarray.ndim</p>
<p>数组轴的个数，在python的世界中，轴的个数被称作秩</p>
</li>
<li><p>ndarray.shape</p>
<p>数组的维度。这是一个指示数组在每个维度上大小的整数元组。例如一个n排m列的矩阵，它的shape属性将是(2,3),这个元组的长度显然是秩，即维度或者ndim属性</p>
</li>
<li><p>ndarray.size</p>
<p>数组元素的总个数，等于shape属性中元组元素的乘积。</p>
</li>
<li><p>ndarray.dtype</p>
<p>一个用来描述数组中元素类型的对象，可以通过创造或指定dtype使用标准Python类型。另外NumPy提供它自己的数据类型。</p>
</li>
<li><p>ndarray.itemsize</p>
<p>数组中每个元素的字节大小。例如，一个元素类型为float64的数组itemsiz属性值为8(=64/8),又如，一个元素类型为complex32的数组item属性为4(=32/8).</p>
</li>
<li><p>ndarray.data</p>
<p>包含实际数组元素的缓冲区，通常我们不需要使用这个属性，因为我们总是通过索引来使用数组中的元素。</p>
</li>
</ul>
<h3 id="一个例子^1">一个例子<a href="在python的交互环境或ipython中">^1</a></h3><pre><code><span class="prompt">&gt;&gt;</span>&gt; from numpy  import *
&gt;&gt;&gt; a = arange(<span class="number">15</span>).reshape(<span class="number">3</span>, <span class="number">5</span>)
<span class="prompt">&gt;&gt;</span>&gt; a
array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>],
       [ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>],
       [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>]])
<span class="prompt">&gt;&gt;</span>&gt; a.shape
(<span class="number">3</span>, <span class="number">5</span>)
<span class="prompt">&gt;&gt;</span>&gt; a.ndim
<span class="number">2</span>
<span class="prompt">&gt;&gt;</span>&gt; a.dtype.name
<span class="string">'int32'</span>
<span class="prompt">&gt;&gt;</span>&gt; a.itemsize
<span class="number">4</span>
<span class="prompt">&gt;&gt;</span>&gt; a.size
<span class="number">15</span>
<span class="prompt">&gt;&gt;</span>&gt; type(a)
numpy.ndarray
<span class="prompt">&gt;&gt;</span>&gt; b = array([<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])
<span class="prompt">&gt;&gt;</span>&gt; b
array([<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])
<span class="prompt">&gt;&gt;</span>&gt; type(b)
numpy.ndarray
</code></pre><h3 id="创建数组">创建数组</h3><p>有好几种创建数组的方法。</p>
<p>例如，你可以使用<code>array</code>函数从常规的Python列表和元组创造数组。所创建的数组类型由原序列中的元素类型推导而来。</p>
<pre><code><span class="prompt">&gt;&gt;</span>&gt; from numpy  import *
&gt;&gt;&gt; a = array( [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>] )
<span class="prompt">&gt;&gt;</span>&gt; a
array([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])
<span class="prompt">&gt;&gt;</span>&gt; a.dtype
dtype(<span class="string">'int32'</span>)
<span class="prompt">&gt;&gt;</span>&gt; b = array([<span class="number">1.2</span>, <span class="number">3.5</span>, <span class="number">5.1</span>])
<span class="prompt">&gt;&gt;</span>&gt; b.dtype
dtype(<span class="string">'float64'</span>) 
</code></pre><p>一个常见的错误包括用多个数值参数调用<code>array</code>而不是提供一个由数值组成的列表作为一个参数。</p>
<pre><code>&gt;&gt;&gt; a = <span class="built_in">array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)    <span class="preprocessor"># WRONG</span>

&gt;&gt;&gt; a = <span class="built_in">array</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])  <span class="preprocessor"># RIGHT</span>
</code></pre><p>数组将序列包含序列转化成二维的数组，序列包含序列包含序列转化成三维数组等等。</p>
<pre><code>&gt;&gt;&gt; b = <span class="built_in">array</span>( [ (<span class="number">1.5</span>,<span class="number">2</span>,<span class="number">3</span>), (<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>) ] )
&gt;&gt;&gt; <span class="function">b
<span class="title">array</span><span class="params">([[ <span class="number">1.5</span>,  <span class="number">2.</span> ,  <span class="number">3.</span> ],
       [ <span class="number">4.</span> ,  <span class="number">5.</span> ,  <span class="number">6.</span> ]])</span></span>
</code></pre><p>数组类型可以在创建时显示指定</p>
<pre><code>&gt;&gt;&gt; c = <span class="built_in">array</span>( [ [<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>,<span class="number">4</span>] ], dtype=<span class="keyword">complex</span> )
&gt;&gt;&gt; <span class="function">c
<span class="title">array</span><span class="params">([[ <span class="number">1.</span>+<span class="number">0.</span>j,  <span class="number">2.</span>+<span class="number">0.</span>j],
       [ <span class="number">3.</span>+<span class="number">0.</span>j,  <span class="number">4.</span>+<span class="number">0.</span>j]])</span></span>
</code></pre><p>通常，数组的元素开始都是未知的，但是它的大小已知。因此，NumPy提供了一些使用占位符创建数组的函数。这最小化了扩展数组的需要和高昂的运算代价。</p>
<p>函数<code>function</code>创建一个全是0的数组，函数<code>ones</code>创建一个全1的数组，函数<code>empty</code>创建一个内容随机并且依赖与内存状态的数组。默认创建的数组类型(dtype)都是float64。</p>
<pre><code>&gt;&gt;&gt; zeros( (<span class="number">3</span>,<span class="number">4</span>) )
<span class="built_in">array</span>([[<span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>],
       [<span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>],
       [<span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>]])
&gt;&gt;&gt; ones( (<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>), dtype=int16 )                <span class="preprocessor"># dtype can also be specified</span>
<span class="built_in">array</span>([[[ <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],
        [ <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],
        [ <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]],
       [[ <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],
        [ <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],
        [ <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]]], dtype=int16)
&gt;&gt;&gt; empty( (<span class="number">2</span>,<span class="number">3</span>) )
<span class="built_in">array</span>([[  <span class="number">3.73603959e-262</span>,   <span class="number">6.02658058e-154</span>,   <span class="number">6.55490914e-260</span>],
       [  <span class="number">5.30498948e-313</span>,   <span class="number">3.14673309e-307</span>,   <span class="number">1.00000000e+000</span>]])
</code></pre><p>为了创建一个数列，NumPy提供一个类似arange的函数返回数组而不是列表:</p>
<pre><code>&gt;&gt;&gt; arange( <span class="number">10</span>, <span class="number">30</span>, <span class="number">5</span> )
<span class="built_in">array</span>([<span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>])
&gt;&gt;&gt; arange( <span class="number">0</span>, <span class="number">2</span>, <span class="number">0.3</span> )                 <span class="preprocessor"># it accepts float arguments</span>
<span class="built_in">array</span>([ <span class="number">0.</span> ,  <span class="number">0.3</span>,  <span class="number">0.6</span>,  <span class="number">0.9</span>,  <span class="number">1.2</span>,  <span class="number">1.5</span>,  <span class="number">1.8</span>])
</code></pre><p>当<code>arange</code>使用浮点数参数时，由于有限的浮点数精度，通常无法预测获得的元素个数。因此，最好使用函数<code>linspace</code>去接收我们想要的元素个数来代替用range来指定步长。</p>
<p>其它函数array, zeros, zeros_like, ones, ones_like, empty, empty_like, arange, linspace, rand, randn, fromfunction, fromfile参考：<a href="http://scipy.org/Numpy_Example_List" target="_blank" rel="external">NumPy示例</a></p>
<h3 id="打印数组">打印数组</h3><p>当你打印一个数组，NumPy以类似嵌套列表的形式显示它，但是呈以下布局：</p>
<ul>
<li>最后的轴从左到右打印</li>
<li>次后的轴从顶向下打印</li>
<li>剩下的轴从顶向下打印，每个切片通过一个空行与下一个隔开</li>
</ul>
<p>一维数组被打印成行，二维数组成矩阵，三维数组成矩阵列表。</p>
<pre><code>&gt;&gt;&gt; a = arange(<span class="number">6</span>)                         <span class="preprocessor"># <span class="number">1</span>d array</span>
&gt;&gt;&gt; print a
[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]
&gt;&gt;&gt;
&gt;&gt;&gt; b = arange(<span class="number">12</span>).reshape(<span class="number">4</span>,<span class="number">3</span>)           <span class="preprocessor"># <span class="number">2</span>d array</span>
&gt;&gt;&gt; print b
[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>]
 [ <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>]
 [ <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>]
 [ <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]
&gt;&gt;&gt;
&gt;&gt;&gt; c = arange(<span class="number">24</span>).reshape(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)         <span class="preprocessor"># <span class="number">3</span>d array</span>
&gt;&gt;&gt; print c
[[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]
  [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]
  [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]

 [[<span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span>]
  [<span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]
  [<span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]]]
</code></pre><p>查看形状操作一节获得有关reshape的更多细节</p>
<p>如果一个数组用来打印太大了，NumPy自动省略中间部分而只打印角落</p>
<pre><code>&gt;&gt;&gt; print <span class="function">arange</span>(10000)
<span class="attr_selector">[   0    1    2 ..., 9997 9998 9999]</span>
&gt;&gt;&gt;
&gt;&gt;&gt; print <span class="function">arange</span>(10000)<span class="class">.reshape</span>(100,100)
<span class="attr_selector">[[   0    1    2 ...,   97   98   99]</span>
 <span class="attr_selector">[ 100  101  102 ...,  197  198  199]</span>
 <span class="attr_selector">[ 200  201  202 ...,  297  298  299]</span>
 ...,
 <span class="attr_selector">[9700 9701 9702 ..., 9797 9798 9799]</span>
 <span class="attr_selector">[9800 9801 9802 ..., 9897 9898 9899]</span>
 <span class="attr_selector">[9900 9901 9902 ..., 9997 9998 9999]</span>]
</code></pre><p>禁用NumPy的这种行为并强制打印整个数组，你可以设置printoptions参数来更改打印选项。</p>
<pre><code>&gt;&gt;&gt; <span class="function"><span class="title">set_printoptions</span><span class="params">(threshold=<span class="string">'nan'</span>)</span></span>
</code></pre><h3 id="基本运算">基本运算</h3><p>数组的算术运算是按元素的。新的数组被创建并且被结果填充。</p>
<pre><code>&gt;&gt;&gt; <span class="tag">a</span> = <span class="function"><span class="title">array</span><span class="params">( [<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>] )</span></span>
&gt;&gt;&gt; <span class="tag">b</span> = <span class="function"><span class="title">arange</span><span class="params">( <span class="number">4</span> )</span></span>
&gt;&gt;&gt; <span class="tag">b</span>
<span class="function"><span class="title">array</span><span class="params">([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span></span>
&gt;&gt;&gt; c = a-<span class="tag">b</span>
&gt;&gt;&gt; c
<span class="function"><span class="title">array</span><span class="params">([<span class="number">20</span>, <span class="number">29</span>, <span class="number">38</span>, <span class="number">47</span>])</span></span>
&gt;&gt;&gt; b**<span class="number">2</span>
<span class="function"><span class="title">array</span><span class="params">([<span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>])</span></span>
&gt;&gt;&gt; <span class="number">10</span>*<span class="function"><span class="title">sin</span><span class="params">(a)</span></span>
<span class="function"><span class="title">array</span><span class="params">([ <span class="number">9.12945251</span>, -<span class="number">9.88031624</span>,  <span class="number">7.4511316</span> , -<span class="number">2.62374854</span>])</span></span>
&gt;&gt;&gt; a&lt;<span class="number">35</span>
<span class="function"><span class="title">array</span><span class="params">([True, True, False, False], dtype=bool)</span></span>
</code></pre><p>不像许多矩阵语言，NumPy中的乘法运算符<code>*</code>指示按元素计算，矩阵乘法可以使用<code>dot</code>函数或创建矩阵对象实现(参见教程中的矩阵章节)</p>
<pre><code>&gt;&gt;&gt; A = <span class="built_in">array</span>( [[<span class="number">1</span>,<span class="number">1</span>],
...             [<span class="number">0</span>,<span class="number">1</span>]] )
&gt;&gt;&gt; B = <span class="built_in">array</span>( [[<span class="number">2</span>,<span class="number">0</span>],
...             [<span class="number">3</span>,<span class="number">4</span>]] )
&gt;&gt;&gt; A*B                         <span class="preprocessor"># elementwise product</span>
<span class="built_in">array</span>([[<span class="number">2</span>, <span class="number">0</span>],
       [<span class="number">0</span>, <span class="number">4</span>]])
&gt;&gt;&gt; dot(A,B)                    <span class="preprocessor"># matrix product</span>
<span class="built_in">array</span>([[<span class="number">5</span>, <span class="number">4</span>],
       [<span class="number">3</span>, <span class="number">4</span>]])
</code></pre><p>有些操作符像<code>+=</code>和<code>*=</code>被用来更改已存在数组而不创建一个新的数组。</p>
<pre><code><span class="prompt">&gt;&gt;</span>&gt; a = ones((<span class="number">2</span>,<span class="number">3</span>), dtype=int)
<span class="prompt">&gt;&gt;</span>&gt; b = random.random((<span class="number">2</span>,<span class="number">3</span>))
<span class="prompt">&gt;&gt;</span>&gt; a *= <span class="number">3</span>
<span class="prompt">&gt;&gt;</span>&gt; a
array([[<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>],
       [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>]])
<span class="prompt">&gt;&gt;</span>&gt; b += a
<span class="prompt">&gt;&gt;</span>&gt; b
array([[ <span class="number">3.69092703</span>,  <span class="number">3.8324276</span> ,  <span class="number">3.0114541</span> ],
       [ <span class="number">3.18679111</span>,  <span class="number">3.3039349</span> ,  <span class="number">3.37600289</span>]])
<span class="prompt">&gt;&gt;</span>&gt; a += b                                  <span class="comment"># b is converted to integer type</span>
<span class="prompt">&gt;&gt;</span>&gt; a
array([[<span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>],
       [<span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>]])
</code></pre><p>当运算的是不同类型的数组时，结果数组和更普遍和精确的已知(这种行为叫做upcast)。</p>
<pre><code>&gt;&gt;&gt; <span class="tag">a</span> = <span class="function"><span class="title">ones</span><span class="params">(<span class="number">3</span>, dtype=int32)</span></span>
&gt;&gt;&gt; <span class="tag">b</span> = <span class="function"><span class="title">linspace</span><span class="params">(<span class="number">0</span>,pi,<span class="number">3</span>)</span></span>
&gt;&gt;&gt; <span class="tag">b</span><span class="class">.dtype</span><span class="class">.name</span>
<span class="string">'float64'</span>
&gt;&gt;&gt; c = a+<span class="tag">b</span>
&gt;&gt;&gt; c
<span class="function"><span class="title">array</span><span class="params">([ <span class="number">1</span>.        ,  <span class="number">2.57079633</span>,  <span class="number">4.14159265</span>])</span></span>
&gt;&gt;&gt; c<span class="class">.dtype</span><span class="class">.name</span>
<span class="string">'float64'</span>
&gt;&gt;&gt; d = <span class="function"><span class="title">exp</span><span class="params">(c*<span class="number">1</span>j)</span></span>
&gt;&gt;&gt; d
array([ <span class="number">0.54030231</span>+<span class="number">0.84147098</span>j, -<span class="number">0.84147098</span>+<span class="number">0.54030231</span>j,
       -<span class="number">0.54030231</span>-<span class="number">0.84147098</span>j])
&gt;&gt;&gt; d<span class="class">.dtype</span><span class="class">.name</span>
<span class="string">'complex128'</span>
</code></pre><p>许多非数组运算，如计算数组所有元素之和，被作为ndarray类的方法实现</p>
<pre><code>&gt;&gt;&gt; <span class="tag">a</span> = random.<span class="function"><span class="title">random</span><span class="params">((<span class="number">2</span>,<span class="number">3</span>)</span></span>)
&gt;&gt;&gt; <span class="tag">a</span>
array([[ <span class="number">0.6903007</span> ,  <span class="number">0.39168346</span>,  <span class="number">0.16524769</span>],
       [ <span class="number">0.48819875</span>,  <span class="number">0.77188505</span>,  <span class="number">0.94792155</span>]])
&gt;&gt;&gt; <span class="tag">a</span>.<span class="function"><span class="title">sum</span><span class="params">()</span></span>
<span class="number">3.4552372100521485</span>
&gt;&gt;&gt; <span class="tag">a</span>.<span class="function"><span class="title">min</span><span class="params">()</span></span>
<span class="number">0.16524768654743593</span>
&gt;&gt;&gt; <span class="tag">a</span>.<span class="function"><span class="title">max</span><span class="params">()</span></span>
<span class="number">0.9479215542670073</span>
</code></pre><p>这些运算默认应用到数组好像它就是一个数字组成的列表，无关数组的形状。然而，指定<code>axis</code>参数你可以吧运算应用到数组指定的轴上：</p>
<pre><code><span class="prompt">&gt;&gt;</span>&gt; b = arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)
<span class="prompt">&gt;&gt;</span>&gt; b
array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],
       [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],
       [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])
<span class="prompt">&gt;&gt;</span>&gt;
&gt;&gt;&gt; b.sum(axis=<span class="number">0</span>)                            <span class="comment"># sum of each column</span>
array([<span class="number">12</span>, <span class="number">15</span>, <span class="number">18</span>, <span class="number">21</span>])
<span class="prompt">&gt;&gt;</span>&gt;
&gt;&gt;&gt; b.min(axis=<span class="number">1</span>)                            <span class="comment"># min of each row</span>
array([<span class="number">0</span>, <span class="number">4</span>, <span class="number">8</span>])
<span class="prompt">&gt;&gt;</span>&gt;
&gt;&gt;&gt; b.cumsum(axis=<span class="number">1</span>)                         <span class="comment"># cumulative sum along each row</span>
array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">3</span>,  <span class="number">6</span>],
       [ <span class="number">4</span>,  <span class="number">9</span>, <span class="number">15</span>, <span class="number">22</span>],
       [ <span class="number">8</span>, <span class="number">17</span>, <span class="number">27</span>, <span class="number">38</span>]])
</code></pre><h3 id="通用函数(ufunc)">通用函数(ufunc)</h3><p>NumPy提供常见的数学函数如<code>sin</code>,<code>cos</code>和<code>exp</code>。在NumPy中，这些叫作“通用函数”(ufunc)。在NumPy里这些函数作用按数组的元素运算，产生一个数组作为输出。</p>
<pre><code>&gt;&gt;&gt; B = <span class="function"><span class="title">arange</span><span class="params">(<span class="number">3</span>)</span></span>
&gt;&gt;&gt; B
<span class="function"><span class="title">array</span><span class="params">([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])</span></span>
&gt;&gt;&gt; <span class="function"><span class="title">exp</span><span class="params">(B)</span></span>
<span class="function"><span class="title">array</span><span class="params">([ <span class="number">1</span>.        ,  <span class="number">2.71828183</span>,  <span class="number">7.3890561</span> ])</span></span>
&gt;&gt;&gt; <span class="function"><span class="title">sqrt</span><span class="params">(B)</span></span>
<span class="function"><span class="title">array</span><span class="params">([ <span class="number">0</span>.        ,  <span class="number">1</span>.        ,  <span class="number">1.41421356</span>])</span></span>
&gt;&gt;&gt; C = <span class="function"><span class="title">array</span><span class="params">([<span class="number">2</span>., -<span class="number">1</span>., <span class="number">4</span>.])</span></span>
&gt;&gt;&gt; <span class="function"><span class="title">add</span><span class="params">(B, C)</span></span>
<span class="function"><span class="title">array</span><span class="params">([ <span class="number">2</span>.,  <span class="number">0</span>.,  <span class="number">6</span>.])</span></span>
</code></pre><p>更多函数all, alltrue, any, apply along axis, argmax, argmin, argsort, average, bincount, ceil, clip, conj, conjugate, corrcoef, cov, cross, cumprod, cumsum, diff, dot, floor, inner, inv, lexsort, max, maximum, mean, median, min, minimum, nonzero, outer, prod, re, round, sometrue, sort, std, sum, trace, transpose, var, vdot, vectorize, where 参见:<a href="http://scipy.org/Numpy_Example_List" target="_blank" rel="external">NumPy示例</a></p>
<h3 id="索引，切片和迭代">索引，切片和迭代</h3><p><em>一维</em>数组可以被索引、切片和迭代，就像<a href="http://docs.python.org/tutorial/introduction.html#SECTION005140000000000000000" target="_blank" rel="external">列表</a>和其它Python序列。</p>
<pre><code><span class="prompt">&gt;&gt;</span>&gt; a = arange(<span class="number">10</span>)**<span class="number">3</span>
<span class="prompt">&gt;&gt;</span>&gt; a
array([  <span class="number">0</span>,   <span class="number">1</span>,   <span class="number">8</span>,  <span class="number">27</span>,  <span class="number">64</span>, <span class="number">125</span>, <span class="number">216</span>, <span class="number">343</span>, <span class="number">512</span>, <span class="number">729</span>])
<span class="prompt">&gt;&gt;</span>&gt; a[<span class="number">2</span>]
<span class="number">8</span>
<span class="prompt">&gt;&gt;</span>&gt; a[<span class="number">2</span><span class="symbol">:</span><span class="number">5</span>]
array([ <span class="number">8</span>, <span class="number">27</span>, <span class="number">64</span>])
<span class="prompt">&gt;&gt;</span>&gt; a[<span class="symbol">:</span><span class="number">6</span><span class="symbol">:</span><span class="number">2</span>] = -<span class="number">1000</span>    <span class="comment"># equivalent to a[0:6:2] = -1000; from start to position 6, exclusive, set every 2nd element to -1000</span>
<span class="prompt">&gt;&gt;</span>&gt; a
array([-<span class="number">1000</span>,     <span class="number">1</span>, -<span class="number">1000</span>,    <span class="number">27</span>, -<span class="number">1000</span>,   <span class="number">125</span>,   <span class="number">216</span>,   <span class="number">343</span>,   <span class="number">512</span>,   <span class="number">729</span>])
<span class="prompt">&gt;&gt;</span>&gt; a[ <span class="symbol">:</span> <span class="symbol">:-</span><span class="number">1</span>]                                 <span class="comment"># reversed a</span>
array([  <span class="number">729</span>,   <span class="number">512</span>,   <span class="number">343</span>,   <span class="number">216</span>,   <span class="number">125</span>, -<span class="number">1000</span>,    <span class="number">27</span>, -<span class="number">1000</span>,     <span class="number">1</span>, -<span class="number">1000</span>])
<span class="prompt">&gt;&gt;</span>&gt; for i in <span class="symbol">a:</span>
...         print i**(<span class="number">1</span>/<span class="number">3</span>.),
...
nan <span class="number">1.0</span> nan <span class="number">3.0</span> nan <span class="number">5.0</span> <span class="number">6.0</span> <span class="number">7.0</span> <span class="number">8.0</span> <span class="number">9.0</span>
</code></pre><p><em>多维</em>数组可以每个轴有一个索引。这些索引由一个逗号分割的元组给出。</p>
<pre><code><span class="prompt">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x,y)</span>:</span>
<span class="prompt">... </span>        <span class="keyword">return</span> <span class="number">10</span>*x+y
...
<span class="prompt">&gt;&gt;&gt; </span>b = fromfunction(f,(<span class="number">5</span>,<span class="number">4</span>),dtype=int)
<span class="prompt">&gt;&gt;&gt; </span>b
array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],
       [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>],
       [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>],
       [<span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>],
       [<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>]])
<span class="prompt">&gt;&gt;&gt; </span>b[<span class="number">2</span>,<span class="number">3</span>]
<span class="number">23</span>
<span class="prompt">&gt;&gt;&gt; </span>b[<span class="number">0</span>:<span class="number">5</span>, <span class="number">1</span>]                       <span class="comment"># each row in the second column of b</span>
array([ <span class="number">1</span>, <span class="number">11</span>, <span class="number">21</span>, <span class="number">31</span>, <span class="number">41</span>])
<span class="prompt">&gt;&gt;&gt; </span>b[ : ,<span class="number">1</span>]                        <span class="comment"># equivalent to the previous example</span>
array([ <span class="number">1</span>, <span class="number">11</span>, <span class="number">21</span>, <span class="number">31</span>, <span class="number">41</span>])
<span class="prompt">&gt;&gt;&gt; </span>b[<span class="number">1</span>:<span class="number">3</span>, : ]                      <span class="comment"># each column in the second and third row of b</span>
array([[<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>],
       [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]])
</code></pre><p>当少于轴数的索引被提供时，确失的索引被认为是整个切片：</p>
<pre><code>&gt;&gt;&gt; b[-<span class="number">1</span>]                                  <span class="preprocessor"># the last row. Equivalent to b[-<span class="number">1</span>,:]</span>
<span class="built_in">array</span>([<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>])
</code></pre><p><code>b[i]</code>中括号中的表达式被当作<code>i</code>和一系列<code>:</code>，来代表剩下的轴。NumPy也允许你使用“点”像<code>b[i,...]</code>。</p>
<p><em>点</em>(…)代表许多产生一个完整的索引元组必要的分号。如果x是秩为5的数组(即它有5个轴)，那么:</p>
<ul>
<li>x[1,2,…] 等同于 x[1,2,:,:,:],</li>
<li>x[…,3] 等同于 x[:,:,:,:,3]</li>
<li>x[4,…,5,:] 等同 x[4,:,:,5,:]. </li>
</ul>
<pre><code>&lt;!--￼<span class="number">0</span>--&gt;
&gt;&gt;&gt; c = <span class="built_in">array</span>( [ [[  <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],      <span class="preprocessor"># a <span class="number">3</span>D array (two stacked <span class="number">2</span>D arrays)</span>
...               [ <span class="number">10</span>, <span class="number">12</span>, <span class="number">13</span>]],
...
...              [[<span class="number">100</span>,<span class="number">101</span>,<span class="number">102</span>],
...               [<span class="number">110</span>,<span class="number">112</span>,<span class="number">113</span>]] ] )
&gt;&gt;&gt; c.shape
(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)
&gt;&gt;&gt; c[<span class="number">1</span>,...]                          <span class="preprocessor"># same as c[<span class="number">1</span>,:,:] or c[<span class="number">1</span>]</span>
<span class="built_in">array</span>([[<span class="number">100</span>, <span class="number">101</span>, <span class="number">102</span>],
       [<span class="number">110</span>, <span class="number">112</span>, <span class="number">113</span>]])
&gt;&gt;&gt; c[...,<span class="number">2</span>]                          <span class="preprocessor"># same as c[:,:,<span class="number">2</span>]</span>
<span class="built_in">array</span>([[  <span class="number">2</span>,  <span class="number">13</span>],
       [<span class="number">102</span>, <span class="number">113</span>]])
```
</code></pre><p><em>迭代</em>多维数组是就第一个轴而言的:<a href="0轴">^2</a></p>
<pre><code>&gt;&gt;&gt; <span class="keyword">for</span> row in b:
...         print row
...
[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]
[<span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span>]
[<span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]
[<span class="number">30</span> <span class="number">31</span> <span class="number">32</span> <span class="number">33</span>]
[<span class="number">40</span> <span class="number">41</span> <span class="number">42</span> <span class="number">43</span>]
</code></pre><p>然而，如果一个人想对每个数组中元素进行运算，我们可以使用flat属性，该属性是数组元素的一个迭代器:</p>
<pre><code>&gt;&gt;&gt; <span class="keyword">for</span> element in b.flat:
...         print element,
...
<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">30</span> <span class="number">31</span> <span class="number">32</span> <span class="number">33</span> <span class="number">40</span> <span class="number">41</span> <span class="number">42</span> <span class="number">43</span>
</code></pre><p>更多[], …, newaxis, ndenumerate, indices, index exp 参考<a href="http://scipy.org/Numpy_Example_List" target="_blank" rel="external">NumPy示例</a></p>
<h2 id="形状操作">形状操作</h2><h3 id="更改数组的形状">更改数组的形状</h3><p>一个数组的形状由它每个轴上的元素个数给出：</p>
<pre><code>&gt;&gt;&gt; <span class="tag">a</span> = <span class="function"><span class="title">floor</span><span class="params">(<span class="number">10</span>*random.random((<span class="number">3</span>,<span class="number">4</span>)</span></span>))
&gt;&gt;&gt; <span class="tag">a</span>
array([[ <span class="number">7</span>.,  <span class="number">5</span>.,  <span class="number">9</span>.,  <span class="number">3</span>.],
       [ <span class="number">7</span>.,  <span class="number">2</span>.,  <span class="number">7</span>.,  <span class="number">8</span>.],
       [ <span class="number">6</span>.,  <span class="number">8</span>.,  <span class="number">3</span>.,  <span class="number">2</span>.]])
&gt;&gt;&gt; <span class="tag">a</span><span class="class">.shape</span>
(<span class="number">3</span>, <span class="number">4</span>)
</code></pre><p>一个数组的形状可以被多种命令修改：</p>
<pre><code>&gt;&gt;&gt; a.ravel() <span class="preprocessor"># flatten the array</span>
<span class="built_in">array</span>([ <span class="number">7.</span>,  <span class="number">5.</span>,  <span class="number">9.</span>,  <span class="number">3.</span>,  <span class="number">7.</span>,  <span class="number">2.</span>,  <span class="number">7.</span>,  <span class="number">8.</span>,  <span class="number">6.</span>,  <span class="number">8.</span>,  <span class="number">3.</span>,  <span class="number">2.</span>])
&gt;&gt;&gt; a.shape = (<span class="number">6</span>, <span class="number">2</span>)
&gt;&gt;&gt; a.transpose()
<span class="built_in">array</span>([[ <span class="number">7.</span>,  <span class="number">9.</span>,  <span class="number">7.</span>,  <span class="number">7.</span>,  <span class="number">6.</span>,  <span class="number">3.</span>],
       [ <span class="number">5.</span>,  <span class="number">3.</span>,  <span class="number">2.</span>,  <span class="number">8.</span>,  <span class="number">8.</span>,  <span class="number">2.</span>]])
</code></pre><p>由<code>ravel()</code>展平的数组元素的顺序通常是“C风格”的，就是说，最右边的索引变化得最快，所以元素a[0,0]之后是a[0,1]。如果数组被改变形状(reshape)成其它形状，数组仍然是“C风格”的。NumPy通常创建一个以这个顺序保存数据的数组，所以<code>ravel()</code>将总是不需要复制它的参数<a href="即self，它自己">^3</a>。但是如果数组是通过切片其它数组或有不同寻常的选项时，它可能需要被复制。函数<code>reshape()</code>和<code>ravel()</code>还可以被同过一些可选参数构建成FORTRAN风格的数组，即最左边的索引变化最快。</p>
<p><code>reshape</code>函数改变参数形状并返回它，而<code>resize</code>函数改变数组自身。</p>
<pre><code>&gt;&gt;&gt; a
array(<span class="comment">[<span class="comment">[ 7.,  5.]</span>,
       <span class="comment">[ 9.,  3.]</span>,
       <span class="comment">[ 7.,  2.]</span>,
       <span class="comment">[ 7.,  8.]</span>,
       <span class="comment">[ 6.,  8.]</span>,
       <span class="comment">[ 3.,  2.]</span>]</span>)
&gt;&gt;&gt; a.resize((2,6))
&gt;&gt;&gt; a
array(<span class="comment">[<span class="comment">[ 7.,  5.,  9.,  3.,  7.,  2.]</span>,
       <span class="comment">[ 7.,  8.,  6.,  8.,  3.,  2.]</span>]</span>)
</code></pre><p>如果在改变形状操作中一个维度被给做-1，其维度将自动被计算</p>
<p>更多 shape, reshape, resize, ravel 参考<a href="http://scipy.org/Numpy_Example_List" target="_blank" rel="external">NumPy示例</a></p>
<h3 id="组合(stack)不同的数组">组合(stack)不同的数组</h3><p>几种方法可以沿不同轴将数组堆叠在一起：</p>
<pre><code>&gt;&gt;&gt; a = floor(<span class="number">10</span>*random.random((<span class="number">2</span>,<span class="number">2</span>)))
&gt;&gt;&gt; a
array(<span class="string">[[ 1.,  1.],
       [ 5.,  8.]]</span>)
&gt;&gt;&gt; b = floor(<span class="number">10</span>*random.random((<span class="number">2</span>,<span class="number">2</span>)))
&gt;&gt;&gt; b
array(<span class="string">[[ 3.,  3.],
       [ 6.,  0.]]</span>)
&gt;&gt;&gt; vstack((a,b))
array(<span class="string">[[ 1.,  1.],
       [ 5.,  8.],
       [ 3.,  3.],
       [ 6.,  0.]]</span>)
&gt;&gt;&gt; hstack((a,b))
array(<span class="string">[[ 1.,  1.,  3.,  3.],
       [ 5.,  8.,  6.,  0.]]</span>)
</code></pre><p>函数<code>column_stack</code>以列将一维数组合成二维数组，它等同与<code>vstack</code>对一维数组。</p>
<pre><code>&gt;&gt;&gt; column_stack((a,b))   <span class="preprocessor"># With <span class="number">2</span>D arrays</span>
<span class="built_in">array</span>([[ <span class="number">1.</span>,  <span class="number">1.</span>,  <span class="number">3.</span>,  <span class="number">3.</span>],
       [ <span class="number">5.</span>,  <span class="number">8.</span>,  <span class="number">6.</span>,  <span class="number">0.</span>]])
&gt;&gt;&gt; a=<span class="built_in">array</span>([<span class="number">4.</span>,<span class="number">2.</span>])
&gt;&gt;&gt; b=<span class="built_in">array</span>([<span class="number">2.</span>,<span class="number">8.</span>])
&gt;&gt;&gt; a[:,newaxis]  <span class="preprocessor"># This allows to have a <span class="number">2</span>D columns vector</span>
<span class="built_in">array</span>([[ <span class="number">4.</span>],
       [ <span class="number">2.</span>]])
&gt;&gt;&gt; column_stack((a[:,newaxis],b[:,newaxis]))
<span class="built_in">array</span>([[ <span class="number">4.</span>,  <span class="number">2.</span>],
       [ <span class="number">2.</span>,  <span class="number">8.</span>]])
&gt;&gt;&gt; vstack((a[:,newaxis],b[:,newaxis])) <span class="preprocessor"># The behavior of vstack is different</span>
<span class="built_in">array</span>([[ <span class="number">4.</span>],
       [ <span class="number">2.</span>],
       [ <span class="number">2.</span>],
       [ <span class="number">8.</span>]])
</code></pre><p><code>row_stack</code>函数，另一方面，将一维数组以行组合成二维数组。</p>
<p>对那些维度比二维更高的数组，<code>hstack</code>沿着第二个轴组合，<code>vstack</code>沿着第一个轴组合,<code>concatenate</code>允许可选参数给出组合时沿着的轴。</p>
<p><em>Note</em></p>
<p>在复杂情况下，<code>r_[]</code>和<code>c_[]</code>对创建沿着一个方向组合的数很有用，它们允许范围符号(“:”):</p>
<pre><code>&gt;&gt;&gt; r_[<span class="number">1</span>:<span class="number">4</span>,<span class="number">0</span>,<span class="number">4</span>]
<span class="built_in">array</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span>])
</code></pre><p>当使用数组作为参数时，<code>r_</code>和<code>c_</code>的默认行为和<code>vstack</code>和<code>hstack</code>很像，但是允许可选的参数给出组合所沿着的轴的代号。</p>
<p>更多函数hstack , vstack, column_stack , row_stack , concatenate , c_ , r_<br>参见<a href="http://scipy.org/Numpy_Example_List" target="_blank" rel="external">NumPy示例</a>.</p>
<h3 id="将一个数组分割(split)成几个小数组">将一个数组分割(split)成几个小数组</h3><p>使用<code>hsplit</code>你能将数组沿着它的水平轴分割，或者指定返回相同形状数组的个数，或者指定在哪些列后发生分割:</p>
<pre><code>&gt;&gt;&gt; a = floor(<span class="number">10</span>*random.random((<span class="number">2</span>,<span class="number">12</span>)))
&gt;&gt;&gt; a
array(<span class="string">[[ 8.,  8.,  3.,  9.,  0.,  4.,  3.,  0.,  0.,  6.,  4.,  4.],
       [ 0.,  3.,  2.,  9.,  6.,  0.,  4.,  5.,  7.,  5.,  1.,  4.]]</span>)
&gt;&gt;&gt; hsplit(a,<span class="number">3</span>)   # Split a into <span class="number">3</span>
[array(<span class="string">[[ 8.,  8.,  3.,  9.],
       [ 0.,  3.,  2.,  9.]]</span>), array(<span class="string">[[ 0.,  4.,  3.,  0.],
       [ 6.,  0.,  4.,  5.]]</span>), array(<span class="string">[[ 0.,  6.,  4.,  4.],
       [ 7.,  5.,  1.,  4.]]</span>)]
&gt;&gt;&gt; hsplit(a,(<span class="number">3</span>,<span class="number">4</span>))   # Split a after the third <span class="keyword">and</span> the fourth column
[array(<span class="string">[[ 8.,  8.,  3.],
       [ 0.,  3.,  2.]]</span>), array(<span class="string">[[ 9.],
       [ 9.]]</span>), array(<span class="string">[[ 0.,  4.,  3.,  0.,  0.,  6.,  4.,  4.],
       [ 6.,  0.,  4.,  5.,  7.,  5.,  1.,  4.]]</span>)]
</code></pre><p><code>vsplit</code>沿着纵向的轴分割，<code>array split</code>允许指定沿哪个轴分割。</p>
<h2 id="复制和视图">复制和视图</h2><p>当运算和处理数组时，它们的数据有时被拷贝到新的数组有时不是。这通常是新手的困惑之源。这有三种情况:</p>
<h3 id="完全不拷贝">完全不拷贝</h3><p>简单的赋值不拷贝数组对象或它们的数据。</p>
<pre><code><span class="prompt">&gt;&gt;</span>&gt; a = arange(<span class="number">12</span>)
<span class="prompt">&gt;&gt;</span>&gt; b = a            <span class="comment"># no new object is created</span>
<span class="prompt">&gt;&gt;</span>&gt; b is a           <span class="comment"># a and b are two names for the same ndarray object</span>
<span class="constant">True</span>
<span class="prompt">&gt;&gt;</span>&gt; b.shape = <span class="number">3</span>,<span class="number">4</span>    <span class="comment"># changes the shape of a</span>
<span class="prompt">&gt;&gt;</span>&gt; a.shape
(<span class="number">3</span>, <span class="number">4</span>)
</code></pre><p>Python 传递不定对象作为参考<a href="形参">^4</a>，所以函数调用不拷贝数组。</p>
<pre><code><span class="prompt">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span>
<span class="prompt">... </span>    <span class="keyword">print</span> id(x)
...
<span class="prompt">&gt;&gt;&gt; </span>id(a)                           <span class="comment"># id is a unique identifier of an object</span>
<span class="number">148293216</span>
<span class="prompt">&gt;&gt;&gt; </span>f(a)
<span class="number">148293216</span>
</code></pre><h3 id="视图(view)和浅复制">视图(view)和浅复制</h3><p>不同的数组对象分享同一个数据。视图方法创造一个新的数组对象指向同一数据。</p>
<pre><code><span class="prompt">&gt;&gt;</span>&gt; c = a.view()
<span class="prompt">&gt;&gt;</span>&gt; c is a
<span class="constant">False</span>
<span class="prompt">&gt;&gt;</span>&gt; c.base is a                        <span class="comment"># c is a view of the data owned by a</span>
<span class="constant">True</span>
<span class="prompt">&gt;&gt;</span>&gt; c.flags.owndata
<span class="constant">False</span>
<span class="prompt">&gt;&gt;</span>&gt;
&gt;&gt;&gt; c.shape = <span class="number">2</span>,<span class="number">6</span>                      <span class="comment"># a's shape doesn't change</span>
<span class="prompt">&gt;&gt;</span>&gt; a.shape
(<span class="number">3</span>, <span class="number">4</span>)
<span class="prompt">&gt;&gt;</span>&gt; c[<span class="number">0</span>,<span class="number">4</span>] = <span class="number">1234</span>                      <span class="comment"># a's data changes</span>
<span class="prompt">&gt;&gt;</span>&gt; a
array([[   <span class="number">0</span>,    <span class="number">1</span>,    <span class="number">2</span>,    <span class="number">3</span>],
       [<span class="number">1234</span>,    <span class="number">5</span>,    <span class="number">6</span>,    <span class="number">7</span>],
       [   <span class="number">8</span>,    <span class="number">9</span>,   <span class="number">10</span>,   <span class="number">11</span>]])
</code></pre><p>切片数组返回它的一个视图：</p>
<pre><code>&gt;&gt;&gt; s = a[ : , <span class="number">1</span>:<span class="number">3</span>]     <span class="preprocessor"># spaces added for clarity; could also be written <span class="string">"s = a[:,1:3]"</span></span>
&gt;&gt;&gt; s[:] = <span class="number">10</span>           <span class="preprocessor"># s[:] is a view of s. Note the difference between s=<span class="number">10</span> and s[:]=<span class="number">10</span></span>
&gt;&gt;&gt; <span class="function">a
<span class="title">array</span><span class="params">([[   <span class="number">0</span>,   <span class="number">10</span>,   <span class="number">10</span>,    <span class="number">3</span>],
       [<span class="number">1234</span>,   <span class="number">10</span>,   <span class="number">10</span>,    <span class="number">7</span>],
       [   <span class="number">8</span>,   <span class="number">10</span>,   <span class="number">10</span>,   <span class="number">11</span>]])</span></span>
</code></pre><h2 id="深复制">深复制</h2><p>这个复制方法完全复制数组和它的数据。</p>
<pre><code>&gt;&gt;&gt; d = a.copy()                          # a <span class="keyword">new</span> array <span class="class"><span class="keyword">object</span> <span class="keyword"><span class="keyword">with</span></span> <span class="title">new</span> <span class="title">data</span> <span class="title">is</span> <span class="title">created</span>
</span>&gt;&gt;&gt; d is a
<span class="type">False</span>
&gt;&gt;&gt; d.base is a                           # d doesn<span class="symbol">'t</span> share anything <span class="keyword">with</span> a
<span class="type">False</span>
&gt;&gt;&gt; d[<span class="number">0</span>,<span class="number">0</span>] = <span class="number">9999</span>
&gt;&gt;&gt; a
array([[   <span class="number">0</span>,   <span class="number">10</span>,   <span class="number">10</span>,    <span class="number">3</span>],
       [<span class="number">1234</span>,   <span class="number">10</span>,   <span class="number">10</span>,    <span class="number">7</span>],
       [   <span class="number">8</span>,   <span class="number">10</span>,   <span class="number">10</span>,   <span class="number">11</span>]])
</code></pre><h3 id="函数和方法(method)总览">函数和方法(method)总览</h3><p>这是个NumPy函数和方法分类排列目录。这些名字链接到<a href="http://scipy.org/Numpy_Example_List" target="_blank" rel="external">NumPy示例</a>,你可以看到这些函数起作用。<a href="0轴">^5</a></p>
<p><em>创建数组</em></p>
<pre><code>arange, array, copy, empty, empty_like, <span class="built_in">eye</span>, fromfile, fromfunction, identity, <span class="built_in">linspace</span>, <span class="built_in">logspace</span>, mgrid, ogrid, <span class="built_in">ones</span>, ones_like, r , <span class="built_in">zeros</span>, zeros_like 
</code></pre><p><em>转化</em></p>
<pre><code>astype, atleast <span class="number">1</span>d, atleast <span class="number">2</span>d, atleast <span class="number">3</span>d, mat 
</code></pre><p><em>操作</em></p>
<pre><code>array <span class="built_in">split</span>, column stack, concatenate, diagonal, <span class="keyword">dsplit</span>, dstack, hsplit, hstack, item, newaxis, ravel, <span class="built_in">repeat</span>, reshape, <span class="keyword">resize</span>, squeeze, swapaxes, take, transpose, <span class="keyword">vsplit</span>, vstack 
</code></pre><p><em>询问</em></p>
<pre><code><span class="built_in">all</span>, <span class="built_in">any</span>, nonzero, <span class="keyword">where</span> 
</code></pre><p><em>排序</em></p>
<pre><code>argmax, argmin, argsort, <span class="built_in">max</span>, <span class="built_in">min</span>, <span class="keyword">ptp</span>, searchsorted, <span class="built_in">sort</span> 
</code></pre><p><em>运算</em></p>
<pre><code>choose, compress, <span class="built_in">cumprod</span>, cumsum, inner, fill, <span class="built_in">imag</span>, <span class="built_in">prod</span>, put, putmask, real, <span class="built_in">sum</span> 
</code></pre><p><em>基本统计</em></p>
<pre><code><span class="built_in">cov</span>, mean, std, <span class="built_in">var</span> 
</code></pre><p><em>基本线性代数</em></p>
<pre><code><span class="built_in">cross</span>, <span class="built_in">dot</span>, outer, svd, vdot
</code></pre><h2 id="进阶">进阶</h2><h3 id="广播法则(rule)">广播法则(rule)</h3><p>广播法则能使通用函数有意义地处理不具有相同形状的输入。</p>
<p>广播第一法则是，如果所有的输入数组维度不都相同，一个“1”将被重复地添加在维度较小的数组上直至所有的数组拥有一样的维度。</p>
<p>广播第二法则确定长度为1的数组沿着特殊的方向表现地好像它有沿着那个方向最大形状的大小。对数组来说，沿着那个维度的数组元素的值理应相同。</p>
<p>应用广播法则之后，所有数组的大小必须匹配。更多细节可以从这个<a href="http://scipy.org/EricsBroadcastingDoc" target="_blank" rel="external">文档</a>找到。</p>
<h2 id="花哨的索引和索引技巧">花哨的索引和索引技巧</h2><p>NumPy比普通Python序列提供更多的索引功能。除了索引整数和切片，正如我们之前看到的，数组可以被整数数组和布尔数组索引。</p>
<h3 id="通过数组索引">通过数组索引</h3><pre><code>&gt;&gt;&gt; a = arange(<span class="number">12</span>)**<span class="number">2</span>                          <span class="preprocessor"># the first <span class="number">12</span> square numbers</span>
&gt;&gt;&gt; i = <span class="built_in">array</span>( [ <span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">5</span> ] )                 <span class="preprocessor"># an array of indices</span>
&gt;&gt;&gt; a[i]                                       <span class="preprocessor"># the elements of a at the positions i</span>
<span class="built_in">array</span>([ <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">9</span>, <span class="number">64</span>, <span class="number">25</span>])
&gt;&gt;&gt;
&gt;&gt;&gt; j = <span class="built_in">array</span>( [ [ <span class="number">3</span>, <span class="number">4</span>], [ <span class="number">9</span>, <span class="number">7</span> ] ] )         <span class="preprocessor"># a bidimensional array of indices</span>
&gt;&gt;&gt; a[j]                                       <span class="preprocessor"># the same shape as j</span>
<span class="built_in">array</span>([[ <span class="number">9</span>, <span class="number">16</span>],
       [<span class="number">81</span>, <span class="number">49</span>]])
</code></pre><p>当被索引数组a是多维的时，每一个唯一的索引数列指向a的第一维<a href="0轴">^5</a>。以下示例通过将图片标签用调色版转换成色彩图像展示了这种行为。</p>
<pre><code>&gt;&gt;&gt; palette = <span class="built_in">array</span>( [ [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],                <span class="preprocessor"># black</span>
...                    [<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>],              <span class="preprocessor"># red</span>
...                    [<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>],              <span class="preprocessor"># green</span>
...                    [<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>],              <span class="preprocessor"># blue</span>
...                    [<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>] ] )       <span class="preprocessor"># white</span>
&gt;&gt;&gt; image = <span class="built_in">array</span>( [ [ <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span> ],           <span class="preprocessor"># each value corresponds to a color in the palette</span>
...                  [ <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">0</span> ]  ] )
&gt;&gt;&gt; palette[image]                            <span class="preprocessor"># the (<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>) color image</span>
<span class="built_in">array</span>([[[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>],
        [<span class="number">255</span>,   <span class="number">0</span>,   <span class="number">0</span>],
        [  <span class="number">0</span>, <span class="number">255</span>,   <span class="number">0</span>],
        [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>]],
       [[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>],
        [  <span class="number">0</span>,   <span class="number">0</span>, <span class="number">255</span>],
        [<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>],
        [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>]]])
</code></pre><p>我们也可以给出不不止一维的索引，每一维的索引数组必须有相同的形状。</p>
<pre><code>&gt;&gt;&gt; a = arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)
&gt;&gt;&gt; a
array(<span class="string">[[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]]</span>)
&gt;&gt;&gt; i = array( [ [<span class="number">0</span>,<span class="number">1</span>],                        # indices <span class="keyword">for</span> the first dim of a
...              [<span class="number">1</span>,<span class="number">2</span>] ] )
&gt;&gt;&gt; j = array( [ [<span class="number">2</span>,<span class="number">1</span>],                        # indices <span class="keyword">for</span> the second dim
...              [<span class="number">3</span>,<span class="number">3</span>] ] )
&gt;&gt;&gt;
&gt;&gt;&gt; a[i,j]                                     # i <span class="keyword">and</span> j must have equal shape
array(<span class="string">[[ 2,  5],
       [ 7, 11]]</span>)
&gt;&gt;&gt;
&gt;&gt;&gt; a[i,<span class="number">2</span>]
array(<span class="string">[[ 2,  6],
       [ 6, 10]]</span>)
&gt;&gt;&gt;
&gt;&gt;&gt; a[:,j]                                     # i.e., a[ : , j]
array(<span class="string">[[[ 2,  1],
        [ 3,  3]]</span>,
       <span class="string">[[ 6,  5],
        [ 7,  7]]</span>,
       <span class="string">[[10,  9],
        [11, 11]]</span>])
</code></pre><p>自然，我们可以把i和j放到序列中(比如说列表)然后通过list索引。</p>
<pre><code>&gt;&gt;&gt; l = [i,j]
&gt;&gt;&gt; a[l]                                       <span class="preprocessor"># equivalent to a[i,j]</span>
<span class="built_in">array</span>([[ <span class="number">2</span>,  <span class="number">5</span>],
       [ <span class="number">7</span>, <span class="number">11</span>]])
</code></pre><p>然而，我们不能把i和j放在一个数组中，因为这个数组将被解释成索引a的第一维。</p>
<pre><code><span class="prompt">&gt;&gt;</span>&gt; s = array( [i,j] )
<span class="prompt">&gt;&gt;</span>&gt; a[s]                                       <span class="comment"># not what we want</span>
---------------------------------------------------------------------------
<span class="constant">IndexError</span>                                <span class="constant">Traceback</span> (most recent call last)
&lt;ipython-input-<span class="number">100</span>-b912f631cc75&gt; <span class="keyword">in</span> &lt;<span class="class"><span class="keyword">module</span>&gt;()</span>
----&gt; <span class="number">1</span> a[s]

<span class="constant">IndexError</span><span class="symbol">:</span> index (<span class="number">3</span>) out of range (<span class="number">0</span>&lt;=index&lt;<span class="number">2</span>) <span class="keyword">in</span> dimension <span class="number">0</span>
<span class="prompt">&gt;&gt;</span>&gt;
&gt;&gt;&gt; a[tuple(s)]                                <span class="comment"># same as a[i,j]</span>
array([[ <span class="number">2</span>,  <span class="number">5</span>],
       [ <span class="number">7</span>, <span class="number">11</span>]])
</code></pre><p>另一个常用的数组索引用法是搜索时间序列最大值<a href="我也不知道在翻译什么了……">^6</a>。</p>
<pre><code><span class="prompt">&gt;&gt;</span>&gt; time = linspace(<span class="number">20</span>, <span class="number">145</span>, <span class="number">5</span>)                 <span class="comment"># time scale</span>
<span class="prompt">&gt;&gt;</span>&gt; data = sin(arange(<span class="number">20</span>)).reshape(<span class="number">5</span>,<span class="number">4</span>)         <span class="comment"># 4 time-dependent series</span>
<span class="prompt">&gt;&gt;</span>&gt; time
array([  <span class="number">20</span>.  ,   <span class="number">51.25</span>,   <span class="number">82.5</span> ,  <span class="number">113.75</span>,  <span class="number">145</span>.  ])
<span class="prompt">&gt;&gt;</span>&gt; data
array([[ <span class="number">0</span>.        ,  <span class="number">0</span>.<span class="number">84147098</span>,  <span class="number">0</span>.<span class="number">90929743</span>,  <span class="number">0</span>.<span class="number">14112001</span>],
       [-<span class="number">0</span>.<span class="number">7568025</span> , -<span class="number">0</span>.<span class="number">95892427</span>, -<span class="number">0</span>.<span class="number">2794155</span> ,  <span class="number">0</span>.<span class="number">6569866</span> ],
       [ <span class="number">0</span>.<span class="number">98935825</span>,  <span class="number">0</span>.<span class="number">41211849</span>, -<span class="number">0</span>.<span class="number">54402111</span>, -<span class="number">0</span>.<span class="number">99999021</span>],
       [-<span class="number">0</span>.<span class="number">53657292</span>,  <span class="number">0</span>.<span class="number">42016704</span>,  <span class="number">0</span>.<span class="number">99060736</span>,  <span class="number">0</span>.<span class="number">65028784</span>],
       [-<span class="number">0</span>.<span class="number">28790332</span>, -<span class="number">0</span>.<span class="number">96139749</span>, -<span class="number">0</span>.<span class="number">75098725</span>,  <span class="number">0</span>.<span class="number">14987721</span>]])
<span class="prompt">&gt;&gt;</span>&gt;
&gt;&gt;&gt; ind = data.argmax(axis=<span class="number">0</span>)                   <span class="comment"># index of the maxima for each series</span>
<span class="prompt">&gt;&gt;</span>&gt; ind
array([<span class="number">2</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>])
<span class="prompt">&gt;&gt;</span>&gt;
&gt;&gt;&gt; time_max = time[ ind]                       <span class="comment"># times corresponding to the maxima</span>
<span class="prompt">&gt;&gt;</span>&gt;
&gt;&gt;&gt; data_max = data[ind, xrange(data.shape[<span class="number">1</span>])] <span class="comment"># =&gt; data[ind[0],0], data[ind[1],1]...</span>
<span class="prompt">&gt;&gt;</span>&gt;
&gt;&gt;&gt; time_max
array([  <span class="number">82.5</span> ,   <span class="number">20</span>.  ,  <span class="number">113.75</span>,   <span class="number">51.25</span>])
<span class="prompt">&gt;&gt;</span>&gt; data_max
array([ <span class="number">0</span>.<span class="number">98935825</span>,  <span class="number">0</span>.<span class="number">84147098</span>,  <span class="number">0</span>.<span class="number">99060736</span>,  <span class="number">0</span>.<span class="number">6569866</span> ])
<span class="prompt">&gt;&gt;</span>&gt;
&gt;&gt;&gt; all(data_max == data.max(axis=<span class="number">0</span>))
<span class="constant">True</span>
</code></pre><p>你也可以使用数组索引作为目标来赋值：</p>
<pre><code>&gt;&gt;&gt; <span class="tag">a</span> = <span class="function"><span class="title">arange</span><span class="params">(<span class="number">5</span>)</span></span>
&gt;&gt;&gt; <span class="tag">a</span>
<span class="function"><span class="title">array</span><span class="params">([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span></span>
&gt;&gt;&gt; <span class="tag">a</span>[[<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>]] = <span class="number">0</span>
&gt;&gt;&gt; <span class="tag">a</span>
<span class="function"><span class="title">array</span><span class="params">([<span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>])</span></span>
</code></pre><p>然而，当一个索引列表包含重复时，赋值被多次完成，保留最后的值：</p>
<pre><code>&gt;&gt;&gt; a = arange(<span class="number">5</span>)
&gt;&gt;&gt; a[[<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>]]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]
&gt;&gt;&gt; <span class="function">a
<span class="title">array</span><span class="params">([<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>])</span></span>
</code></pre><p>这足够合理，但是小心如果你想用Python的<code>+=</code>结构，可能结果并非你所期望：</p>
<pre><code>&gt;&gt;&gt; <span class="tag">a</span> = <span class="function"><span class="title">arange</span><span class="params">(<span class="number">5</span>)</span></span>
&gt;&gt;&gt; <span class="tag">a</span>[[<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>]]+=<span class="number">1</span>
&gt;&gt;&gt; <span class="tag">a</span>
<span class="function"><span class="title">array</span><span class="params">([<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>])</span></span>
</code></pre><p>即使0在索引列表中出现两次，索引为0的元素仅仅增加一次。这是因为Python要求<code>a+=1</code>和<code>a=a+1</code>等同。</p>
<h3 id="通过布尔数组索引">通过布尔数组索引</h3><p>当我们使用整数数组索引数组时，我们提供一个索引列表去选择。通过布尔数组索引的方法是不同的我们显式地选择数组中我们想要和不想要的元素。</p>
<p>我们能想到的使用布尔数组的索引最自然方式就是使用和原数组一样形状的布尔数组。</p>
<pre><code><span class="prompt">&gt;&gt;&gt; </span>a = arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)
<span class="prompt">&gt;&gt;&gt; </span>b = a &gt; <span class="number">4</span>
<span class="prompt">&gt;&gt;&gt; </span>b                                          <span class="comment"># b is a boolean with a's shape</span>
array([[<span class="keyword">False</span>, <span class="keyword">False</span>, <span class="keyword">False</span>, <span class="keyword">False</span>],
       [<span class="keyword">False</span>, <span class="keyword">True</span>, <span class="keyword">True</span>, <span class="keyword">True</span>],
       [<span class="keyword">True</span>, <span class="keyword">True</span>, <span class="keyword">True</span>, <span class="keyword">True</span>]], dtype=bool)
<span class="prompt">&gt;&gt;&gt; </span>a[b]                                       <span class="comment"># 1d array with the selected elements</span>
array([ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>])
</code></pre><p>这个属性在赋值时非常有用：</p>
<pre><code>&gt;&gt;&gt; a[b] = <span class="number">0</span>                                   <span class="preprocessor"># All elements of <span class="string">'a'</span> higher than <span class="number">4</span> become <span class="number">0</span></span>
&gt;&gt;&gt; <span class="function">a
<span class="title">array</span><span class="params">([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],
       [<span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],
       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]])</span></span>
</code></pre><p>你可以参考<a href="http://scipy.org/Tentative_NumPy_Tutorial/Mandelbrot_Set_Example" target="_blank" rel="external">曼德博集合示例</a>看看如何使用布尔索引来生成曼德博集合的图像。</p>
<p>第二种通过布尔来索引的方法更近似于整数索引；对数组的每个维度我们给一个一维布尔数组来选择我们想要的切片。</p>
<pre><code>&gt;&gt;&gt; a = arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)
&gt;&gt;&gt; b1 = <span class="built_in">array</span>([False,True,True])             <span class="preprocessor"># first dim selection</span>
&gt;&gt;&gt; b2 = <span class="built_in">array</span>([True,False,True,False])       <span class="preprocessor"># second dim selection</span>
&gt;&gt;&gt;
&gt;&gt;&gt; a[b1,:]                                   <span class="preprocessor"># selecting rows</span>
<span class="built_in">array</span>([[ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],
       [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])
&gt;&gt;&gt;
&gt;&gt;&gt; a[b1]                                     <span class="preprocessor"># same thing</span>
<span class="built_in">array</span>([[ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],
       [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])
&gt;&gt;&gt;
&gt;&gt;&gt; a[:,b2]                                   <span class="preprocessor"># selecting columns</span>
<span class="built_in">array</span>([[ <span class="number">0</span>,  <span class="number">2</span>],
       [ <span class="number">4</span>,  <span class="number">6</span>],
       [ <span class="number">8</span>, <span class="number">10</span>]])
&gt;&gt;&gt;
&gt;&gt;&gt; a[b1,b2]                                  <span class="preprocessor"># a weird thing to do</span>
<span class="built_in">array</span>([ <span class="number">4</span>, <span class="number">10</span>])
</code></pre><p>注意一维数组的长度必须和你想要切片的维度或轴的长度一致，在之前的例子中，b1是一个秩为1长度为三的数组(a的行数)，b2(长度为4)与a的第二秩(列)相一致。<a href="上面最后一个例子，b1和b2中的true个数必须一致">^7</a></p>
<h3 id="ix_()函数">ix_()函数</h3><p><code>ix_</code>函数可以为了获得<a href="http://zh.wikipedia.org/wiki/%E5%A4%9A%E5%85%83%E7%BB%84" target="_blank" rel="external">多元组</a>的结果而用来结合不同向量。例如，如果你想要用所有向量a、b和c元素组成的三元组来计算<code>a+b*c</code>：</p>
<pre><code>&gt;&gt;&gt; a = array([<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])
&gt;&gt;&gt; b = array([<span class="number">8</span>,<span class="number">5</span>,<span class="number">4</span>])
&gt;&gt;&gt; c = array([<span class="number">5</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">3</span>])
&gt;&gt;&gt; ax,bx,cx = ix_(a,b,c)
&gt;&gt;&gt; ax
array(<span class="string">[[[2]]</span>,

       <span class="string">[[3]]</span>,

       <span class="string">[[4]]</span>,

       <span class="string">[[5]]</span>])
&gt;&gt;&gt; bx
array(<span class="string">[[[8],
        [5],
        [4]]</span>])
&gt;&gt;&gt; cx
array(<span class="string">[[[5, 4, 6, 8, 3]]</span>])
&gt;&gt;&gt; ax.shape, bx.shape, cx.shape
((<span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">1</span>, <span class="number">5</span>))
&gt;&gt;&gt; result = ax+bx*cx
&gt;&gt;&gt; result
array(<span class="string">[[[42, 34, 50, 66, 26],
        [27, 22, 32, 42, 17],
        [22, 18, 26, 34, 14]]</span>,
       <span class="string">[[43, 35, 51, 67, 27],
        [28, 23, 33, 43, 18],
        [23, 19, 27, 35, 15]]</span>,
       <span class="string">[[44, 36, 52, 68, 28],
        [29, 24, 34, 44, 19],
        [24, 20, 28, 36, 16]]</span>,
       <span class="string">[[45, 37, 53, 69, 29],
        [30, 25, 35, 45, 20],
        [25, 21, 29, 37, 17]]</span>])
&gt;&gt;&gt; result[<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>]
<span class="number">17</span>
&gt;&gt;&gt; a[<span class="number">3</span>]+b[<span class="number">2</span>]*c[<span class="number">4</span>]
<span class="number">17</span>
</code></pre><p>你也可以实行如下简化：</p>
<pre><code><span class="function"><span class="keyword">def</span> <span class="title">ufunc_reduce</span><span class="params">(ufct, *vectors)</span>:</span>
    vs = ix_(*vectors)
    r = ufct.identity
    <span class="keyword">for</span> v <span class="keyword">in</span> vs:
        r = ufct(r,v)
    <span class="keyword">return</span> r
</code></pre><p>然后这样使用它：</p>
<pre><code>&gt;&gt;&gt; ufunc_reduce(add,a,b,c)
<span class="built_in">array</span>([[[<span class="number">15</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">18</span>, <span class="number">13</span>],
        [<span class="number">12</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">10</span>],
        [<span class="number">11</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>,  <span class="number">9</span>]],
       [[<span class="number">16</span>, <span class="number">15</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">14</span>],
        [<span class="number">13</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">11</span>],
        [<span class="number">12</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">10</span>]],
       [[<span class="number">17</span>, <span class="number">16</span>, <span class="number">18</span>, <span class="number">20</span>, <span class="number">15</span>],
        [<span class="number">14</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">17</span>, <span class="number">12</span>],
        [<span class="number">13</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">11</span>]],
       [[<span class="number">18</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">21</span>, <span class="number">16</span>],
        [<span class="number">15</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">18</span>, <span class="number">13</span>],
        [<span class="number">14</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">17</span>, <span class="number">12</span>]]])
</code></pre><p>这个reduce与ufunc.reduce(比如说add.reduce)相比的优势在于它利用了广播法则，避免了创建一个输出大小乘以向量个数的参数数组。<a href="我不怎么明白……总之避免创建一个很大的数组。">^8</a></p>
<h3 id="用字符串索引">用字符串索引</h3><p>参见<a href="http://www.scipy.org/RecordArrays" target="_blank" rel="external">RecordArray</a>。</p>
<h2 id="线性代数">线性代数</h2><p>继续前进，基本线性代数包含在这里。</p>
<h3 id="简单数组运算">简单数组运算</h3><p>参考numpy文件夹中的linalg.py获得更多信息</p>
<pre><code>&gt;&gt;&gt; from numpy import *
&gt;&gt;&gt; from numpy.linalg import *

&gt;&gt;&gt; a = array(<span class="string">[[1.0, 2.0], [3.0, 4.0]]</span>)
&gt;&gt;&gt; <span class="built_in">print</span> a
<span class="string">[[ 1.  2.]
 [ 3.  4.]]</span>

&gt;&gt;&gt; a.transpose()
array(<span class="string">[[ 1.,  3.],
       [ 2.,  4.]]</span>)

&gt;&gt;&gt; inv(a)
array(<span class="string">[[-2. ,  1. ],
       [ 1.5, -0.5]]</span>)

&gt;&gt;&gt; u = eye(<span class="number">2</span>) # unit <span class="number">2</span>x2 matrix; <span class="string">"eye"</span> represents <span class="string">"I"</span>
&gt;&gt;&gt; u
array(<span class="string">[[ 1.,  0.],
       [ 0.,  1.]]</span>)
&gt;&gt;&gt; j = array(<span class="string">[[0.0, -1.0], [1.0, 0.0]]</span>)

&gt;&gt;&gt; dot (j, j) # matrix product
array(<span class="string">[[-1.,  0.],
       [ 0., -1.]]</span>)

&gt;&gt;&gt; trace(u)  # trace
 <span class="number">2.0</span>

&gt;&gt;&gt; y = array(<span class="string">[[5.], [7.]]</span>)
&gt;&gt;&gt; solve(a, y)
array(<span class="string">[[-3.],
       [ 4.]]</span>)

&gt;&gt;&gt; eig(j)
(array([ <span class="number">0.</span>+<span class="number">1.</span>j,  <span class="number">0.</span>-<span class="number">1.</span>j]),
array(<span class="string">[[ 0.70710678+0.j,  0.70710678+0.j],
       [ 0.00000000-0.70710678j,  0.00000000+0.70710678j]]</span>))
Parameters:
    square matrix

Returns
    The eigenvalues, each repeated according to its multiplicity.

    The normalized (unit <span class="string">"length"</span>) eigenvectors, such that the
    column ``v[:,i]`` is the eigenvector corresponding to the
    eigenvalue ``w[i]`` .
</code></pre><h3 id="矩阵类">矩阵类</h3><p>这是一个关于矩阵类的简短介绍。</p>
<pre><code>&gt;&gt;&gt; A = matrix(<span class="string">'1.0 2.0; 3.0 4.0'</span>)
&gt;&gt;&gt; A
<span class="string">[[ 1.  2.]
 [ 3.  4.]]</span>
&gt;&gt;&gt; <span class="built_in">type</span>(A)  # file where class is defined
&lt;class <span class="string">'numpy.matrixlib.defmatrix.matrix'</span>&gt;

&gt;&gt;&gt; A.T  # transpose
<span class="string">[[ 1.  3.]
 [ 2.  4.]]</span>

&gt;&gt;&gt; X = matrix(<span class="string">'5.0 7.0'</span>)
&gt;&gt;&gt; Y = X.T
&gt;&gt;&gt; Y
<span class="string">[[5.]
 [7.]]</span>

&gt;&gt;&gt; <span class="built_in">print</span> A*Y  # matrix multiplication
<span class="string">[[19.]
 [43.]]</span>

&gt;&gt;&gt; <span class="built_in">print</span> A.I  # inverse
<span class="string">[[-2.   1. ]
 [ 1.5 -0.5]]</span>

&gt;&gt;&gt; solve(A, Y)  # solving linear equation
matrix(<span class="string">[[-3.],
        [ 4.]]</span>)
</code></pre><h3 id="索引：比较矩阵和二维数组">索引：比较矩阵和二维数组</h3><p>注意NumPy中数组和矩阵有些重要的区别。NumPy提供了两个基本的对象：一个N维数组对象和一个通用函数对象。其它对象都是建构在它们之上的。特别的，矩阵是继承自NumPy数组对象的二维数组对象。对数组和矩阵，索引都必须包含合适的一个或多个这些组合：整数标量、省略号(ellipses)、整数列表;布尔值，整数或布尔值构成的元组，和一个一维整数或布尔值数组。矩阵可以被用作矩阵的索引，但是通常需要数组、列表或者其它形式来完成这个任务。</p>
<p>像平常在Python中一样，索引是从0开始的。传统上我们用矩形的行和列表示一个二维数组或矩阵，其中沿着0轴的方向被穿过的称作行，沿着1轴的方向被穿过的是列。<a href="水平是1轴，垂直是0轴。">^9</a></p>
<p>让我们创建数组和矩阵用来切片：</p>
<pre><code>&gt;&gt;&gt; A = <span class="function"><span class="title">arange</span><span class="params">(<span class="number">12</span>)</span></span>
&gt;&gt;&gt; A
<span class="function"><span class="title">array</span><span class="params">([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>])</span></span>
&gt;&gt;&gt; A<span class="class">.shape</span> = (<span class="number">3</span>,<span class="number">4</span>)
&gt;&gt;&gt; M = <span class="function"><span class="title">mat</span><span class="params">(A.copy()</span></span>)
&gt;&gt;&gt; print <span class="function"><span class="title">type</span><span class="params">(A)</span></span>,<span class="string">"  "</span>,<span class="function"><span class="title">type</span><span class="params">(M)</span></span>
&lt;type <span class="string">'numpy.ndarray'</span>&gt;    &lt;class <span class="string">'numpy.core.defmatrix.matrix'</span>&gt;
&gt;&gt;&gt; print A
[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]
 [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]
 [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]
&gt;&gt;&gt; print M
[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]
 [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]
 [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]
</code></pre><p>现在，让我们简单的切几片。基本的切片使用切片对象或整数。例如，<code>A[:]</code>和<code>M[:]</code>的求值将表现得和Python索引很相似。然而要注意很重要的一点就是NumPy切片数组<em>不</em>创建数据的副本;切片提供统一数据的视图。</p>
<pre><code>&gt;&gt;&gt; print A[:]; print A[:].shape
[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]
 [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]
 [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]
(<span class="number">3</span>, <span class="number">4</span>)
&gt;&gt;&gt; print M[:]; print M[:].shape
[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]
 [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]
 [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]
(<span class="number">3</span>, <span class="number">4</span>)
</code></pre><p>现在有些和Python索引不同的了：你可以同时使用逗号分割索引来沿着多个轴索引。</p>
<pre><code>&gt;&gt;&gt; print A[:,<span class="number">1</span>]; print A[:,<span class="number">1</span>].shape
[<span class="number">1</span> <span class="number">5</span> <span class="number">9</span>]
(<span class="number">3</span>,)
&gt;&gt;&gt; print M[:,<span class="number">1</span>]; print M[:,<span class="number">1</span>].shape
[[<span class="number">1</span>]
 [<span class="number">5</span>]
 [<span class="number">9</span>]]
(<span class="number">3</span>, <span class="number">1</span>)
</code></pre><p>注意最后两个结果的不同。对二维数组使用一个冒号产生一个一维数组，然而矩阵产生了一个二维矩阵。<a href="`type(M[:,1])`和`type(A[:,1])`你可以看到是这样。">^10</a>例如，一个<code>M[2,:]</code>切片产生了一个形状为(1,4)的矩阵，相比之下，一个数组的切片总是产生一个最低可能维度<a href="什么叫尽可能低的维度？不懂。">^11</a>的数组。例如，如果C是一个三维数组，<code>C[...,1]</code>产生一个二维的数组而<code>C[1,:,1]</code>产生一个一维数组。从这时开始，如果相应的矩阵切片结果是相同的话，我们将只展示数组切片的结果。</p>
<p>假如我们想要一个数组的第一列和第三列，一种方法是使用列表切片：</p>
<pre><code>&gt;&gt;&gt; A[:,[<span class="number">1</span>,<span class="number">3</span>]]
<span class="built_in">array</span>([[ <span class="number">1</span>,  <span class="number">3</span>],
       [ <span class="number">5</span>,  <span class="number">7</span>],
       [ <span class="number">9</span>, <span class="number">11</span>]])
</code></pre><p>稍微复杂点的方法是使用<code>take()</code>方法(method):</p>
<pre><code>&gt;&gt;&gt; A[:,].take([<span class="number">1</span>,<span class="number">3</span>],axis=<span class="number">1</span>)
<span class="built_in">array</span>([[ <span class="number">1</span>,  <span class="number">3</span>],
       [ <span class="number">5</span>,  <span class="number">7</span>],
       [ <span class="number">9</span>, <span class="number">11</span>]])
</code></pre><p>如果我们想跳过第一行，我们可以这样：</p>
<pre><code>&gt;&gt;&gt; A[<span class="number">1</span>:,].take([<span class="number">1</span>,<span class="number">3</span>],axis=<span class="number">1</span>)
<span class="built_in">array</span>([[ <span class="number">5</span>,  <span class="number">7</span>],
       [ <span class="number">9</span>, <span class="number">11</span>]])
</code></pre><p>或者我们仅仅使用<code>A[1:,[1,3]]</code>。还有一种方法是通过矩阵向量积(叉积)。</p>
<pre><code>&gt;&gt;&gt; A[ix_((<span class="number">1</span>,<span class="number">2</span>),(<span class="number">1</span>,<span class="number">3</span>))]
<span class="built_in">array</span>([[ <span class="number">5</span>,  <span class="number">7</span>],
       [ <span class="number">9</span>, <span class="number">11</span>]])
</code></pre><p>为了读者的方便，再次写下之前的矩阵：</p>
<pre><code>&gt;&gt;&gt; print A
[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]
 [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]
 [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]
</code></pre><p>现在让我们做些更复杂的。比如说我们想要保留第一行大于1的列。一种方法是创建布尔索引：</p>
<pre><code>&gt;&gt;&gt; A[<span class="number">0</span>,:]&gt;<span class="number">1</span>
<span class="built_in">array</span>([False, False, True, True], dtype=<span class="keyword">bool</span>)
&gt;&gt;&gt; A[:,A[<span class="number">0</span>,:]&gt;<span class="number">1</span>]
<span class="built_in">array</span>([[ <span class="number">2</span>,  <span class="number">3</span>],
       [ <span class="number">6</span>,  <span class="number">7</span>],
       [<span class="number">10</span>, <span class="number">11</span>]])
</code></pre><p>就是我们想要的！但是索引矩阵没这么方便。</p>
<pre><code>&gt;&gt;&gt; M[<span class="number">0</span>,:]&gt;<span class="number">1</span>
matrix(<span class="string">[[False, False, True, True]]</span>, dtype=bool)
&gt;&gt;&gt; M[:,M[<span class="number">0</span>,:]&gt;<span class="number">1</span>]
matrix(<span class="string">[[2, 3]]</span>)
</code></pre><p>这个过程的问题是用“矩阵切片”来切片产生一个矩阵<a href="用矩阵切片">^12</a>，但是矩阵有个方便的<code>A</code>属性，它的值是数组呈现的。所以我们仅仅做以下替代：</p>
<pre><code>&gt;&gt;&gt; M[:,M.A[<span class="number">0</span>,:]&gt;<span class="number">1</span>]
matrix([[ <span class="number">2</span>,  <span class="number">3</span>],
        [ <span class="number">6</span>,  <span class="number">7</span>],
        [<span class="number">10</span>, <span class="number">11</span>]])
</code></pre><p>如果我们想要在矩阵两个方向有条件地切片，我们必须稍微调整策略，代之以：</p>
<pre><code>&gt;&gt;&gt; A[A[:,<span class="number">0</span>]&gt;<span class="number">2</span>,A[<span class="number">0</span>,:]&gt;<span class="number">1</span>]
<span class="built_in">array</span>([ <span class="number">6</span>, <span class="number">11</span>])
&gt;&gt;&gt; M[M.A[:,<span class="number">0</span>]&gt;<span class="number">2</span>,M.A[<span class="number">0</span>,:]&gt;<span class="number">1</span>]
matrix([[ <span class="number">6</span>, <span class="number">11</span>]])
</code></pre><p>我们需要使用向量积<code>ix_</code>:</p>
<pre><code>&gt;&gt;&gt; A[ix_(A[:,<span class="number">0</span>]&gt;<span class="number">2</span>,A[<span class="number">0</span>,:]&gt;<span class="number">1</span>)]
<span class="built_in">array</span>([[ <span class="number">6</span>,  <span class="number">7</span>],
       [<span class="number">10</span>, <span class="number">11</span>]])
&gt;&gt;&gt; M[ix_(M.A[:,<span class="number">0</span>]&gt;<span class="number">2</span>,M.A[<span class="number">0</span>,:]&gt;<span class="number">1</span>)]
matrix([[ <span class="number">6</span>,  <span class="number">7</span>],
        [<span class="number">10</span>, <span class="number">11</span>]])
</code></pre><h2 id="技巧和提示">技巧和提示</h2><p>下面我们给出简短和有用的提示。</p>
<h3 id="“自动”改变形状">“自动”改变形状</h3><p>更改数组的维度，你可以省略一个尺寸，它将被自动推导出来。</p>
<pre><code>&gt;&gt;&gt; a = arange(<span class="number">30</span>)
&gt;&gt;&gt; a.shape = <span class="number">2</span>,-<span class="number">1</span>,<span class="number">3</span>  <span class="preprocessor"># -<span class="number">1</span> means <span class="string">"whatever is needed"</span></span>
&gt;&gt;&gt; a.shape
(<span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>)
&gt;&gt;&gt; <span class="function">a
<span class="title">array</span><span class="params">([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],
        [ <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>],
        [ <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],
        [ <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>],
        [<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>]],
       [[<span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>],
        [<span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>],
        [<span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>],
        [<span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>],
        [<span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>]]])</span></span>
</code></pre><h3 id="向量组合(stacking)">向量组合(stacking)</h3><p>我们如何用两个相同尺寸的行向量列表构建一个二维数组？在MATLAB中这非常简单：如果x和y是两个相同长度的向量，你仅仅需要做<code>m=[x;y]</code>。在NumPy中这个过程通过函数<code>column_stack</code>、<code>dstack</code>、<code>hstack</code>和<code>vstack</code>来完成，取决于你想要在那个维度上组合。例如：</p>
<pre><code>x = arange(<span class="number">0</span>,<span class="number">10</span>,<span class="number">2</span>)                     <span class="preprocessor"># x=([<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>])</span>
y = arange(<span class="number">5</span>)                          <span class="preprocessor"># y=([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span>
m = vstack([x,y])                      <span class="preprocessor"># m=([[<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>],</span>
                                       <span class="preprocessor">#     [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]])</span>
xy = hstack([x,y])                     <span class="preprocessor"># xy =([<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span>
</code></pre><p>二维以上这些函数背后的逻辑会很奇怪。</p>
<p>参考<a href="http://scipy.org/NumPy_for_Matlab_Users" target="_blank" rel="external">写个Matlab用户的NumPy指南</a>并且在这里添加你的新发现: )</p>
<h3 id="直方图(histogram)">直方图(histogram)</h3><p>NumPy中<code>histogram</code>函数应用到一个数组返回一对变量：直方图数组和箱式向量。注意：<code>matplotlib</code>也有一个用来建立直方图的函数(叫作<code>hist</code>,正如matlab中一样)与NumPy中的不同。主要的差别是<code>pylab.hist</code>自动绘制直方图，而<code>numpy.histogram</code>仅仅产生数据。</p>
<pre><code>import numpy
import pylab
<span class="preprocessor"># Build a vector of <span class="number">10000</span> normal deviates with variance <span class="number">0.5</span>^<span class="number">2</span> and mean <span class="number">2</span></span>
mu, sigma = <span class="number">2</span>, <span class="number">0.5</span>
v = numpy.random.normal(mu,sigma,<span class="number">10000</span>)
<span class="preprocessor"># Plot a normalized histogram with <span class="number">50</span> bins</span>
pylab.hist(v, bins=<span class="number">50</span>, normed=<span class="number">1</span>)       <span class="preprocessor"># matplotlib version (plot)</span>
pylab.show()
<span class="preprocessor"># Compute the histogram with numpy and then plot it</span>
(n, bins) = numpy.histogram(v, bins=<span class="number">50</span>, normed=True)  <span class="preprocessor"># NumPy version (no plot)</span>
pylab.plot(<span class="number">.5</span>*(bins[<span class="number">1</span>:]+bins[:-<span class="number">1</span>]), n)
pylab.show()
</code></pre><h2 id="参考文献">参考文献</h2><ul>
<li>The <a href="http://docs.python.org/tut/tut.html" target="_blank" rel="external">Python tutorial</a>.</li>
<li>The <a href="http://scipy.org/Numpy_Example_List" target="_blank" rel="external">Numpy Example List</a>.</li>
<li>The nonexistent <a href="http://scipy.org/NumPy_Tutorial" target="_blank" rel="external">NumPy Tutorial</a> at scipy.org, where we can find the old Numeric documentation.</li>
<li>The <a href="http://www.tramy.us/" target="_blank" rel="external">Guide to NumPy</a> book.</li>
<li>The <a href="http://scipy.org/SciPy_Tutorial" target="_blank" rel="external">SciPy Tutorial</a> and a <a href="http://www.rexx.com/~dkuhlman/scipy_course_01.html" target="_blank" rel="external">SciPy course online</a></li>
<li><a href="http://scipy.org/NumPy_for_Matlab_Users" target="_blank" rel="external">NumPy for Matlab Users</a>.</li>
<li>A <a href="http://mathesaurus.sf.net/" target="_blank" rel="external">matlab, R, IDL, NumPy/SciPy dictionary</a>. </li>
</ul>
<hr>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2012/08/17/to-be-an-epicurean/" itemprop="url">
                  To Be An Epicurean
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-08-17T00:00:00+08:00" content="2012-08-17">
              2012-08-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2012/08/17/to-be-an-epicurean/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2012/08/17/to-be-an-epicurean/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p><strong>胡言乱语，请随意喷。</strong></p>
<h2 id="起">起</h2><p>晚上我正对着一堆python的东西不知所措时，室友自习回来，怒斥着考研太难过，表示不想考了。瞬间我们寝室便从四人考研将要沦落到我一个人了，这不是什么问题，也就是将来一个人困难更多些而已。然后他补充了一句：人活了为了什么？不就是为了爽吗？</p>
<p>我忽然感觉语塞，不知如何应答。说不出有什么问题，但心中拼命有个声音在问着：是吗是吗是这样吗？</p>
<p>感觉不对劲，很不对劲。</p>
<p>我不是一个反享乐主义者，事实上，我觉得每一个人都应该尽力享受他们的生命。若干月前我在图书馆看到一本享乐主义手册，书中虽然罗列了史上臭名昭著的享乐主义者，但极力鼓励人们享受自己的生活，过一个轻松愉快的人生。</p>
<p>但总感觉有哪里不对劲，但又理不清究竟是哪里不对。</p>
<h2 id="承">承</h2><p>于是心神不宁地去操场跑步，仰头看着久违的美丽星空。矛盾在心中一直萦绕，这无关紧要的问题为什么让我如此心神不宁？</p>
<p>我也许不是个纯粹的享乐主义者，甚至在很多方面我都倾向于苦修主义者，希望借以磨砺自己的意志。</p>
<p>但我只是跟他人方向不同罢了，互联网和文字使那些与自我时空千里之遥的思想在我心之土壤生根发芽，比周边的人更多塑造了我。我只是把自己的执迷不悟和强烈的欲望发泄在了我因此所感兴趣的领域上——数学、艺术、计算机。但我依然在他人不关心的方面贪嗔痴怪，不觉不慧。</p>
<p>我寻找、追寻、计划、妄想，依然也是使我感觉更“爽”，像在技术上的成就感、hack的乐趣，艺术的美和数学的美和精致。</p>
<p>既然我亦如是，到底哪里感觉不对劲？</p>
<h2 id="转">转</h2><p>我凝视天空，为城市光污染而星光黯淡的星空扼腕，</p>
<p>忽然寒颤，忽然明白</p>
<p>我怕那些极端的享乐主义者，怕他们的“爽”硬要强加在自己头上。</p>
<p>怕自己的信念与执着被自以为是的享乐主义者们扼杀。</p>
<p>怕众人只看见自己所见。</p>
<p>怕抬头再没了那份好奇的冲动，</p>
<p>探索的精神与好奇心。</p>
<p>虽然也勉强算是一个epicurean，</p>
<p>但有比那更得吾心的</p>
<p>我无法想象上千年来我们都酒池肉林</p>
<p>还以为我们看到的就如同所看到的世界</p>
<p>还以为自己是万物中心的世界</p>
<p>总之，我痛恨醉生梦死的世界和止步不前的死水。</p>
<p>然而我依然还是个享乐主义者。</p>
<h2 id="合">合</h2><p>我思索整个开源社区，没有利益支持却如何发展起来</p>
<p>我思索这些年来让我着迷的东西</p>
<p>思索那些明明让我疲乏而孤独的东西怎么能让我夜以继日的迷恋其中。</p>
<p>思索那些为某种信念忘我的人</p>
<p>思索那些为了某种乐趣迷失到另一个世界的人</p>
<p>他们选择了怎样的人生。世人又怎么看他们。</p>
<p>其实所有的人都是享乐主义者，但又如此不同</p>
<p>享乐主义不只是食色。这世界神赐给人类的乐趣如此之多</p>
<p>以致生命如此之精彩</p>
<p>我只是希望，不同的人、不同信念的人、不同乐趣的人</p>
<p>把目光从自身移向更广阔的宇宙，更多理解和包容。</p>
<p>我所言所为</p>
<p>未必能改变世界，只是撒下思想的种子。</p>
<p>如若有缘，它会在合适的地方于合适的时间生根发芽，</p>
<p>甚至结成硕果，繁育成林。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2012/08/15/galgame/" itemprop="url">
                  GALGAME
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-08-15T00:00:00+08:00" content="2012-08-15">
              2012-08-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2012/08/15/galgame/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2012/08/15/galgame/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="GALGAME">GALGAME</h1><h2 id="Galgame初体验——AIR">Galgame初体验——AIR</h2><p>第一次接触galgame<a href="美少女游戏。其实您一定知道什么意思，就算不知道也可以google/baidu。">^1</a>大概是一年以前，忽然看到当年痴迷动漫时看过<a href="http://baike.baidu.com/view/4449.htm#sub6281444" target="_blank" rel="external">《AIR》</a>的游戏原作下载，正好闲的……于是便莫名开始了GALGAME初体验。到头也不记得剧情什么什么的了，只记得最后把某条线一气照着网上胡乱搜来的攻略通关，然后就是那什么什么h图的CG<a href="[百度百科解释](http://baike.baidu.com/view/4406.htm#sub8281901)">^2</a>。</p>
<p>对这个galgame经典之作总体印象不怎么样,感觉画面有些古老，音乐也没什么印象<a href="鸟之诗？">^3</a>,现在剧情早忘的一干二净，连有没有配音都不记得了。反正后来很久很久都觉得，这种游戏貌似也没什么意思嘛。<a href="好吧，其实我总共就接触过两个Galgame，所以见识浅薄，口出狂言，见谅。">^4</a></p>
<p>之后接触linux，兴趣开始泛滥<a href="泛滥，数学、计算机、一堆计算机语言、数据挖掘与可视化、计算软件、文本处理、web前端、linux系统及工具集、动态及静态博客系统、图像处理……">^6</a>，没时间和心思干其它的了。</p>
<h2 id="Another_Galgame_one_year_later">Another Galgame one year later</h2><p><code>_我怎么就没想到我又开始玩Galgame了！！！_</code></p>
<p>前几天在arch论坛上看到有人推荐<a href="http://katawa-shoujo.com/" target="_blank" rel="external">katawa shoujo</a><a href="片轮少女，即残疾少女的意思。">^5</a>，然后在archlinux贴吧看到有人贴图。感觉画面做得挺精致的，又渐渐听说国际团队制作，Creative Commons协议发布，原生linux支持……</p>
<p>好吧，总之我手贱了，花了一点时间和精力让它运行在我的linux x86_64之上。</p>
<p>然后想，费力劳神折腾好，难道不玩玩看？</p>
<p>于是作为考研党可耻地花时间开始攻略Galgame……</p>
<p>片首动画直接把我震惊了，做的真精致。</p>
<p>音轨也很棒</p>
<p>故事也……只能说有种很奇怪的感觉，似乎remind me of something，反正最后打算每天花近一个小时读读这个视觉小说。虽然一句话有两个单词不认识，开着电子词典查个不停.</p>
<p>上游戏效果图，这个场景忽然有种耳目一新的感觉，也许是因为画面，色调，音乐，或者是出乎意料的剧情：</p>
<p><img src="http://fmn.rrfmn.com/fmn058/20120815/1740/p_large_COVT_6e6d000009051263.jpg" alt="katawa-shoujo"></p>
<h2 id="选择">选择</h2><p>galgame这种游戏基本是依靠玩家的选择来决定剧情和结局的，每当做完选择，对未选之事便浮想联翩。老感觉自己错过了什么重要而不同的精彩剧情。自己的人生有何尝不是，选择之前它充满可能性。选择之后却一切都不能回头，只能浮想联翩，当初我若是做出了不同的选择，我将会是怎样的我，遇到怎样的人。一切都必将变化很多，万事都是缘分，发生后便是刻骨铭心的命运。</p>
<p>不知道准备把兴趣转变成自己的工作是个什么结果、也许当作兴趣更好、工作反而会把所有的乐趣毁掉。长恨此生非我有、何时忘却营营。准备到最后可能是踏遍铁鞋无觅处，无心插柳却成荫。不关福祸、做现在的打算。</p>
<p>To-do list：</p>
<ul>
<li>learning python the hard way</li>
<li>htdp</li>
<li>prolog</li>
<li>common lisp</li>
<li>gimp/krita/inkscape</li>
</ul>
<p><strong>^o^ go for it!</strong></p>
<p>之前的选择，已经让我踏上看不清未来的路，福兮？祸兮？</p>
<hr>
<h2 id="Footnotes">Footnotes</h2>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2012/08/11/" itemprop="url">
                  随笔——关于学习
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-08-11T00:00:00+08:00" content="2012-08-11">
              2012-08-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2012/08/11/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2012/08/11//" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="近日简记">近日简记</h2><p>自从回家没把本带回去，半个月隔绝linux，隔绝各类和计算机相关的东西。在这里的日志便从每三四天一篇缩减到似乎不再维护似的。其实现在倒一点没闲下来，只是没以前那么有大把大把的时间了。六点半起床，打开电脑看奥运新闻，洗衣服，早饭、去自习，中午午饭回来上网看看、学学python，小憩一下，滚到教室继续自习，偶尔会去实验室打打酱油。晚饭回来，继续打开电脑折腾。其实这一天天就这么过去了。半个月之前晚上八点去操场慢跑一个小时，现在缩短到九点跑个半小时……日子就这么一天天过去。</p>
<h2 id="Learn_Python">Learn Python</h2><p>从一个月之前断断续续地，竟然把A Byte of Python看完了，虽然很多东西也不甚明白，而且忘了大半。但总有了个轻松愉快的开端，总之这本书看起来令人愉快。之后看看《learn python the hard way》，作者的很多话我深以为然，反正那篇NB哄哄的序言把我吸引进来了，结果发现有之前那本书的底子之后看起来太简单了点……但作者关于学习一样东西的许多见解确是很值得一看的。</p>
<h3 id="The_Hard_Way_Is_Easier">The Hard Way Is Easier</h3><p>这里有段很精彩的关于练习和坚持的言论，我真得很喜欢它：</p>
<blockquote>
<h2 id="A_Note_On_Practice_And_Persistence">A Note On Practice And Persistence</h2><p>While you are studying programming, I’m studying how to play guitar. I practice it every day for at least 2 hours a day. I play scales, chords, and arpeggios for an hour at least and then learn music theory, ear training, songs and anything else I can. Some days I study guitar and music for 8 hours because I feel like it and it’s fun. To me repetitive practice is natural and just how to learn something. I know that to get good at anything you have to practice every day, even if I suck that day (which is often) or it’s difficult. Keep trying and eventually it’ll be easier and fun.</p>
<p>As you study this book, and continue with programming, remember that anything worth doing is difficult at first. Maybe you are the kind of person who is afraid of failure so you give up at the first sign of difficulty. Maybe you never learned self-discipline so you can’t do anything that’s “boring”. Maybe you were told that you are “gifted” so you never attempt anything that might make you seem stupid or not a prodigy. Maybe you are competitive and unfairly compare yourself to someone like me who’s been programming for 20+ years.</p>
<p>Whatever your reason for wanting to quit, keep at it. Force yourself. If you run into an Extra Credit you can’t do, or a lesson you just do not understand, then skip it and come back to it later. Just keep going because with programming there’s this very odd thing that happens.</p>
<p>At first, you will not understand anything. It’ll be weird, just like with learning any human language. You will struggle with words, and not know what symbols are what, and it’ll all be very confusing. Then one day BANG your brain will snap and you will suddenly “get it”. If you keep doing the exercises and keep trying to understand them, you will get it. You might not be a master coder, but you will at least understand how programming works.</p>
<p>If you give up, you won’t ever reach this point. You will hit the first confusing thing (which is everything at first) and then stop. If you keep trying, keep typing it in, trying to understand it and reading about it, you will eventually get it.</p>
<p>But, if you go through this whole book, and you still do not understand how to code, at least you gave it a shot. You can say you tried your best and a little more and it didn’t work out, but at least you tried. You can be proud of that.</p>
</blockquote>
<p>这的确是本很“简单的书”，我觉得作者以下的话可以送给那些妄想走捷径自大而不愿付出的人(No pains,no gains):</p>
<blockquote>
<p>Empty before you fill. You will have a hard time learning from someone with more knowledge if you already know everything.</p>
</blockquote>
<p>当然还有这一句玩笑话……</p>
<blockquote>
<p>Go learn Lisp. I hear people who know everything really like Lisp.</p>
</blockquote>
<p>关于一个看上去很艰巨的大任务或者大项目，比如面临考研复习的自己，作者送出了这么一段句话：</p>
<blockquote>
<p>One final word of advice: Every programmer becomes paralyzed by irrational fear starting a new large project. They then use procrastination to avoid confronting this fear and end up not getting their program working or even started. I do this. Everyone does this. The best way to avoid this is to make a list of things you should do, and then do them one at a time.</p>
<p>Just start doing it, do a small version, make it bigger, keep a list of things to do, and do them.</p>
</blockquote>
<p>好像人们常说的细化目标，日积月累，步步为营。更关键的在于——开始去做。</p>
<p>就像当你决定做什么时，空想除了让你更好受永远不会有任何作用，但当你走出房门的那一刻，虽然什么也没做，情况确彻底地改变了。<a href="我其实在说晚上去跑步的情况。有时候会拖到很晚才去。">^1</a></p>
<p>作者经常让你花上几乎一整周的时间来<em>记忆</em>,记忆一定是学习一样东西时非常重要的东西，不管怎样，基本的东西你要记住。这些东西像英语中的词汇一样，是一切开始的基础。所以不要偷懒，<em>No pains, no gains</em>.</p>
<p>在学习的过程中我们经常性挫败感十足，这很糟糕。因为就我目前体验来说，要没有之前安装配置linux那种成就感让我如此上瘾，我真不会如此视折腾为乐事“坚持”到现在。所以，想办法让自己充满成就感。</p>
<p>尝试受挫会让自己感觉很蠢，but</p>
<blockquote>
<p>The most important thing when doing this exercise is: “There is no failure, only trying.”</p>
</blockquote>
<p>学习一段时间会很累？感觉有些不明白？作者经常安慰吾等菜鸟读者说：</p>
<blockquote>
<p>Just take it slow and do not hurt your brain. Hopefully by now these symbols are natural for you so this isn’t a big effort. It’s best to take 15 minutes at a time with your list and then take a break. Giving your brain a rest will help you learn faster with less frustration.</p>
</blockquote>
<p>很多credits都要求读者去自己求助于搜索引擎、文档，我觉得这才是学习，这才是zen，这才会有乐趣。</p>
<p>除了非常重要一致不能跳过的东西<a href="比如说python的安装……">^2</a>,大多东西都可以先跳过的，总之不要让自己挫败感十足。充满自信和乐趣是持续前进的动力。</p>
<p><em>Happy hacking,happy learning</em></p>
<hr>
<h2 id="这是题外话">这是题外话</h2><p>很多想得很好却没做到的事情。只能说自己想得太多：</p>
<p><img src="http://fmn.rrimg.com/fmn065/20120811/2210/p_large_KvH1_63ff00004f3c1263.jpg" hight="400" width="200" alt="梦想很美"></p>
<p>在weibo上说，我现在在学python。于是一位common lisp造诣很高的高人问我？你不学scheme了？我这才想起来从图书馆借的htdp，看着还不算累，但东西实在多。之后因为sagemath和自己在学校的创新项目和python的千丝万缕，又碰到python简明教材这本令人愉快的读物，投到scheme的热情便完全转移到python上了。</p>
<p>忽然便想起最近背的单词passion。激情、喜爱简直是一码事。虽然生活如此如此那般，但有passion的人生还是幸福的。</p>
<h2 id="Footnotes">Footnotes</h2>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2012/08/04/" itemprop="url">
                  这只是篇随笔
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-08-04T00:00:00+08:00" content="2012-08-04">
              2012-08-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2012/08/04/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2012/08/04//" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="2012年08月04日随笔">2012年08月04日随笔</h1><p>其实是好久没在这写东西了。<code>^o^</code></p>
<h2 id="无锡的夜">无锡的夜</h2><p>晚上去跑步时，JNU的夜shocked me.当站在宽阔的操场上，凝视着安详高远的天空，宁静平和的初升明月,南边一溜美丽祥和的云朵,东边若隐若现的城市灯火，黑暗中飒飒作响的树影，西边绵延而沉默的山峦，头顶点点的星辰。夏夜的晚风穿过身旁，撩拨着我的衣裳，也撩拨着我的神经。</p>
<h2 id="好像那片云">好像那片云</h2><p>云千奇百怪，诡奇壮丽，它们是天空最亮丽的风景线。它洁白如雪过，它压抑阴沉的想要坠落过,它曾排山倒海压来，也曾宁静的好像不变的山峦。</p>
<p>然而它最终要散，无影无踪。</p>
<p>就像我所追求的，我所喜爱的，我所经历的，我所拥有的。</p>
<p>在生命经历一个个奇幻的形态后烟消云散。</p>
<p>曾经的美丽只留存在他人的记忆之中。</p>
<p>跑完步时，南边的云散得无影无踪，好像从未存在。</p>
<h2 id="linuxer周年记">linuxer周年记</h2><p>入门是件很奇特的事，我视之为缘分,思之为注定。</p>
<p>一切在阴差阳错间成就，也许像从前曾有缘过的一样缘尽于某日</p>
<p>然而就这么改变了我一年的人生</p>
<p>之前生命中点点阴差阳错点点成线，汇集成今</p>
<p>那个轨迹，就是人们所说的命运？</p>
<p>是否在他人眼里是彻头彻尾的宅loser？</p>
<p>是否被看成不通世情的sb？</p>
<p>It dosen’t matter.</p>
<p>我喜欢开源社区的氛围，开放、共享、自由与进步。</p>
<p>我认同黑客的精神，自强、求索、执着、包容。</p>
<p>我相信人生有很多值得去体验和经历的事，有很多有趣的东西：哲学、文学、艺术、数学、计算机、还有风景，还有girl……</p>
<p>我相信世界充满乐趣和值得探索的问题。</p>
<p>感谢上苍让我看到一个热心、分享、积极探索、奉献的社区。</p>
<p>很高兴与那些富有创造力、执着、热心、积极探索、充满趣味、积极进步的人交流、从他们那里学习，被他们鞭策、鼓励。</p>
<p>我觉得这是神赐给我此生的礼物，让我在尘世呼吸到不一样的自由气息，好像来自天堂，重新refresh被功利的世界奴役的疲惫的身躯与心灵。</p>
<p>那些contributors,是最可爱的人。</p>
<h2 id="21">21</h2><p>21岁了，爱也好，恨也好，时间不等人。</p>
<p>看着静美的夜色，忽然想起牡丹亭中几句话，萦绕耳畔：</p>
<blockquote>
<p>原来姹紫嫣红开遍，似这般都付与断井颓垣。良辰美景奈何天，便赏心乐事谁家院？朝飞暮卷，云霞翠轩，雨丝风片，烟波画船。锦屏人忒看的这韶光贱！ </p>
</blockquote>
<p>光阴不在，这些逝去的日子。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2012/07/13/" itemprop="url">
                  回忆
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-07-13T00:00:00+08:00" content="2012-07-13">
              2012-07-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2012/07/13/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2012/07/13//" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="回忆">回忆</h1><p>我向来厌恶回忆，当被它的触角在夜幕中拉住，你永远别指望从中抽身，回忆越陷越深，一层一层向过去延伸，好像永远没有终点。</p>
<p>我向来厌恶面对过去，过去的哀伤与委屈，过去的快乐与迷恋，都在回忆中幻化成不可抑制的情愫与遗憾。回忆越陷越深，它在你的心头缠绕了一圈又一圈，当回忆越行越远，往事便像猴子头上的紧箍咒一样越来越紧，让人压抑的喘不过气。</p>
<p>不知为什么，感觉往事不堪回首。虽然它普通的不能再普通，虽然它平淡的不能再平淡，但我不愿回头.让记忆随着光阴越流越远吧，我希望永远不要再见到它。</p>
<p>可是它总是找上我。终有一天，还是要面对自己的懦弱，愚蠢与自私。</p>
<blockquote>
<p>有一种被人抛诸脑后的过去，包含一些不该遗忘的点点滴滴。欢笑之余，我将故旧拾起，才刹见自己的薄情。人世间似乎存在着某种公平，每个人都曾被抛掷在他人的遗忘中；而今你所有哽咽难宣的话语，也正是你曾为人所期盼，却永远听不见的字句。</p>
<p>赫曼· 赫塞—-</p>
</blockquote>
<h2 id="大学之前">大学之前</h2><p>不想多说，封尘的不想重启。简单的写下，简单地卸下，轻装面对未来。</p>
<h2 id="大学">大学</h2><blockquote>
<p>所谓大学者,非谓有大楼之谓也,有大师之谓也。</p>
<p>梅贻琦1931年在清华的就职演说—-</p>
</blockquote>
<p>说什么好呢，本来没想到来这里。高考之前想去南京大学，考完试知道毁了，打点好好准备了一堆要报的二本大学，一本随手填了个江南大学，只因为作为革命老区的朴素人民，觉得无锡这地方比较发达。报专业的时候报的教育技术，因为自己虽然是学理科的，但一直想搞文科<a href="当年文理分科违心的选了理科，因为我讨厌考政治和历史，估计按我的风格考那个大学都考不上。">^1</a>。但老爸是搞教育的，想这行业尼玛有个毛前途啊，别报这个。我那时当然无所谓了，反正谁知道将来大学毕业做什么，那就这啥 <strong>光信息科学与技术</strong> 吧。</p>
<p>关于这牛b的专业名我要唠叨两句：还记得去派出所开国防生证明的时候，那位警察大叔来句，唉，你这专业不错啊。我想是么？然后去招生办查分的时候招生办大叔也来了句，你这个专业高科技，有前途。我想看样子没差了。<strong>来到传说中江南第一学府，尼玛来到理学院，再上了三年学，我算知道这是什么玩意了</strong>。</p>
<p>于是乎阴差阳错来到无锡这地方。初来乍到，这里商业气息以排山倒海之势扑面而来。各路江湖骗子、学长学姐、商业机构、云集此地…… 然后我就不多说了，三年过去，我已经不把这里当大学看了。</p>
<p>其实也不想黑咱亲爱的大江大，学校风景秀丽，一看就是花大力气大资金维护打造初来的，基本上这个大花园是各路情侣、闲人饭后闲逛的良处。学校四周也到处都是公园，总之风景不错就是了。有这么种感觉，咱大江大就是环蠡湖绿化带的一部分。</p>
<p>不该跑题的，虽然有很多怨念，但也不是一无是处，好歹教育部直属211大学，有心报这里的别这么就被我的胡言乱语吐槽走了，也许其它地方还不如这儿。</p>
<h3 id="外联">外联</h3><p>大一上学期，外联还是比较忙的。然后又身在两个组织的外联，于是打了一个学期的酱油<a href="打酱油？按很多人的标准来说，我大学打的酱油真是数不胜数啊。">^2</a>。最后的结果是一分钱没有拉到，不过那时候真是勇气十足啊，跑商店，闯大楼，进政府，当然，脾气好点的会听你说完，脾气差点的也没到轰我的地步…… 然后尼玛有赞助商了宣传也是我们的事，遍历宿舍做宣传，食堂门口发传单，四处张贴海报……</p>
<p>说到底，我那时不是很给力，不过很有<strong>勇气</strong>。</p>
<h3 id="骑迹">骑迹</h3><p>也不知为何了，加了个名为骑迹的组织，买了辆 Giant ATX690[^3]，准备暑假远征。没想到暗暗影响了舍友，四个人先花了几天骑车游遍了江南六大古镇，然后我知道我脾气有多差了……总之，因为脾气不好和室友别扭了很抱歉，但一直没说出过口。暑假和社团的兄弟们从学校骑车出发远征北京，难忘的七月啊。然后我又体验到自己脾气有多不好了，然而，抱歉的话一直没说出口，一路都给大家拖后腿了。</p>
<p>远征之前和骑迹，室友出去都比较多，无锡周边什么的总是去逛逛。到远征结束，基本上再没怎么出去了。最后一次出行在2011年4月26日，骑迹的24小时环太湖活动，光荣的做了压队。没想到之后，再也没骑车出去过了。<a href="因为再后来车丢了，想去也没机会了。不丢也懒得出去了。">^4</a></p>
<h3 id="泡图书馆">泡图书馆</h3><p>大一经常泡图书馆，别人都以为我在学习，其实都是在看闲书。因为好奇很多偏见、歧视从何而来，为什么人们会这样会那样，好奇人的本性，所以看了好多心理学社会学的书。现在都忘了，当时的笔记可是做了一本又一本……</p>
<p>最后的相关结论是，基本都是假说……</p>
<p>那时我第一次认识到人是有多健忘，后来问我一个天天看数学和计算机学科国外论著的室友，你看这能记住吗？他说不行，我问那看了有什么用？他说很多思想会内化成为你的一部分。当时感觉这话安慰的意思多余实际的意义，两年后接触另一个神奇的领域时我才体味到这个意思。</p>
<h3 id="动漫">动漫</h3><p>在室友旁边看死神，然后感觉不错。然后开始动漫宅化一发不可收拾，先后看了一堆新番旧番。当时痴迷的，借室友mp4看空之境界，借室友电脑看Monster，寒假在家天天看eva。去郑州病房陪父亲的时候，当时还买了本《动感新势力》，没想到那本10年三月的85期，是我唯一买的动漫相关的东西。</p>
<p>最后，忘记是何年何月，看完Lain、攻壳机动队和虫师之后，口味越来越小众，再未找到入的了法眼的动漫，也就再也没兴致看其它的动漫了。</p>
<h3 id="小说">小说</h3><p>忘记何时，迷过一阵日系推理小说。大概是远征前的假期，当时图书馆所有能借到的东野圭吾的、京极夏彦的、宫部美雪的……推理小说，到后来痴迷上整个日系文学，村上村树、松本清张、太宰治<a href="《人间失格》是最震撼我的小说之一，另一本是加缪的《局外人》">^5</a>……，唯一遗憾没看《丰饶之美》和《源氏物语》，再后来因为信长之野望这个游戏对整个日本战国史产生兴趣好好研究了一番，扯淡的是又找了本叫《中国历代军事战略（上、下）》<a href="很棒的一本书，纯粹的历史书，很少有这么好看的">^6</a>的看了一遍。</p>
<p>好了不跑题了，还是说小说。当时手机可以上网，经常用手机上轻小说论坛看小说。《文学少女》那阵真是让我痴迷上了各种小说了，好多图书馆都没有，当时我是疯狂荐购，图书馆方面的回复倒很简单：<em>不适合本馆收藏</em><a href="历史的讽刺在于，它后来买了一大堆我荐购过和没荐购过的轻小说">^7</a>。</p>
<p>总之，那段日子是动漫、小说、甚至还玩过air的游戏交错的日子。很虚空不是？我只是想从那里发现意义，寻找意义。他人的作品改变了我，启发了我。但意义也仅限于此。我放弃动漫小说、文学时，心头一点感觉都没有。</p>
<p>对了，忘了讲讲科幻小说。在郑州病房的夜晚，看着阿西莫夫的科幻小说打发漫漫长夜，我才知道科幻小说还可以写得这么棒这么有深度。后来去年寒假，看了遍《光明王》，那种宗教和科技交织的奇幻感觉让我激动万分，于是我找来txt版的把它用<em>LaTeX</em>重新排了一遍。那个时候，又有个东西影响了我。</p>
<h3 id="Dota">Dota</h3><p>现在，我旁边的室友还在每日忙着dota。</p>
<p>这是个迷人的游戏，有几个月很喜欢。我在一个游戏中寻找意义，体悟人生，有很多对现实有启发的思想渐渐影响和融入自我。更重要的，拉近了孤独的自己和很多人的关系，一致多年以来我第一次觉得和好多人有的聊的了。然而，仅此而已。之后遇见的东西，让我走火入魔了，几乎彻底把它扔掉了。</p>
<h3 id="TED">TED</h3><blockquote>
<p>Ideas worth spreading.</p>
<p>TED理念—-</p>
</blockquote>
<p>TED<a href="http://www.ted.com/" target="_blank" rel="external">1</a>是什么？Technology、Entertainment、Design，有阵对这个特着迷,它展示了一个新奇的世界，你看到这里还有一群人相信思想的力量，充满热情，相信能通过传播思想和理念改变世界，你会不激动吗？当你身边充满着成天感慨无所事事，生命缺乏激情之时你会不喜欢它吗？那时的TED展示给我很多很棒的理念。TEDxWuxi第一场面向大众的分享会当然要去了，设计学院一个学长关于设计的演讲在我心中埋下了”设计友好”的种子，现在看待很多产品和服务，都要想好多……</p>
<h3 id="数学建模">数学建模</h3><blockquote>
<p>当然我在大学的时候，还不可能把从前的点点滴滴串连起来，但是当我十年后回顾这一切的时候，真的豁然开朗了。 </p>
<p>Steve Jobs—-</p>
</blockquote>
<p>数学建模对我来说是个阴差阳错的事，如果不是某人这么一晃：我们组队去吧。我绝对不会想着去参加它的，甚至大学两年间从未考虑过数学建模这种事。</p>
<p>然而晃我的人没有参加，我一个人过去了。</p>
<p>细节不想多说，黑学校黑这个比赛的也懒得说。总之，从那时开始，人生开始巨变，而这种变化是我的选择，不是身不由己。</p>
<p>组队时，本来和一个同学说好同队，结果组队时莫名的负了她。慌忙组队之时慌忙组了队，连声抱歉也没说。我觉得自己的一生总是错过了太多道谢和道歉的机会，腼腆的性格也让我无法说出口。</p>
<p>前面半个月集训很爽，我第一次知道计算机不只是游戏机、影碟机和上网本，第一次发现自己有多强大，从无基础的是写代码越写越high，感觉我们那个房间里那些物联网学院的都没我强大<a href="我自大了，见笑。之前虽然开过matlab课，对计算机毫无兴趣的我都在后面打魔兽的……">^8</a>。然后也算第一次喜欢上了数学，特别是数据挖掘与数据分析。</p>
<p>后半个月越来越觉得这比赛是在扯淡，痛苦的感觉一天到晚就做题了什么也学不到。</p>
<p>然后的比赛是我在大学打的又一次酱油，还不好意思地拉着两名想拿成绩的队友一起酱油了。</p>
<p>最后比赛那天很抱歉没很给力，把本带去蹭学校的网更新ubuntu了，第二天早上正要忙的时候头晕脑胀的睡着了。</p>
<h3 id="GNU/Linux">GNU/Linux</h3><blockquote>
<p>Keep it simple,Stupid.</p>
<p>KISS哲学—-</p>
</blockquote>
<p>数学建模时用了一个叫SAS的统计软件，老师表示买不起。买不起？于是我上网查了查，一年几十万。</p>
<p>这不是重点，重点在于一种叫R的统计语言走进了我的世界，它带我进入了开源的世界。</p>
<p>也就这么一阴差阳错，无意瞥见的一种和我从来没什么关系的东西吸引了我的注意力，我想找一个做统计分析的强大软件，而SAS盗版都不安逸。然而R的口碑很好<a href="即使现在在国际也是很流行，搞统计的八成特别学术上的八成用它。前阵看到本12年2月出的新书讲R做数据挖掘的，作者竟然一个是政治学家一个是生物学家，给跪了。">^9</a>,据说也很强大，而且开源。嗯？开源是个什么玩意，能吃吗？然后我开始递归的google起来[^10]。</p>
<p>另外数学建模那阵老见一群飞在天上的大牛们黑word吹<a href="http://www.latex-project.org/" target="_blank" rel="external">LaTeX</a>，我心说LaTeX是什么？于是也开始了在google的递归搜索。</p>
<p>结果很简单，先是装了个火狐，感觉不错，又阴差阳错装个YLMF OS<a href="一种国人做的linux系统">^11</a>，然后某次本上的XP蓝屏了，我就把windows格了。</p>
<p>接下来的一年，是折腾的一年。从计算软件到服务器架设，从建站到前端，从排版到图形处理，从文本编辑到设计真是无所不折腾……也渐渐见识了很多领域的东西，没有什么比这个更开阔视野了，人生也从未这么丰富多彩过<a href="副作用是社交基本封闭，与旁人基本没得聊，基本不会接触妹子……以前还会和同学去打打网球什么的，某次受伤后现在只能自己默默跑步了。">^12</a>。设计、哲学、人性、科技、信仰从未这么复杂的交错起来，才明白世界很大，人生很短<a href="请珍惜自己的生命，遵从自己的心。人的生命体验，只有经历过才会明白。就像毛姆《人生的枷锁》中所说：答案只有自己找出才有意义。">^13</a>。</p>
<h2 id="然后呢">然后呢</h2><p>还有一些愿望,这是关于未来的：</p>
<ul>
<li><p>我想去从事并非光科相关的行业，如果身体条件允许的话，我想从事互联网或者数据挖掘的工作</p>
</li>
<li><p>全程马拉松，把跑步变成自己的人生习惯之一</p>
</li>
<li><p>想学习绘画，图像处理，视觉设计的东西，但并不靠它吃饭</p>
</li>
<li><p>想学会弹吉他，因为还有想唱的歌</p>
</li>
<li><p>希望将来有空余时间，把那些自己想看的书看完。</p>
</li>
<li><p>空闲时能参加开源项目，从中体会hack的乐趣</p>
</li>
</ul>
<h2 id="我的家">我的家</h2><p>随便一想就像收不住的闸，不想了。我不能哭丧着脸回去，人生苦短，我要试着带回去快乐与活力。</p>
<p>作文一篇，向过去告别，向无锡暂别，我已经<em>21</em>了。</p>
<hr>
<h2 id="Footnotes">Footnotes</h2><p>[^3]: 当时社团团购，整个学校就我一个…… 一直没感谢我当时技术部的部长和当时的会长。</p>
<p>[^10]: 要问我为何不用baidu，我真想不留情面的说那玩意是个垃圾。但鉴于很多人拿他搜盗版搜游戏还凑合，就不黑它了。如果你查的资料是英语居多，或者偏重技术，google基本是唯一的选择。但国内的google一直都不好用，每次搜到东西打不开时或google被重置时，我都想说： <em>fuck gfw</em> 。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/test/2012/07/11/" itemprop="url">
                  这两天的二逼日子
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-07-11T00:00:00+08:00" content="2012-07-11">
              2012-07-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/test/" itemprop="url" rel="index">
                    <span itemprop="name">test</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/test/2012/07/11/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="test/2012/07/11//" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="这几天我都干啥了">这几天我都干啥了</h1><p>这几天我都干些啥了呢，在这个幻灯片中，我将做个小结</p>
<p><img src="http://fmn.rrimg.com/fmn063/20120708/1320/p_large_lamv_658f000005f61261.jpg" alt="dt的tweak"></p>
<hr>
<h2 id="为啥我要宅两天">为啥我要宅两天</h2><p>前几天的考研复习那个不亦乐乎，高数终于看了三章不到，概率论终于看了不到三章。我想想怎么着回家前的这几天也得好好学习一阵，可你妹的 <em>我感冒了</em></p>
<hr>
<h2 id="那卧病寝室这几天在干吗？">那卧病寝室这几天在干吗？</h2><ul>
<li>普通说法叫折腾</li>
<li>文艺说法叫hack</li>
<li>说得二逼一点我其实就是蛋疼</li>
</ul>
<hr>
<h2 id="水人人水贴吧水论坛">水人人水贴吧水论坛</h2><ul>
<li>好吧，你之前看到的那个win7 图吧，其实就是我闲的蛋疼用archlinux+kde伪装的，然后到baidu的win8 吧发截图玩</li>
<li>貌似人人也没少水</li>
<li>貌似论坛也没少去，什么byr啊，jnrain啊，u 坛啊</li>
</ul>
<hr>
<h2 id="学习python">学习python</h2><h3 id="Why_python">Why python</h3><p>本来是学习sage的，因为看到ustc有个<a href="http://home.ustc.edu.cn/~wyfyw/iSL/" target="_blank" rel="external">创新项目</a>就是推广这个的。最后发现很多python的东西，于是学python去了。</p>
<h3 id="折腾大略">折腾大略</h3><ul>
<li>首先配置vim找到了<a href="https://github.com/klen/python-mode" target="_blank" rel="external">python-mode</a>,看视频demo很棒，于是折腾了一天，终于能比较方便的使用了，结果是把supertab插件废掉，系统默认python改成2了，x输入法在vim中用不了了，暂时也许永久地用起了神奇的vimim.</li>
<li>见byr坛上有连两个帖子热议python,结果是先选了python2</li>
<li>看看<a href="http://woodpecker.org.cn/abyteofpython_cn/chinese/" target="_blank" rel="external">python 简明教程</a>感觉看着很平滑，没有这么挫败感。一口气看到第九章</li>
</ul>
<hr>
<h2 id="搜集OS娘">搜集OS娘</h2><p>是的，我好好学习了OS娘的相关知识，并搜集了<a href="http://photo.renren.com/photo/306127150/album-647659933?curPage=1" target="_blank" rel="external">一大堆OS娘的图片</a></p>
<p><img src="http://fmn.rrimg.com/fmn065/20120710/1325/p_large_8tXz_2508000054681263.jpg" alt="OS girl"></p>
<hr>
<h2 id="总结一下吧">总结一下吧</h2><p>这两天过得及其惨不忍睹，为什么每天跑一个小时步说感冒就感冒？我在电脑前时间太长了吧……所以<em>回家不带电脑</em>，最好明天也别碰</p>
<p>这两天过得及其二逼，一早起床坐到电脑前，到晚上念念不舍上床，偶尔吃饭出去下，喝水活动下，上厕所闲逛下……目测旁边忙着dota的和我一样……</p>
<p>身子更弱了……</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#这段代码测试高亮</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"珍爱生命，远离折腾"</span></span><br></pre></td></tr></table></figure>
<p>靠，我该洗洗睡了……</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/lisp/2012/07/09/land-of-lisp/" itemprop="url">
                  land of lisp读书笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-07-09T00:00:00+08:00" content="2012-07-09">
              2012-07-09
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/lisp/" itemprop="url" rel="index">
                    <span itemprop="name">lisp</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/lisp/2012/07/09/land-of-lisp/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="lisp/2012/07/09/land-of-lisp/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="Happy_Hacking">Happy Hacking</h1><p>我第一次读这本书，便被其浓郁的黑客风格与幽默所吸引，它向我展示了common lisp这门语言强大与趣味的一面。之前从来没有试着度过原版图书，但看到这么可爱一本书，竟然吸引我一边用着取词软件一边用着google翻译给看完了。</p>
<p>说是看完了，其实有很多地方都是略略而过，与其说我是学习了一遍common lisp，不如说是大致了解了一下它。很多东西像AI，程序设计，算法的东西都是云里雾里，好在作者假设读者什么也不知道，详细而幽默的解说引人入胜，看起来虽然很累但趣味性十足。所以，即使是lisp菜鸟，这本书也是很推荐。<a href="好像此书就是为了初学者设计的……">^1</a></p>
<p>说说我学到的：学到了很多优秀而强大的common lisp技术，在有些地方还进行了自己的hack，甚至学到了服务器、http协议、svg和html、博弈算法的一些东西。</p>
<p>也说说从这本书中衍生的新想法：</p>
<ul>
<li><p>lisp做web应用还是蛮好的，正好弥补lisp缺乏图形界面库的短版，</p>
</li>
<li><p>common lisp强大但复杂，也许scheme才是我心仪的语言<a href="对一个信奉KISS原则的人尤其如此想，特别是崇尚极简主义的人呢">^2</a></p>
</li>
<li><p>语言障碍仍然是个很大的问题，要好好学习英语这门世界性语言。</p>
</li>
</ul>
<p>将我4月26日至7月7日的读书笔记集合在这里,虽然水平很烂但斗胆放在这里，希望对他人有帮助</p>
<hr>
<p><a href="http://reverland.org/tags.html#land-of-lisp-ref">land of lisp读书笔记</a></p>
<hr>
<p>忽然发现这个还在草稿里……</p>
<p>2012年09月22日 星期六 13时26分44秒</p>
<h2 id="Footnotes">Footnotes</h2>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/lisp/2012/07/07/dice-of-doom-v4/" itemprop="url">
                  Dice of Doom v4
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-07-07T00:00:00+08:00" content="2012-07-07">
              2012-07-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/lisp/" itemprop="url" rel="index">
                    <span itemprop="name">lisp</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/lisp/2012/07/07/dice-of-doom-v4/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="lisp/2012/07/07/dice-of-doom-v4/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="最终版的Dice_of_Doom">最终版的Dice of Doom</h1><p>这个游戏终于结束了，基本上这本书的主要内容也算看完了。实际上，我根本就写不出这些东西，源码也读的云里雾里。但这是一本很有趣的书，我想看完htdp之后用htdp推荐风格重新处理下这本书的代码，顺便也复习一下。</p>
<h2 id="让Dice_of_Doom_更加的有趣">让Dice of Doom 更加的有趣</h2><p>我们上回完成的版本虽然很棒，但总缺乏些什么。因为之前程序的设计，我们可以很轻易的扩展它，让它变得更有趣</p>
<p>先加载我们之前的游戏<a href="对从官网下载的源码和书中的源码可能需要修改，具体参见前几篇读书笔记。">^1</a></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(load &#34;dice-v3&#34;);</span><br></pre></td></tr></table></figure>
<h3 id="增加玩家数">增加玩家数</h3><p>因为我们之前的架构，增加玩家数很简单。为了增加玩家数后计算机能反应敏捷，让它变“傻”一点。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defparameter *num-players* 4)&#10;(defparameter *die-colors* &#39;((255 63 63) (63 63 255) (63 255 63) (255 63 255)))&#10;(defparameter *max-dice* 5)&#10;(defparameter *ai-level* 2)</span><br></pre></td></tr></table></figure>
<h3 id="建立概率节点">建立概率节点</h3><p>我们本质上是向游戏树中加入几率节点，先升级attacking-moves函数，增加个board-attack-fail分支。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun attacking-moves (board cur-player spare-dice)&#10;  (labels ((player (pos)&#10;             (car (aref board pos)))&#10;           (dice (pos)&#10;             (cadr (aref board pos))))&#10;    (lazy-mapcan (lambda (src)&#10;                   (if (eq (player src) cur-player)&#10;                     (lazy-mapcan&#10;                       (lambda (dst)&#10;                         (if (and (not (eq (player dst) cur-player))&#10;                                  (&#62; (dice src) 1))&#10;                           (make-lazy (list (list (list src dst)&#10;                                                  (game-tree (board-attack board cur-player src dst (dice src))&#10;                                                             cur-player&#10;                                                             (+ spare-dice (dice dst))&#10;                                                             nil)&#10;                                                  (game-tree (board-attack-fail board cur-player src dst (dice src))&#10;                                                             cur-player&#10;                                                             (+ spare-dice (dice dst))&#10;                                                             nil))))&#10;                           (lazy-nil)))&#10;                       (make-lazy (neighbors src)))&#10;                     (lazy-nil)))&#10;                 (make-lazy (loop for n below *board-hexnum*&#10;                                  collect n)))))</span><br></pre></td></tr></table></figure>
<p>board-attack-fail函数遍历所有位置。如果这个位置是攻击方就只能留下一个骰子</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun board-attack-fail (board player src dst dice)&#10;  (board-array (loop for pos from 0&#10;                     for hex across board&#10;                     collect (if (eq pos src)&#10;                               (list player 1)&#10;                               hex))))</span><br></pre></td></tr></table></figure>
<h3 id="让骰子滚动起来">让骰子滚动起来</h3><p>一下程序让一堆骰子滚动起来，并判断谁赢了</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;rolling the dice&#10;(defun roll-dice (dice-num)&#10;  (let ((total (loop repeat dice-num&#10;                     sum (1+ (random 6)))))&#10;    (fresh-line)&#10;    (format t &#34;On ~a dice rolled ~a. &#34; dice-num total)&#10;    total))&#10;(defun roll-against (src-dice dst-dice)&#10;  (&#62; (roll-dice src-dice) (roll-dice dst-dice)))</span><br></pre></td></tr></table></figure>
<p>我们还需要在游戏引擎中调用让骰子滚动的代码,选出正确的子树</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun pick-chance-branch (board move)&#10;  (labels ((dice (pos)&#10;             (cadr (aref board pos))))&#10;    (let ((path (car move)))&#10;      (if (or (null path) (roll-against (dice (car path))&#10;                                        (dice (cadr path))))&#10;        (cadr move)&#10;        (caddr move)))))</span><br></pre></td></tr></table></figure>
<p>更新handle-computer函数让它调用选择几率分支的函数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun handle-human (tree)&#10;  (fresh-line)&#10;  (princ &#34;choose your move:&#34;)&#10;  (let ((moves (caddr tree)))&#10;    (labels ((print-moves (moves n)&#10;               (unless (lazy-null moves)&#10;                 (let* ((move (lazy-car moves))&#10;                        (action (car move)))&#10;                   (fresh-line)&#10;                   (format t &#34;~a. &#34; n)&#10;                   (if action&#10;                     (format t &#34;~a -&#62; ~a&#34; (car action) (cadr action))&#10;                     (princ &#34;end turn&#34;)))&#10;                 (print-moves (lazy-cdr moves) (1+ n)))))&#10;      (print-moves moves 1))&#10;    (fresh-line)&#10;    (pick-chance-branch (cadr tree) (lazy-nth (1- (read)) moves))))</span><br></pre></td></tr></table></figure>
<p>同样我们可以处理handle-computer函数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun handle-computer (tree)&#10;  (let ((ratings (get-ratings (limit-tree-depth tree *ai-level*) (car tree))))&#10;    (pick-chance-branch&#10;      (cadr tree)&#10;      (lazy-nth (position (apply #&#39;max ratings) ratings) (caddr tree)))))</span><br></pre></td></tr></table></figure>
<h3 id="升级AI">升级AI</h3><p>但现在还有个问题，AI还没有考虑骰子的滚动，依然认为骰子多的一定获胜。因此需要更新AI。</p>
<p>根据概率论原理，我们可以得到这样一个矩阵来表征攻击成功的概率</p>
<table>
<thead>
<tr>
<th style="text-align:center">防守方\攻击方</th>
<th style="text-align:center">2</th>
<th style="text-align:center">3</th>
<th style="text-align:center">4</th>
<th style="text-align:center">5</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0.84</td>
<td style="text-align:center">0.97</td>
<td style="text-align:center">1.0</td>
<td style="text-align:center">1.0</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">0.44</td>
<td style="text-align:center">0.78</td>
<td style="text-align:center">0.94</td>
<td style="text-align:center">0.99</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">0.15</td>
<td style="text-align:center">0.45</td>
<td style="text-align:center">0.74</td>
<td style="text-align:center">0.91</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">0.04</td>
<td style="text-align:center">0.19</td>
<td style="text-align:center">0.46</td>
<td style="text-align:center">0.72</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">0.01</td>
<td style="text-align:center">0.06</td>
<td style="text-align:center">0.22</td>
<td style="text-align:center">0.46</td>
</tr>
</tbody>
</table>
<p>现在把这个概率交给计算机，更新get-ratings函数,给评分加权</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun get-ratings (tree player)&#10;  (let ((board (cadr tree)))&#10;    (labels ((dice (pos)&#10;               (cadr (aref board pos))))&#10;      (take-all (lazy-mapcar&#10;                  (lambda (move)&#10;                    (let ((path (car move)))&#10;                      (if path&#10;                        (let* ((src (car path))&#10;                               (dst (cadr path))&#10;                               (odds (aref (aref *dice-odds*&#10;                                                 (1- (dice dst)))&#10;                                           (- (dice src) 2))))&#10;                          (+ (* odds (rate-position (cadr move) player))&#10;                             (* (- 1 odds) (rate-position (caddr move)&#10;                                                          player))))&#10;                        (rate-position (cadr move) player))))&#10;                  (caddr tree))))))</span><br></pre></td></tr></table></figure>
<p>为了让修剪游戏树的函数能工作，还需要做些修改让它能处理新的游戏树。同时为了简化不再使用alpha-beta算法。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun limit-tree-depth (tree depth)&#10;  (list (car tree)&#10;        (cadr tree)&#10;        (if (zerop depth)&#10;          (lazy-nil)&#10;          (lazy-mapcar (lambda (move)&#10;                         (cons (car move)&#10;                               (mapcar (lambda (x)&#10;                                         (limit-tree-depth x (1- depth)))&#10;                                       (cdr move))))&#10;                       (caddr tree)))))&#10;;We mapcar across the tail of each move, so trimming is performed on&#10;;both branches of any chance nodes.</span><br></pre></td></tr></table></figure>
<h3 id="改进增援方案">改进增援方案</h3><p>之前是依据消灭敌人多少来决定增援骰子数。现在我们换一种方法：依据占据的最大领地来决定增援多少。这使游戏的地缘性更加复杂。</p>
<p>回想我们之前在<a href="http://reverland.org/Tech/2012/05/01/grand-theft-wumpus/">wumpus游戏</a>里写过的相似函数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun get-connected (board player pos)&#10;  (labels ((check-pos (pos visited)&#10;             (if (and (eq (car (aref board pos)) player)&#10;                      (not (member pos visited)))&#10;               (check-neighbors (neighbors pos) (cons pos visited))&#10;               visited))&#10;           (check-neighbors (lst visited)&#10;             (if lst&#10;               (check-neighbors (cdr lst) (check-pos (car lst) visited))&#10;               visited)))&#10;    (check-pos pos &#39;())))</span><br></pre></td></tr></table></figure>
<p>获得最大的集群,最后添加援军，注意，spare-dice仍然作为参数传递但已经不再被add-new-dice使用了。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(defun largest-cluster-size (board player)&#10;  (labels ((f (pos visited best)&#10;             (if (&#60; pos *board-hexnum*)&#10;               (if (and (eq (car (aref board pos)) player)&#10;                        (not (member pos visited)))&#10;                 (let* ((cluster (get-connected board player pos))&#10;                        (size (length cluster)))&#10;                   (if (&#62; size best)&#10;                     (f (1+ pos) (append cluster visited) size)&#10;                     (f (1+ pos) (append cluster visited) best)))&#10;                 (f (1+ pos) visited best))&#10;               best)))&#10;    (f 0 &#39;() 0)))&#10;(defun add-new-dice (board player spare-dice)&#10;  (labels ((f (lst n)&#10;             (cond ((zerop n) lst)&#10;                   ((null lst) nil)&#10;                   (t (let ((cur-player (caar lst))&#10;                            (cur-dice (cadar lst)))&#10;                        (if (and (eq cur-player player) (&#60; cur-dice *max-dice*))&#10;                          (cons (list cur-player (1+ cur-dice))&#10;                                (f (cdr lst) (1- n)))&#10;                          (cons (car lst) (f (cdr lst) n))))))))&#10;    (board-array (f (coerce board &#39;list)&#10;                   (largest-cluster-size board player)))))</span><br></pre></td></tr></table></figure>
<p>享受你的劳动成果吧</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(serve #&#39;dod-request-handleer)</span><br></pre></td></tr></table></figure>
<h2 id="疑问">疑问</h2><p>我发现我可以选中任何自己的领地，只要上面的骰子数大于2。我可以攻击任何强大的敌人，而且一定能成功。不知道哪里的更改或错误！！</p>
<hr>
<h2 id="Footnotes">Footnotes</h2>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/math/2012/07/05/" itemprop="url">
                  概率论与数理统计基础
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2012-07-05T00:00:00+08:00" content="2012-07-05">
              2012-07-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/math/" itemprop="url" rel="index">
                    <span itemprop="name">math</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/math/2012/07/05/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="math/2012/07/05//" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="概率论与数理统计基础">概率论与数理统计基础</h1><h2 id="为什么有了这篇文章">为什么有了这篇文章</h2><p>按以往的风格，大概是我想做什么所以就做了什么。但这次不太一样，首先是代人上数学实验课，matlab搞得我云里雾里，一年前深以为然并给我很大影响的东西都忘到九霄云外了，老师布置个聚类分析的练习一点都不会，完全不知怎么下手。其次加上忙着准备考研，无心折腾这折腾那，虽然很有意思……，再次网上看到满天的牛，飞过来飞过去，那个自惭形晦。好了，我胡言乱语，莫深究什么意思。</p>
<p>想想一年了，在各个领域摸爬滚打之后发现自己一无是处，收获在哪里？只能说开阔了视野，告诉自己很多东西我曾经也知道过，思考过，选择过。</p>
<p>下午看了看概率论与统计，想到自己当初拿着好几本讲R的书学习的日子，现在连个痕迹都没有留下，数学建模学到的东西也忘的精光，唉，先看看基础吧。然后回到寝室，忽然就想试试sagemath和markdown……</p>
<h2 id="概率论基本概念">概率论基本概念</h2><p>先来个全概率公式：<br>     设实验E的样本空间为S，A为E的事件，$B_1,\cdots,B_n $为S的一个划分，且 $P(B_i) &gt; 0 (i = 1,2,\cdots,n)$,则</p>
<p>$$<br>P(A)=\sum_{i=1}^n P(A \vert B_i)P(B_i)<br>$$</p>
<p>再来个贝叶斯公式：</p>
<p>$$<br>P(B_i \vert A) = \frac{P(A \vert B_i)P(B<em>i)}{\sum</em>{j=1}^n P(A|B_j)P(B_j)} , i=1,2,\cdots ,n.<br>$$</p>
<p>A,B,C三个事件相互独立</p>
<p>$$<br>\begin{equation<em>}<br>\left.<br>\begin{array}{l}<br>P(AB)=P(A)P(B) \<br>P(BC)=P(B)P(C) \<br>P(AC)=P(A)P(C) \<br>P(ABC)=P(A)P(B)P(C)<br>\end{array}<br>\right}<br>\end{equation</em>}<br>$$</p>
<h2 id="离散随机变量常见分布">离散随机变量常见分布</h2><p>先来个(0-1)分布<a href="表格做的好难看……有空再改吧">^1</a></p>
<table>
<thead>
<tr>
<th>X</th>
<th style="text-align:center">0</th>
<th style="text-align:center">1</th>
</tr>
</thead>
<tbody>
<tr>
<td>$P_k$</td>
<td style="text-align:center">1-p</td>
<td style="text-align:center">p</td>
</tr>
</tbody>
</table>
<p>二项分布,记为$X \sim b(n,p)$</p>
<p>$$<br>P{X=k}=\binom{n}{k}p^kq^{n-k},k=0,1,2,\cdots,n.<br>$$</p>
<p>泊松分布,记做$X \sim \pi(\lambda)$</p>
<p>$$<br>P{X = k}=\frac{\lambda^ke^{-\lambda}}{k!},k=0,1,2,\cdots,<br>$$</p>
<p>泊松定理</p>
<p>$$<br>\lim\limits_{n\to \infty} \binom{n}{k}p_n^k(1-p_n)^{n-k} = \frac{\lambda^ke^{-\lambda}}{k!}<br>$$</p>
<h2 id="三种连续型随机变量">三种连续型随机变量</h2><p>###均匀分布</p>
<p>概率密度函数，图中取$b=2,a=1$。</p>
<p>$$<br>\begin{equation}<br>f(x)=\left{<br>\begin{array}{l}<br>\frac{1}{b-a},a &lt; x &lt; b \<br>0, else<br>\end{array}<br>\right.<br>\end{equation}<br>$$</p>
<p><img src="http://fmn.rrfmn.com/fmn058/20120705/2310/p_large_Wt1C_4925000043391261.jpg" hight="200" width="400" alt="均匀分布概率密度"></p>
<p>其分布函数为</p>
<p>$$<br>\begin{equation}<br>F(x)=\left{<br>\begin{array}{l}<br>0,  x&lt;a \<br>\frac{x-a}{b-a}, a \leq x &lt; b \<br>1, x \geq b<br>\end{array}<br>\right.<br>\end{equation}<br>$$</p>
<p><img src="http://fmn.rrimg.com/fmn059/20120705/2310/p_large_DfWR_4925000043381261.jpg" hight="200" width="400" alt="均匀分布分布函数"></p>
<h2 id="指数分布">指数分布</h2><p>概率分布函数，图像中红、蓝、绿三种颜色曲线分别是$\theta$取0.5、1、2时所绘制。</p>
<p>$$<br>\begin{equation}<br>f(x)=\left{<br>\begin{array}{l}<br>\frac{1}{\theta}e^{-\frac{x}{\theta}}, x &gt; 0,\<br>0, else,<br>\end{array}<br>\right.<br>\end{equation}<br>$$</p>
<p><img src="http://fmn.rrimg.com/fmn056/20120705/2310/p_large_sWxZ_49250000433a1261.jpg" hight="200" width="400" alt="指数分布概率密度"></p>
<p>分布函数</p>
<p>$$<br>\begin{equation}<br>F(x)=\left{<br>\begin{array}{l}<br>1-e^{-\frac{x}{\theta}}, x &gt; 0,\<br>0, else,<br>\end{array}<br>\right.<br>\end{equation}<br>$$</p>
<p><img src="http://fmn.rrfmn.com/fmn058/20120705/2310/p_large_KHxd_49250000433b1261.jpg" hight="200" width="400" alt="指数函数分布函数"></p>
<h2 id="正态分布">正态分布</h2><p>概率密度函数,图中$\mu$为0,红、蓝、绿三种颜色图像分别取$\sigma=0.5,1,2$。</p>
<p>$$<br>f(x)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\frac{(x-\mu)^2}{2\sigma^2}},-\infty &lt; x &lt;\infty<br>$$</p>
<p><img src="http://fmn.rrimg.com/fmn059/20120705/2310/p_large_PZvg_49250000433c1261.jpg" hight="200" width="400" alt="正态分布概率密度函数"></p>
<p>分布函数</p>
<p>$$<br>F(x)=\frac{1}{\sqrt{2\pi}\sigma}\int_{-\infty}^x e^{-\frac{(x-\mu)^2}{2\sigma^2}} dt<br>$$</p>
<hr>
<h2 id="后记">后记</h2><p>markdown+mathjax不是一般蛋疼啊……，<code>\$B_i,B_j\$</code>总把<code>i,B</code>给强调了，让它以代码形式mathjax又不解析了……最近看不进英文的文档了，mathjax的文档胡乱翻了半天什么也没记住……</p>
<p>textile倒好，可没想到出现更奇葩的<code>P(C)</code>竟然解析成P &#169; ……<code>= =</code></p>
<p>总之，I hate math，以后再也不自己瞎折腾了……</p>
<h2 id="Changelog">Changelog</h2><p>###2012年07月06日 星期五 08时18分46秒</p>
<p>早上爬起来看看mathjax文档，然后试试发现昨天的奇葩问题消失了……懒得折腾的孩子们参考这里处理：<a href="http://doswa.com/2011/07/20/mathjax-in-markdown.html" target="_blank" rel="external">MathJax in Markdown</a>,想折腾的可以去折腾什么pandoc<a href="据说是haskell写的">^2</a>的……</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/13/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/15/"><i class="fa fa-angle-right"></i></a>
  </nav>



        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="Liu Yuyang" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Liu Yuyang</p>
        </div>
        <p class="site-description motion-element" itemprop="description">我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">179</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">23</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">63</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/reverland" target="_blank">
                  
                    <i class="fa fa-github"></i> GitHub
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name">Links</p>
            
              <span class="links-of-author-item">
                <a href="http://reverland.bitbucket.org/" target="_blank">曾经的的vimwiki</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://liutos.github.com/" target="_blank">Liutos</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://blog.phoenixlzx.com/" target="_blank">凤凰君</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://gndrive.org/" target="_blank">高达数字实验室</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.cherrot.com/" target="_blank">Cherrot</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://xwyam.github.com/" target="_blank">xw_y_am</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://ishell.me" target="_blank">小东</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://blog.kochiya.me/" target="_blank">AS酱</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://blog.skydark.info/" target="_blank">skydark</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://thorb.cn/" target="_blank">thorb</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.suzibin.cn/" target="_blank">doug</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://armsword.com/" target="_blank">armsword</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://lilydjwg.is-programmer.com/" target="_blank">仙子</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://lazymind.me/" target="_blank">mapleray</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://gaohaoyang.github.io" target="_blank">HYG</a>
              </span>
            
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2011 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liu Yuyang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    
    

  

    <script type="text/javascript">
      var disqus_shortname = 'reverlandblog';
      var disqus_identifier = 'page/14/index.html';
      var disqus_title = '';
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  


  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>

  
    <script type="text/javascript" src="http://cdn.staticfile.org/mathjax/2.4.0/MathJax.js"></script>
    <script type="text/javascript" src="http://cdn.staticfile.org/mathjax/2.4.0/config/TeX-AMS-MML_HTMLorMML.js"></script>
  


  
  

</body>
</html>
