<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
    <link href='//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Reverland, Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Reverland的行知阁" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/images/default_avatar.jpg?v=0.4.5.2" />






<meta name="description" content="我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。">
<meta property="og:type" content="website">
<meta property="og:title" content="Reverland的行知阁">
<meta property="og:url" content="http://reverland.org/page/2/index.html">
<meta property="og:site_name" content="Reverland的行知阁">
<meta property="og:description" content="我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Reverland的行知阁">
<meta name="twitter:description" content="我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> Reverland的行知阁 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Reverland的行知阁</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">开放、分享、自由与进步</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">

    

    
    
      
      

      
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/web/2015/11/18/notes-on-migrating-from-jeykll-to-hexo/" itemprop="url">
                  从Jekyll迁移到Hexo
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-18T00:00:00+08:00" content="2015-11-18">
              2015-11-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/web/2015/11/18/notes-on-migrating-from-jeykll-to-hexo/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="web/2015/11/18/notes-on-migrating-from-jeykll-to-hexo/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>上周，我将博客从jekyll平台迁移到hexo下。</p>
<h2 id="缘起">缘起</h2><p>不为什么。本来不想换，奈何不能成功在ubuntu 14.10上用rvm成功编译<code>ruby 2.1+</code>，连续几次过热自动关机后，就默默装上了基于node的hexo。</p>
<h2 id="迁移记录">迁移记录</h2><p>对jekyll，日志源文件都在<code>_posts/</code>目录下。而hexo则在<code>sources/_posts/</code>下。两者支持的都是带metadata的markdown文件。(当然，我还有一些用textile标记的文件。)简单来说，只要把相应的markdown文件迁移到hexo对应的位置就行。</p>
<p>但在迁移碰到了几个问题：</p>
<ol>
<li>修正permalink</li>
<li>语法高亮部分修改</li>
<li>特殊字符escape</li>
<li>textile文件</li>
</ol>
<h3 id="与jekyll之前配置一致的url结构和文件命名方式">与jekyll之前配置一致的url结构和文件命名方式</h3><p>以前，我用jeykll时，每个文件名字如下：</p>
<pre><code><span class="number">2012</span>-<span class="number">11</span>-<span class="number">19</span>-<span class="keyword">this</span>-is-a-post.md
</code></pre><p>对应的url为</p>
<pre><code><span class="string">http:</span><span class="comment">//reverland.org/2012/11/19/this-is-a-post/</span>
</code></pre><p>或者可以是</p>
<pre><code><span class="string">http:</span><span class="comment">//reverland.org/2012/11/19/this-is-a-post</span>
<span class="string">http:</span><span class="comment">//reverland.org/2012/11/19/this-is-a-post/index.html</span>
</code></pre><p>首先，要把hexo也改成这样的，在<code>_config.yml</code>中：</p>
<pre><code><span class="symbol">new_post_name:</span> <span class="symbol">:year-</span><span class="symbol">:month-</span><span class="symbol">:day-</span><span class="symbol">:title</span>.md <span class="comment"># File name of new posts</span>
<span class="symbol">permalink:</span> <span class="symbol">:category/</span><span class="symbol">:year/</span><span class="symbol">:month/</span><span class="symbol">:day/</span><span class="symbol">:title/</span>
</code></pre><p>但，还是有问题，具体可以参照<a href="https://github.com/hexojs/hexo/issues/1589" target="_blank" rel="external">我提的issue</a>，hexo如果看你的文件名是这样：</p>
<pre><code><span class="number">2014</span>-<span class="number">06</span>-<span class="number">12</span>-.md
</code></pre><p>会生成这样的url</p>
<pre><code><span class="number">2015</span>/<span class="number">11</span>/<span class="number">13</span>/<span class="number">2014</span>-<span class="number">06</span>-<span class="number">12.</span>html
</code></pre><p>显然这不是我们想要的。</p>
<p>我们通过将<a href="https://github.com/hexojs/hexo-util/blob/cb685f19ecb5ba9ee48109049b21a21cd3da7dee/lib/permalink.js#L28" target="_blank" rel="external"><code>node_modules/hexo-util/lib/permalink.js</code>第28行</a>由</p>
<pre><code><span class="keyword">return</span> <span class="string">'(.+?)'</span>;
</code></pre><p>更改为</p>
<pre><code><span class="keyword">return</span> <span class="string">'(.*?)'</span>;
</code></pre><p>可以实现以前的jekyll风格。</p>
<p>如果你现在用的是hexo版本<code>3.1.0</code>，如果文件是：</p>
<p>可能会遇到生成这种url链接：</p>
<pre><code><span class="label">http:</span>//reverland<span class="preprocessor">.org</span>/<span class="number">2014</span>/<span class="number">06</span>/<span class="number">12</span>//index.html
<span class="label">http:</span>//reverland<span class="preprocessor">.org</span>/<span class="number">2014</span>/<span class="number">06</span>/<span class="number">12</span>//
</code></pre><p>在github中hexo已经不会有这个问题了，可以参见 <a href="https://github.com/hexojs/hexo/blob/d035d19ccd221f6815634c2d6d2aaa59b959839f/lib/plugins/helper/url_for.js#L30" target="_blank" rel="external">hexo/helper/url_for</a>的</p>
<pre><code><span class="function"><span class="keyword">return</span> path.<span class="title">replace</span><span class="params">(/\/{<span class="number">2</span>,}/g, <span class="string">'/'</span>)</span></span>;
</code></pre><p>来进行修改，如果你用的不是git版本的hexo。</p>
<p>我之后还碰到个问题，hexo中的分类是大小写敏感的，jekyll也是，但jekyll在url中会统一变成小写而hexo则不会，这竟然造成了我迁移后的一些链接失效。修正方法也很简单，通过<code>sed</code>将所有大写的<code>category</code>项都替换成对应的小写版本。</p>
<pre><code><span class="title">sed</span> -i <span class="string">'s/^category: Life/category: life/g'</span> source/_posts/<span class="regexp">*.md</span>  <span class="comment"># 我只有Life分类莫名写成了大写</span>
</code></pre><p>这样，确保了和jekyll之前所有链接一致，然而，发现还是有disqus的评论消失了，检查链接并没有差异，暂时不知为什么。如果有谁能指教下请告诉我。</p>
<h3 id="语法高亮修改">语法高亮修改</h3><p>jekyll中，除了我用四个空格作为编码块区域缩进设定，还广泛使用了jekyll所特有的记法进行代码高亮。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% highlight python %&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#123;% endhighlight %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% highlight cl%&#125;</span><br><span class="line">(cdr,</span><br><span class="line">  (add,</span><br><span class="line">    <span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">&#123;% endhighlight %&#125;</span><br></pre></td></tr></table></figure>
<p>另外，我的每个文件里还有些jekyll特定命令来加入统计和评论什么的。这是当年从<a href="http://blog.skydark.info/" target="_blank" rel="external">Skydark</a>那里画虎不成留下的各种dirty　hack的结果。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include JB/setup %&#125;</span><br></pre></td></tr></table></figure>
<p>可以这样转换掉</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">'s/&#123;%[[:space:]]highlight[[:space:]]\(.*\)[[:space:]]*%\&#125;/```\1/g'</span> <span class="built_in">source</span>/_posts/*.md  <span class="comment"># 注意有空格和没空格</span></span><br><span class="line">sed -i <span class="string">'s/&#123;%[[:space:]]endhighlight[[:space:]]%\&#125;/```/g'</span> <span class="built_in">source</span>/_posts/*.md</span><br><span class="line">sed -i <span class="string">'s/&#123;%[[:space:]]include JB\/setup[[:space:]]%\&#125;//g source/_posts/*.md'</span></span><br></pre></td></tr></table></figure>
<h3 id="特殊字符escape">特殊字符escape</h3><p>接着有些特殊的文件会解析报错，因为hexo<a href="https://hexo.io/docs/troubleshooting.html#Escape_Contents" target="_blank" rel="external">用nunjunks来渲染</a>，如果文本中有<code>{&#123; }}</code>或者<code>{&#37; %}</code>会出错。我发现如果是缩进四格的代码标记或者<code>&#96;</code>会出错，但如果用另一种标记法<code> &#96;&#96;&#96;</code>则没关系。</p>
<p>实在不行，我们可以用<a href="http://www.ascii.cl/htmlcodes.htm" target="_blank" rel="external">html实体编码</a>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;code&#62;&#38;#97;&#38;#98;&#38;#99;&#60;/code&#62;</span><br></pre></td></tr></table></figure>
<h3 id="textile文件">textile文件</h3><p>我试着用pandoc转换了下，发现几个问题：</p>
<ol>
<li>会将metadata错误地转换</li>
<li>莫名的在行或特殊符号后面加反斜杠</li>
<li>不能很好处理jekyll的代码高亮标记法</li>
</ol>
<p>我写了些脚本辅助手工更改为markdown格式。话说这些sed代码还都是之前尝试往pelican上迁移时写的辅助脚本，虽然从来没有迁移到pelican平台上。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除和转换jeykll特定标记</span></span><br><span class="line">sed -i <span class="string">'s/&#123;%[[:space:]]include JB\/setup[[:space:]]%\&#125;//g'</span> <span class="built_in">source</span>/_posts/*.textile</span><br><span class="line">sed -i <span class="string">'s/&#123;%[[:space:]]highlight[[:space:]]\(.*\)[[:space:]]*%\&#125;/```\1/g'</span> <span class="built_in">source</span>/_posts/*.textile</span><br><span class="line">sed -i <span class="string">'s/&#123;%[[:space:]]endhighlight[[:space:]]%\&#125;/```/g'</span> <span class="built_in">source</span>/_posts/*.textile</span><br><span class="line"></span><br><span class="line"><span class="comment"># textile标记到markdown的转换</span></span><br><span class="line"><span class="comment"># 列表</span></span><br><span class="line">sed -i <span class="string">'s/^* /- /g'</span> <span class="built_in">source</span>/_posts/*.textile</span><br><span class="line">sed -i <span class="string">'s/^# /- /g'</span> <span class="built_in">source</span>/_posts/*.textile</span><br><span class="line"><span class="comment"># 标题</span></span><br><span class="line">sed -i <span class="string">'s/^h1./#/g'</span> <span class="built_in">source</span>/_posts/*.textile</span><br><span class="line">sed -i <span class="string">'s/^h2./##/g'</span> <span class="built_in">source</span>/_posts/*.textile</span><br><span class="line">sed -i <span class="string">'s/^h3./###/g'</span> <span class="built_in">source</span>/_posts/*.textile</span><br><span class="line">sed -i <span class="string">'s/^h4./####/g'</span> <span class="built_in">source</span>/_posts/*.textile</span><br><span class="line">sed -i <span class="string">'s/^h5./#####/g'</span> <span class="built_in">source</span>/_posts/*.textile</span><br><span class="line"><span class="comment"># 脚注</span></span><br><span class="line">sed -i <span class="string">'s/^fn\([[:digit:]]\)\./[\^\1]:/g'</span> <span class="built_in">source</span>/*.textile</span><br><span class="line">sed -i <span class="string">'s/\[\([[:digit:]]*\)\]/[\^\1]/g'</span> <span class="built_in">source</span>/*.textile</span><br><span class="line"><span class="comment"># 默认的markdown解析并不支持脚注</span></span><br><span class="line"><span class="comment"># 如果需要，参考这里替换默认markdown解析，https://github.com/celsomiranda/hexo-renderer-markdown-it　</span></span><br><span class="line"><span class="comment"># 可惜这个引擎中，```块就不能正常解析&#123;&#123; &#125;&#125;这种东西了</span></span><br><span class="line"><span class="comment"># 不知道那个pandoc后端的怎样。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 链接</span></span><br><span class="line">sed -i <span class="string">'s/"\([^"]*\)"\([h|\/].*\)/[\1](\2)/g'</span> <span class="built_in">source</span>/*.textile</span><br><span class="line">sed -i <span class="string">'s/"\([^"]*\)"\([^h\/].*\)/[\1][\2]/g'</span> <span class="built_in">source</span>/*.textile</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 最后把后缀改了，hexo不会处理后缀是textile的文件</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> <span class="built_in">source</span>/_posts/*.textile; <span class="keyword">do</span></span><br><span class="line">cp <span class="variable">$file</span> <span class="built_in">source</span>/_posts/`basename <span class="variable">$file</span> .textile`.md</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>当然，最好脚本辅助，手工确认。</p>
<p>另外，有这么个东西<a href="https://github.com/wzpan/hexo-renderer-pandoc" target="_blank" rel="external">hexo render pandoc</a>来替换hexo的渲染引擎，就能顺便支持textile。值得一试和研究，也许里头就用到对文档元数据或者跳过指定行数的转换吧。没有细看。话说，还看到<a href="http://codefalling.com/2015/11/15/new-version-of-hexo-renderer-org/" target="_blank" rel="external">@CodeFalling</a>使用emacs来做org渲染后端，hexo的灵活性可见一斑。</p>
<h2 id="feed">feed</h2><p>默认的hexo竟然不像jekyll一样有feed生成支持！不过有<a href="https://github.com/hexojs/hexo-generator-feed" target="_blank" rel="external">hexo-generator-feed</a>这个插件来实现。具体参照文档就好。</p>
<h2 id="添加友情链接、分类页、标签页">添加友情链接、分类页、标签页</h2><p>根据<a href="http://theme-next.iissnan.com/theme-settings.html" target="_blank" rel="external">根据Next主题的文档来就好</a>。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/javascript/2015/11/17/greasemonkey-userscript/" itemprop="url">
                  GreaseMonkey Userscript 开发的难与易
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-17T22:21:25+08:00" content="2015-11-17">
              2015-11-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/javascript/2015/11/17/greasemonkey-userscript/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="javascript/2015/11/17/greasemonkey-userscript/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>这两天，写了一个简单的基于有道在线翻译的GreaseMonkey屏幕取词脚本。</p>
<p><a href="https://greasyfork.org/en/scripts/12758-youdaodict" target="_blank" rel="external">点我查看GreaseFork</a></p>
<p><img src="http://img.vim-cn.com/6d/513d2b37bf298b4ae77bc663c597260e5a115e.gif" alt="有道取词Userscript"></p>
<p>我想做这件事很久了，从我还不是一个前端开发者的时候，就一直想做这么一个轻量的浏览器脚本，方便自己查看英文的文档和文章。没想到想了这么久，真正没做多久。</p>
<p>作为一个Ubuntu Linux用户，浏览器取词我有几个选择：</p>
<ol>
<li><p>尝试安装有道词典Linux版本、openyoudao或者其他stardict或者goldendict这种本地词典。但我并不觉得我需要桌面软件。</p>
</li>
<li><p>有人做了个Google translate tooltip的GreaseMonkey脚本实现这个，非常棒。但谷歌的服务在国内的服务非常不稳定，取词功能经常不能正常使用。</p>
</li>
<li><p>有道提供了<a href="http://fanyi.youdao.com/web2/?keyfrom=fanyiweb" target="_blank" rel="external">网页翻译2.0</a>，通过书签执行一段代码把取词功能注入当前页面。然而，首先随着浏览器安全特性的加强，该书签不能正常使用，其次每次都要先点书签才能取词(也许是快捷键)。</p>
</li>
</ol>
<h2 id="选择是难">选择是难</h2><p>很多网站，包括cnblog发现都提供了取词版本。我面临的选择是：</p>
<ol>
<li>在这些已有的浏览器取词脚本基础上学习修改。</li>
<li>凭借着自己的感觉从新设计</li>
</ol>
<p>选择上花了很多时间。</p>
<p>方案一的优点有：</p>
<ol>
<li>成熟美观。</li>
<li>能学习到很多东西</li>
</ol>
<p>方案一问题在于：</p>
<ol>
<li>源码难理解。代码量较大，都是压缩甚至混淆变量过的。</li>
<li>有些和当前页面的样式或者脚本搅和在一起。不易分离</li>
<li>被浏览器或网站安全设置废掉，未必能使用</li>
</ol>
<p>终于，由于我的智商被有道在线翻译那个脚本所碾压，我想还是看看功能自己设计下，做个简单版本。</p>
<p>想的很简单</p>
<h2 id="设计是易">设计是易</h2><p>想法很简单。</p>
<ol>
<li>鼠标选词</li>
<li>向第三方发起请求，比如bing的翻译或者有道的</li>
<li>读取返回，弹出tooltip，格式化数据</li>
<li>其他辅助功能比如发音、单词本等等</li>
</ol>
<p>设计是最简单的一环，后面你会看到时间都花到哪里了。</p>
<h2 id="知易行难">知易行难</h2><p>通过谷歌，很容易完成第一步，在脚本中得到选中的文字。</p>
<p>第二步就开始面临问题。作为前信息安全专业从业者，很清楚ajax这种东西跨域是受限制的。稍微翻阅scriptish文档发现GM_xmlhttpRequest可以满足我的需求。</p>
<p>除却和  <code>XMLHttpRequest</code>这种东西并不太一样的api造成的各种细节错误，之后碰到的问题是我整个开发过程最棘手、花费时间最长的问题。</p>
<p>无论onload、onerror还是onreadystate的回调中，<code>GM_log</code>都没有打印出任何信息。</p>
<p>firebug和火狐内置调试器也没有显示任何通信。这和我在网络上看到的GreaseMonkey相关信息并不太相符。</p>
<p>经检查脚本元数据<code>@grant</code>，觉得已经授权这个跨域函数也没什么问题。</p>
<p>折腾一阵，确认API调用和细节都无法确认问题后，采取曲线调试方案。</p>
<p>更改请求地址到本地，确认请求确实发出了。那么，它有返回吗？</p>
<p>在本地用netcat模拟返回数据，仍然没有打印任何信息。我开始怀疑难道GM_xmlhttpRequest是会对返回结果做验证？必须报头正确？</p>
<p>第一天就这么过去了。</p>
<p>第二天我决定尝试代理来看来往的通信是否正常。</p>
<p>方便起见，先用nc充当了下代理，检查了下相互通信，未见有什么不对的。</p>
<p>为严谨起见，用burpsuite来设置一个透明本地代理，让浏览器指向那个代理。经过检验，完全没看出通信有什么问题。但onload和其他回调也不会被触发。</p>
<p>谷歌搜索得到一些stackoverflow、github issue和greasewiki上的信息，但问题仍不能确认和解决。</p>
<p>只是昨天晚上baidu时心心念念，发现firefox贴吧里有人吐槽scriptish不稳定的一些地方，今天又看到一些讨论，决定换回GreaseMonkey试试，事实证明这是明智的。</p>
<p>然而，一换发现什么都打印不出来了。后来反复尝试，发现GM_log不能用，我简直震惊了，wiki上写着玩的么，还是有什么变化。反正我发现console.log可以使用，那就继续开发下去了。</p>
<p>最难的部分就这么糊里糊涂过去了。</p>
<h2 id="数据请求顺风顺水">数据请求顺风顺水</h2><p>一旦请求完成，解析json数据，按需展示就是水到渠成的事情。</p>
<p>然而，并不是那么简单。</p>
<h2 id="JS异步与回调之难">JS异步与回调之难</h2><p>JS的异步特性带来了这些不符合人类直观思维方式的流程控制风格。</p>
<p>按理说我应该很习惯javascript的异步操作流程控制的种种问题，但还是踩了次坑。</p>
<p>弹出和渲染tooltip的函数没有读到返回数据！</p>
<p>好在对javascript程序员debug这种问题比之前的问题简单太多。一看想起来GM_xmlhttpRequest是异步过程，而不是同步，我这里却要待异步过程返回结果再执行下一个函数。</p>
<p>想想promise应该不用，虽然firefox41肯定原生支持ES6 promise了。但，就这点函数干脆。。。还是回调“地狱”吧。</p>
<h2 id="JS难中有易">JS难中有易</h2><p>说到ES6，ES6提供了很多方便javascript编程的好东西，通过<code>let</code>和<code>=&gt;</code>实现更好的this和作用域一致，通过<code>Template</code>方便字符串操作等等。</p>
<p>很庆幸，GreaseMonkey的话我只考虑firefox用户，反正好早的时候这些ES6特性浏览器都支持了。</p>
<h2 id="JS易中又难">JS易中又难</h2><p>JS让人非常难过的一个地方，是DOM操作和各种webAPI。只能说丧心病狂。你记得清楚如何获得viewport区域大小么？知道如何获得鼠标相对viewport位置么？知道为啥获取区域高度或宽度并没有获得么？看到clientWidth、offsetWidth、availWidth…有没有想砍人？</p>
<p>为了让脚本能正确在屏幕边缘让tooltip出现在viewport内，在各种边界条件数学计算题这里又纠结了好久。</p>
<p>GreaseMonkey相比Scriptish少了一个比较方便的特性： <code>@css</code>。虽然可以在head标签中通过<code>GM_addStyle()</code>来注入样式，我总觉得会不合时宜的覆盖不该覆盖的东西，我对Google Translate Tooltip在阮一峰大大的网站上奇葩的样式表现印象深刻。所以，还是选择在DOM中注入的样式。</p>
<p>这是体力活，你说体力活难不难呢？</p>
<h2 id="最难的部分">最难的部分</h2><p>安全是最难以面对的一个问题。之所以，很多标签、脚本在页面上失效，都是由于近年来浏览器越来越严格的安全策略。我在开发这个脚本时碰到了两点：</p>
<ol>
<li>在https网站页面中无法加载http的资源。在调试工具中可以看到<a href="https://developer.mozilla.org/en/docs/Security/MixedContent" target="_blank" rel="external">mixed content</a>的字样。</li>
<li>如果网站报头中有CSP限制。调试工具中也能看到提示。</li>
</ol>
<p>问题一，可以通过GM_xmlhttpRequest方法实现混合协议内容，如果外部资源也支持https请求也行。当我开发发音功能时就发现有道的语音api可以用https访问。</p>
<p>问题二，只能通过各种CORS技术实现(参见附录)。<del>我还没开始做。</del>但看到<a href="http://stackoverflow.com/questions/28554022/how-can-i-play-sound-with-a-greasemonkey-script-in-firefox-when-theres-a-conte" target="_blank" rel="external">Stackoverflow上有个示例</a></p>
<blockquote>
<p>你确定要通过打开<code>about:config</code>禁用firefox对CSP的支持吗？</p>
</blockquote>
<p>不！！</p>
<p>通过<code>GM_xmlhttpRequest</code>完成异步请求，将数据用浏览器播放出来实现跨域资源引用。这样，在一定程度上并不降低浏览器安全性，却能够实现需求，完成功能。</p>
<p>Cheers！</p>
<h2 id="附录">附录</h2><ul>
<li><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=866522" target="_blank" rel="external">https://bugzilla.mozilla.org/show_bug.cgi?id=866522</a></li>
<li><a href="https://github.com/greasemonkey/greasemonkey/issues/2046" target="_blank" rel="external">https://github.com/greasemonkey/greasemonkey/issues/2046</a></li>
<li><a href="http://forums.mozillazine.org/viewtopic.php?f=38&amp;t=2958293" target="_blank" rel="external">http://forums.mozillazine.org/viewtopic.php?f=38&amp;t=2958293</a></li>
<li><a href="http://stackoverflow.com/questions/28554022/how-can-i-play-sound-with-a-greasemonkey-script-in-firefox-when-theres-a-conte" target="_blank" rel="external">http://stackoverflow.com/questions/28554022/how-can-i-play-sound-with-a-greasemonkey-script-in-firefox-when-theres-a-conte</a></li>
</ul>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2015/11/12/i-am-back/" itemprop="url">
                  我回来了
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-12T00:00:00+08:00" content="2015-11-12">
              2015-11-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2015/11/12/i-am-back/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2015/11/12/i-am-back/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="看病与思考">看病与思考</h2><p>昨日，很遗憾听说一个朋友的兄弟在出车祸之后一个月后，终于还是走了。生死去来，棚头傀儡，一线断时，落落磊磊。</p>
<p>前几个月，我也很难过，一度不知道面对的是什么。我想说说看病的经历。</p>
<p>症状是头疼，疼得特别厉害，晚上睡不着、或者睡着了半夜疼醒。眼眶下边，有时候太阳穴上头，耳朵旁边都会疼。</p>
<p>总共去北邮社区医院耳鼻喉、口腔，北医三院耳鼻喉、神经内科(头疼专科)，某市中心医院耳鼻喉科、神经内科、眼科，北京协和医院神经内科、耳鼻喉科、口腔科，一直到最后把牙拔掉，终于头疼停歇了。</p>
<p>我想重点说说感受</p>
<ol>
<li><p>医生的经验往往是领域内，有更好的判断力。比如神经内科的专家告诉我，你这个比较奇怪，一般我们只考虑头部而不是面部的疼痛。而且头疼的原因很复杂，百分之八十根本找不出原因。再比如耳鼻喉的专家告诉我，你这个鼻窦囊肿根本没什么事，建议去神经科检查。再比如头疼专科专家做了一系列排除后让我复查鼻窦CT，如果发现问题还是去耳鼻喉。比如我怀疑牙齿或周边问题，可是非口腔科医生一个没看出问题，还有似乎没看清还带手套摸了下说没问题的社区医院口腔科医生。</p>
</li>
<li><p>症状关联还是要靠自己。要清晰记录、准确描述自身症状。我一路看下去，各科医生也不能确保问题在哪里，倒是自己去问，会不会因为牙齿的问题造成的囊肿，要不要还看下口腔科。后来发现疼痛发作时间和牙疼的规律有些相像，另外就是有时候刷牙或者漱口会造成头猛地一疼。后来一天刷四次牙竟然不怎么疼了更让我怀疑。。。</p>
</li>
<li><p>看病不容易，挂号难，等了一周可能就看那么一会儿。检查有可能也要预约，做完检查还要等取结果。等啊等。。。</p>
</li>
</ol>
<h3 id="反馈">反馈</h3><p>在北京看病是一个很长的周期，特别是疾病很难在某个领域内精确诊断时，往往都是在各大医院辗转求医。去协和头疼专科的时候，一个阿姨给我展示她的病历，厚厚的一本上写满了在各大医院的辗转的诊断、治疗信息。时间跨度长达数年，病情反反复复，原因则不明。一方面，零散在各地的医院积累了大量的诊断信息、治疗信息。另一方面，医生一般很难收到门诊病人的反馈。</p>
<p>好在有很多医生在病房。然而，反馈真是个很重要的东西。可惜我最后去拔了牙，之前的所有的医生都不会得到反馈这个症状可能和牙有关系，估计他们忙碌接待了成百上千各式各样的人，也不会记得某些——特例吧。</p>
<p>反馈很重要。北医三院神经科专家李坚当时对我的症状把边边角角都想了想，最后推荐去宣武医院一位医生那里看看去排除下极度罕见的特例。因为他的一位患者曾经给过他反馈，他印象比较深刻。</p>
<p>我校医院口腔科医生现在都不知道我智齿蛀牙这么厉害，但我也不可能跑回去跟她说当时你没看清、也没摸出来，智齿其实缺了一块。。。</p>
<p>我想，也许只是个美好的远景，商业大数据不应该仅仅应用到娱乐和消费之上，更多的应该能服务于我们生活的基础、生活的方方面面。希望互联网能促进传统医疗行业的数字化和高度整合，基于数据驱动开创新的医疗模式。这对参与者是商机，也是降低整个医疗成本的关键。</p>
<p>目前就自己搜集资料和使用的体验上来看，好大夫是首屈一指的高质量医患交流平台、春雨医生也还不错，可能主要移动端的不怎么能靠搜索引擎检索到，但响应速度挺快。<br>丁香园平台内容据说很优质，可惜搜索引擎也检索不到相关信息，需要注册登录。</p>
<h3 id="愿景">愿景</h3><p>个人希望将来的医疗信息平台是：</p>
<ol>
<li>基本开放的。可以通过搜索引擎高效检索，而不是在信息上设置层层权限和障碍。这一点，非常喜欢好大夫，有些权限控制来保护患者隐私，但其他信息一般不会不可见。医生有时候也会发些不错的科普文哈哈。</li>
<li>高质量的。有专业的医生和认真对待自己病情的患者。有热衷分享和共同创造价值的开放社区。社区对品质和贡献有追求。有些网站的质量简直不忍直视，一看都是复制粘贴。</li>
<li>数据驱动的。不知道该不该寄希望于那些赚得钵满盆满，牛逼吹得天花乱坠，在推动娱乐文化和消费狂潮上无所不用其及的互联网企业们。商机和风险必然是相伴而生，目前看，医疗相关的互联网企业似乎还是需要偏运营更多才能勉强生存。O2O才是各个企业的重点。行业达到了一定的原始数据和资金积累之后，应该会有更多技术上追寻进步的力量去改善整个医疗行业的未来吧。</li>
</ol>
<h3 id="关联分析">关联分析</h3><p>当时，头疼找不出原因的时候。开始记录疼痛和生活点滴做关联。事实上，源于早前在<a href="http://eloquentjavascript.net/04_data.html" target="_blank" rel="external">Eloquent Javascript中的有趣例子</a>。</p>
<p>之后，一直想做这些吧，一是一直对关联挖掘算法、NLP、机器学习的东西念念不忘。总觉得可以做点什么，能让疾病诊断这方面有点突破和改变。</p>
<p>可是，我个人的数据量小。这时候就发现好大夫这个网站用来做数据源是可能的。有次和周老板(话说，周老板他们和丁香园那边的冯某某都认识。。。)讨论百度口碑和淘宝大家印象的实现时，开始考虑来对医生、患者提问信息条目等等里头做主题分类一类的事情。大概想了下相关技术。</p>
<h4 id="数据获取">数据获取</h4><ol>
<li>数据的获取。爬虫自不用说，一般没有写不出的爬虫。基本上、Python和Nodejs都写过，觉得Python工具栈更全面成熟。效率我会考虑twisted而不是gevent，那个内存占用太吓人。</li>
<li>数据的清理。这是体力活。</li>
</ol>
<h4 id="NLP">NLP</h4><p>自然语言处理、主题模型等等。常用算法、模块基本都没问题。最最关键的是、做中文的时候， 特别是特定领域中文自然语言处理的时候，如果想在效率上提升、词典很重要。我大概看了下Matrix67当年关于分词发现的那篇博客，又对照了下某人的新词发现硕士论文。看了看HanLP和jieba分词的原理，瞄了瞄HMM和CRF分词的思想。最后自己实现了下Matrix67的算法玩(你敢信是用nodejs，结果后来RedHat的Bruno问，What do you do with Nodjs? 我说。。。String Manipulation…)。</p>
<p>另一方面，写的时候发现自己应该在NLP理论上学习更多，于是看了看<a href="http://www.nltk.org/book/" target="_blank" rel="external">NLTK book</a>，没想到，因为前一阵刚看完<a href="https://hacks.mozilla.org/category/es6-in-depth/" target="_blank" rel="external">Mozilla Hacks的ES6: In Depth系列</a>每次看到它介绍什么，我都想了想NLTK怎么实现的，在javascript中依托ES6该怎么实现。于是把他的FreqDist类在ES6中实现了，终于最后掉到Wordnet这个大坑里。。。开始在js上试图实现NLTK Wordnet Corpus Reader这种东西。顺便说下，写个稍微大点的东西才发现Python真是好啊真是好。所以RedHat的Bruno问，What do you do with Nodjs? 我说。。。String Manipulation我觉得再合适不过了)。</p>
<p>自己实现终究是玩，关键是知道有一票可用的比较高质量的NLP实现。python的有NLTK和果壳某位的snowNLP还有jieba，nodejs有NaturalNode，java啊go啊C++啊啥都有一大堆分词或者新词发现的东西。</p>
<p>一些不错的参考资料如下：</p>
<ul>
<li><a href="http://www.matrix67.com/blog/archives/5044" target="_blank" rel="external">互联网时代的社会语言学：基于SNS的文本数据挖掘</a>（虽然我觉得某个论文讲的更丰富，但论文这种东西，不接地气）</li>
<li><a href="http://www.isnowfy.com/introduction-to-chinese-segmentation/" target="_blank" rel="external">浅谈中文分词</a></li>
<li><a href="http://www.hankcs.com/nlp/" target="_blank" rel="external">Hankcs的各种文章</a>(他的机器学习数据挖掘笔记也值得一看)</li>
</ul>
<p>后来看NLTK了解了下Wordnet这种东西，额，有空再说吧，简单来说就是词、语义、近义词之间的复杂关系网络。</p>
<p>可是wordnet是英文词汇的，中文的质量、近义词语关联都是问题。</p>
<p>结合之前对淘宝大家印象的考虑。看到淘宝对每种标签印象还在评论中标明了相关语句。就简单思考了下怎么通过爬虫获取某宝的近义词/和对应句子数据，打开网络控制台看了看。然而并不知道我能拿来有什么用，做分词之后的tokenize？</p>
<p>反正，好奇心驱使着瞎看了很多也想了很多。真正做的精力却有限的只有未完成的英文Wordnet Corpus Reader、和Matrix67的算法对西游记和鲁迅全集并不觉得效果很好的分词算法实现。</p>
<p>对了，差点忘了NLTK这本书还在继续看，可是Wordnet Corpus Reader不做完我估计是看不下去了。。。感谢丁总还给我发了个电子版能在kindle上看= =</p>
<p>由于贵邮日了狗的毕业设计，对bag of n-gram算法，TFIDF以及如何利用Scikit Learn训练和交叉验证算是熟悉了。</p>
<p>最后，词语的获取，输入法的各种细胞词库、搜索引擎的热搜往往带来的新词啥的</p>
<h4 id="可视化">可视化</h4><p>数据来了之后，就是可视化的问题。WordNet之后就想可视化出来，准备用D3，在看NaturalNode的讨论时看到D3已经拆分，准备之后就看看这个数据驱动的。。。嗯。</p>
<p>算了，都只是设想。我就随便说说，你就随便听听。如能有半点波澜，也没有白花这么久写这么多。</p>
<h2 id="I’m_back|致谢">I’m back|致谢</h2><p>一方面，蛀牙拔掉之后头再没疼过，另一方面，校招早早地就如火如荼。校招走的三心二意。</p>
<p>结果是很多没打算过的阴差阳错有缘无分哈哈。截至现在，没有offer，却觉得这状态不好也好。</p>
<p>感谢这期间，关注过我，为我操心过的:</p>
<ul>
<li><a href="https://github.com/itomsawyer" target="_blank" rel="external">TomSawyer</a>和内推阿里前端的Li Dongmeng师兄</li>
<li><a href="http://armsword.com/" target="_blank" rel="external">Armsword</a>和领英中国内推我的Zhou Tong师兄</li>
<li><a href="http://reverland.org">我的腾讯一面面试官Wu Lijian</a></li>
<li>给了波Microsoft的内推的<a href="https://ichon.me/" target="_blank" rel="external">Chon</a>，好吧，我做了二十分钟笔试就去游泳了。</li>
<li>愿意为我推某安全创业公司的<a href="http://www.programlife.net/ctf-binary-tricks.html" target="_blank" rel="external">天枢Teacher G</a></li>
<li>直接向某互联网金融公司HRD推荐我的<a href="http://m.instrument.com.cn/" target="_blank" rel="external">周老板</a>，虽然因为实习问题就没有然后了。。。</li>
<li>还有<a href="https://github.com/sbilly" target="_blank" rel="external">sbilly大大</a></li>
<li>来自美团的碧水中的扯旗鱼</li>
<li>帮朋友内推头条的qiukun大神</li>
<li>帮朋友内推搜狗的<a href="https://github.com/lkasdolka" target="_blank" rel="external">lkasdolka</a></li>
<li>复试没去还打电话联系我又给硬安插了一次面试的的Tencent HR zyy</li>
</ul>
<p>我故不才，辜负了大家的期望= =，一直犹犹豫豫。</p>
<p>最近投了个Redhat的前端简历，虽然。。。Redhat根本不招前端基本都是java和kernel为主。。。但怎么说，真是一家和开源紧密联系的企业，我就参加了这一场宣讲，全都是讲开源去了。而且自从从greathaul那里听说了远程工作这个东西，其实，还是很有倾向。听到Fang Yue说到他一般在家工作眼睛感觉一亮</p>
<p>再看吧，感谢Bruno的关注和Jim Ma和Zhang Cheng的指教。还有组织Redhat活动的Charlie？和联系的HR们。在Redhat的工作，看上去真是很有挑战。嗯，不管怎样，我前所未有的觉得java大法好。</p>
<p>我一度觉得，自己干了太多没有意义的事情，时光如梭、岁月流逝，身边的人都承担起了自己的生活和他人的未来，我还是无所作为也没做啥有价值的事。</p>
<p>后来，看到<a href="https://github.com/taizilongxu/douban.fm/blob/13c68d2b1083eefe6ea162983b0de232469e1693/doubanfm/lrc2dic.py" target="_blank" rel="external">douban.fm中的某个文件</a></p>
<p>看到<a href="http://fangwang.me/2015/06/22/chinese-python-positions-analysis-based-on-lagou-data.html" target="_blank" rel="external">国内 Python 职位分析</a></p>
<p>看到<a href="http://www.scipy-lectures.org/preface.html#contributing" target="_blank" rel="external">scipy lecture notes的贡献者名单中</a>竟然有我。。。</p>
<p>偶然看到<a href="http://sterncat.github.io/all/optics/2015/03/22/Opticspy-develop.html" target="_blank" rel="external">一个光学python库</a>，简直是我还在学光学时梦寐以求的东西。没想到作者竟然是贵邮的，更没想到作者竟然说看过我的网站上的相位去包裹的两篇文章。虽然已然不知道是什么了。</p>
<p>等等。</p>
<p>我想吧，也好吧。就像当年受到那些对开源非常友好又充满热情的Linux用户，可能我都不记得他们是谁了，他们甚至只是记录了简单的甚至错误的东西。但他们的文章、笔记、天真烂漫的态度和热情则深深感染我并驱使和决定了我今后的人生轨迹。希望自己头晕脑胀记下的絮絮叨叨的只言片语，某些热情、坚韧和情怀，能播下哪怕一点点思维模因的种子。也许哪一天，我们所梦中的世界就真的在人间降临吧。</p>
<p>天空不曾留下痕迹，但我已飞过。就算再也不能飞。</p>
<p>我想说，别忘记在评论或者邮件给你赞许的人以反馈，人生短暂，珍惜每个有缘的人。</p>
<p>好多曾经关注的博客、人，渐渐消失在视野之中，愿他们从未走远，过去，现在，未来。</p>
<h2 id="从Jekyll迁移到Hexo">从Jekyll迁移到Hexo</h2><p>从jekyll迁移到了hexo。</p>
<p>其实不想迁移，我不想打破很多现有的东西。</p>
<p>jekyll要求ruby版本高于2.1. Ubuntu源里只到2.0。但我的笔记本散热不好，两次用rvm编译Ruby cpu过热直接灭了之后，还是用熟悉的node吧。话说，为了解决过热这种问题我把cpufrequtils和cpulimit都用上了。</p>
<p>详情请期待之后的文章。</p>
<h3 id="TODO">TODO</h3><ul>
<li>RSS</li>
<li>友链</li>
<li>评论</li>
<li>统计</li>
<li>分类、标签关于页面</li>
<li>我想改个主题</li>
<li>数学公式</li>
<li>简历等迁移</li>
</ul>
<p>暂时先这样，等整个站点完全改完了，就会把当前页面替换吧。现在关注的各位，对不住了，使用谷歌搜索检索本站吧。</p>
<p>感谢您一直看到这里。写了一天，论文一个字没写，好累。</p>
<p>Have fun!</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2015/08/07/maybe-the-last-post-here/" itemprop="url">
                  Maybe the last post here
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-08-07T00:00:00+08:00" content="2015-08-07">
              2015-08-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2015/08/07/maybe-the-last-post-here/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2015/08/07/maybe-the-last-post-here/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>花二十分钟，也许这将是这里最后一篇了。</p>
<p>随便扯些什么，反正二十分钟后我就该关上编辑器。已经将尽一个月没有打开vim，操作的熟悉感依然。</p>
<p>我还好好的活着，日子依然如旧，世界照常运转。</p>
<p>想应该爱过</p>
<p>想应该挣扎过</p>
<p>甚至向往过</p>
<p>破灭过</p>
<p>也追寻到一霎那的欢愉</p>
<p>转瞬即逝的成就感</p>
<p>觉得离她很近</p>
<p>觉得世界布满了光</p>
<p>觉得一切都像碧水那样。</p>
<p>莫说相公痴，更有痴似相公者</p>
<p>叹人间，美中不足今方信，便纵是举案齐眉，到底意儿难平</p>
<p>晓来谁染霜林醉，总是离人泪</p>
<p>觉得光明过觉得黑暗</p>
<p>心灰意冷过</p>
<p>坚持过</p>
<p>还没开始都放弃过</p>
<p>无所谓了。</p>
<p>整篇意识流，不要指望有什么中心思想</p>
<p>因为这是，</p>
<p>告别，</p>
<p>是</p>
<p>宣言</p>
<p>也是展望</p>
<p>更是一首不写给任何人</p>
<p>也是写给每个有缘的看客的诗</p>
<p>心似双丝网，中有千千结。</p>
<p>莫把幺弦拨，怨极弦能说</p>
<p>狂风落尽深红色，后面一句我打不出来了</p>
<p>我喜欢挺民谣</p>
<p>当你听到时</p>
<p>民谣就属于每个听者</p>
<p>它会是每个人独有的诗</p>
<p>落花有意随流水，流水。</p>
<p>无心</p>
<p>美中不足</p>
<p>好事多魔</p>
<p>一切有为法如梦幻泡影</p>
<p>如露亦如电</p>
<p>执念</p>
<p>执念</p>
<p>执念</p>
<p>终于还会破灭</p>
<p>我要告别</p>
<p>一片碧水丹心</p>
<p>一片痴情如梦</p>
<p>告别美丽的姑娘</p>
<p>告别难以割舍的校园</p>
<p>告别自由自在的岁月</p>
<p>我已经告别了家乡</p>
<p>告别了爹娘</p>
<p>告别了爱着的亲人</p>
<p>无能为力的让世界吞噬</p>
<p>告别了理想</p>
<p>告别了金色的梦乡</p>
<p>告别了无边的畅想</p>
<p>和天马星空的心</p>
<p>无所畏惧的心</p>
<p>坚韧不拔的心</p>
<p>这是首</p>
<p>写给秋天的歌</p>
<p>是一首写个夏天的挽歌</p>
<p>有多少个夏天可以重来</p>
<p>时光永远停在永无止境的八月</p>
<p>停在</p>
<p>四月是你的谎言</p>
<p>生死去来</p>
<p>棚头傀儡</p>
<p>一线断时</p>
<p>落落磊磊</p>
<p>千言万语千言万语</p>
<p>算了，没啥想说的</p>
<p>四年前</p>
<p>七年前</p>
<p>十二年前</p>
<p>二十年前</p>
<p>一百年前</p>
<p>千万年前</p>
<p>时间就这样</p>
<p>世界就这样</p>
<p>生老病死</p>
<p>无常变幻</p>
<p>有开始</p>
<p>就有结束</p>
<p>离恨恰似春草，更行更远还生</p>
<p>然而</p>
<p>挺不住</p>
<p>留不住</p>
<p>抓不住</p>
<p>再见</p>
<p>让我再说一万遍</p>
<p>时光都变成了烟</p>
<p>变成了楼下的柿子树</p>
<p>窗前的风</p>
<p>无人顾怜的窗前薄荷</p>
<p>和办公室一个人敲着无意义文字的我</p>
<p>再见</p>
<p>域名应该也要到期了</p>
<p>再见</p>
<p>就这样，所有无关紧要的</p>
<p>将烟消云散。</p>
<p>不是科学技术，不是钱，不是权利，是我们心中的圣光</p>
<p>成就我们的世界和生命的意义。</p>
<p>有缘认识你们真好。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2015/07/03/" itemprop="url">
                  七月流火？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-07-03T00:00:00+08:00" content="2015-07-03">
              2015-07-03
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2015/07/03/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2015/07/03//" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <blockquote>
<p>沙上并禽池上瞑，云破月来花弄影。</p>
</blockquote>
<h2 id="摄影">摄影</h2><p>短暂的摄影生涯呢。康神给我留下了个Canon 60D玩，<a href="http://www.d0u9.xyz/" target="_blank" rel="external">D0u9</a>带着我玩了一阵，算是入了门，大致知道ISO，F数还有啥啥的都怎么回事，碰到光强的时候怎么办，阴天如何，什么时候拍照效果好，又科普了种种镜头滤镜，他在某本古老的摄影杂志上看来的种种技巧，关注的新闻中那些天马行空的户外摄影师和那些专注产品摄影的光影魔术师。</p>
<p>然后，我依然发现，感觉还没我用手机拍出来的效果好= =。。。</p>
<p>但科研楼天台上拍蓝天白云。远处的群山云影，历历在目。</p>
<p>在阴森的主楼厕所里拍主楼华灯初上，天际微白。</p>
<p>可是，我渣本处理这些巨大的RAW文件，简直卡到。。。</p>
<p>而且看不懂gimp那个UFRaw插件怎么用。。。</p>
<p>直到呢，有次给游泳队拍照，拍下了某某妹子没睁眼(原谅渣摄影！！！)，然后动手画上了一双水灵灵的大眼睛。。。我发给女主问她，女主竟然没发现！！！！！！！！！！！</p>
<p>我觉得，还是绘画更能表达人的情感，而摄影怎么也不可能还原我想看到的东西。</p>
<p>可是。。。我画的画都是这样的！！！！！！</p>
<p>![画]</p>
<h2 id="树莓派和山寨四轴">树莓派和山寨四轴</h2><p>D0u9入了个树莓派2,一直向我安利性能比1好了多少多少。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2015/06/27/" itemprop="url">
                  好像毕业的是我似的
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-06-27T00:00:00+08:00" content="2015-06-27">
              2015-06-27
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2015/06/27/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2015/06/27//" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>小松林对面大屏幕里不停放着西土城路十号的日子，好像毕业的是我似的。</p>
<p>学十一下面，学八下面接连好几场露天毕业歌会，好像毕业的是我似的。</p>
<p>校园里到处是穿着学士服拍照的男男女女，黑色点缀着黄色银色和粉色，好像毕业的是我似的。</p>
<p>去年九月份，我在回家的火车上。怎么就说到多喜欢这里了，对北邮言必黑，谈必骂，然而我知道我走的时候一定会哭得一塌糊涂。</p>
<p>哭得一塌糊涂。</p>
<p>还没有毕业就已经哭了。</p>
<p>好像毕业的是我似的。</p>
<h2 id="从两年前开始毕业">从两年前开始毕业</h2><blockquote>
<p>再见再见再见再见一万遍，如果明天就不再见。</p>
</blockquote>
<p>两年前的四月，第一次踏进这片土地，小松林的大屏幕映放着新闻联播，映着白惨惨的光。历历在目。</p>
<p>九月份来完成分组，被分到某组，和实验室的师兄和青阳一起去教三和主楼搬东西，新雨过后，树木翠绿蓊郁，一边气不饱的三轮车、一个脚坏的来自中心的板车，还有康神说青阳的人生梦想就是坐在三轮车上唱着歌，往事像风一样被吹散了。</p>
<p>两年后又一次和师弟师妹推着板车搬去教三，顺路和青阳下主楼地下室，我的心都快碎了，所有的人都吹散了。</p>
<p>两年间搬了三次地方，换了五个项目组，穿插着帮忙n次，见识了那些可爱的人们，我不想忘记。</p>
<p>两年前翔哥毕业时，我以为一切还远，毕业比想像中来的突然。</p>
<p>三个月前送康神去邮局邮寄行李，已然历历在目，看着他在邮局穿针引线，看着他在包裹上书写家里的地址，看着邮局鱼缸中无忧无虑游来游去的鱼，我看他的侧影是这么伟大，却觉得送走的时候觉得这么凄凉。似乎穿越时光在送别一年后离开的自己，他年葬侬知是谁。</p>
<p>最早时一起去银河的师兄。。。我写不下去这条线了，到此为止。</p>
<p>终于也离开实验室了，恨不得给每个人告别，一个一个抱住亲吻。</p>
<h2 id="碧水情深">碧水情深</h2><p>几天前游泳队拍毕业照，我说把我叫上啊。</p>
<p>转眼就毕业了，两年前紫强才大三，我还很羡慕他们的青春岁月还很长很长。</p>
<p>见着他争取保研，做了阵销售，干了阵产品，开始准备出国然后就毕业了。</p>
<p>好像所有人都被不可名状的巨大力量推着前进，身不由己。很多熟悉的面孔都渐渐从身边消失了。</p>
<p>扯旗毕业了，其实毕业前就慢慢不再见得到。</p>
<p>彬哥早毕业了。</p>
<p>涂涂也见得少，也忙着为出国做准备</p>
<p>丹丹也很少见到，应该忙着学业和健身吧</p>
<p>丁总倒是最近常见到去游个澡，7月2号就远赴异国他乡了</p>
<p>黄老师，听说上班忙成，嗯</p>
<p>范老师，倒经常有见到。</p>
<p>金帽女神反正我去的晚从来没见到过。。。</p>
<p>小忧自从成为女博士之后好像就没见到过了</p>
<p>前几天忽然碰到杨宇，一说都有一个月没游了</p>
<p>前几天还碰到某庄子睿，怎么也准备弃研去香港，月余不游泳了。</p>
<p>翔哥毕业前还常去，现在偶尔会回来陪师姐游下。</p>
<p>刘可昂男神估计，随着我们即将毕业也会去得越来越少。</p>
<p>高鸣男神倒是，好羡慕他还有两年。</p>
<p>师姐也好久没游了。</p>
<p>救生员换了一波，晚上说我去晚了，李涛去了，我着实吃了一惊。</p>
<p>哎呦我去，还有毕业的师姐和之前碰到还经常打招呼然而并不知道叫什么的师姐同学</p>
<p>一起打腿，休学回家不知现在如何的谢浩师兄。</p>
<p>毕业那阵紫强说他三观混乱，现在混乱的终于轮到我了。</p>
<p>碧水中纷乱的梦，</p>
<p>东门内那片地方是我在北邮最爱的地方</p>
<p>碰到的朋友是北邮最宝贵的收获，相形而言，毕业文凭一文不值。</p>
<p>好像毕业的是我似的，让我的泪水拥抱亲吻那片碧水，留下那颗依依不舍的心。</p>
<h2 id="GC">GC</h2><p>心好乱，纷呈的往事倾泻而出，无处放置。</p>
<p>北邮和社团扯上关系，一个是研会实践部，只是偶尔帮帮忙的酱油般存在，另一个就是GC了。</p>
<p>在小松林两年落魄的招新，凭借着aus忽悠了一大堆妹子然后听说第一次见面会就被aus放光了T T。</p>
<p>去蹭GDG各种活动和午饭</p>
<p>时光广场的游园会。</p>
<p>一次随性而至在学活下火锅煮排骨汤。。。</p>
<p>有兴趣看看这里吧<a href="http://reverland.org/life/2014/10/11/gcjust-for-fun/">追忆GC：Just For Fun</a></p>
<p>今天和aus拍了毕业照，aus还在盘算着让我们去他的新居桌游啊跑团啊blabla啊，我希望这不是有生之年，人生轨迹的最后一次交错。</p>
<p>aus竟然还把当年我们坐在马路沿子上落魄招新时让旁边一妹子拍下来的照片洗出来了。。。</p>
<p>这就毕业了？</p>
<p>感觉好像毕业的是我似的。</p>
<h2 id="大学同学们">大学同学们</h2><p>纷纷都安定下来或马上要安定下来了吧。</p>
<p>端午的时候涛涛忽然来找我，一起来帝都上学，然而他已然答辩完毕业。去北理再也没有可以随意蹭饭的人了吧。在学校的主干道上，我觉得吹过的风是时光的呜咽，洒落的阳光是细碎的记忆。</p>
<p>好像毕业的是我似的，</p>
<p>不记得说了些什么。</p>
<p>只记得路上碰到师妹问我去哪。</p>
<p>我只说出了随便转转几个字。</p>
<h2 id="毕业的是我吧">毕业的是我吧</h2><p>两年前，我不知道我想些什么</p>
<p>不知道我期待些什么</p>
<p>我写代码</p>
<p>游泳锻炼身体</p>
<p>做觉得有意思的事情</p>
<p>四处骚扰同学朋友</p>
<p>乖乖的毕业</p>
<p>顺利的找到高薪有户口的工作</p>
<p>捉一只妹子相伴余生</p>
<p>两年后所有都依然很远，</p>
<p>却知道自己多幸福</p>
<p>千里之外的亲人，睡了两年的室友们，在北邮随便走走都能碰到打招呼的朋友，在一个实验室的老师同学，在北京还多有联系的大学高中同学。</p>
<p>取自红楼梦一句话，总结和自勉：</p>
<blockquote>
<p>美中不足，好事多魔。</p>
</blockquote>
<p>就当我们昨天刚毕业吧。</p>
<p>好伤心。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2015/06/12/" itemprop="url">
                  一团乱麻
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-06-12T00:00:00+08:00" content="2015-06-12">
              2015-06-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2015/06/12/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2015/06/12//" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>这一个月在完成实验室的某某项目，对浏览器的混乱性有更加身临其境的体会。</p>
<p>顺便，因为看了别人的metasploit模块，自己也写了个图书馆登录brute force玩玩。跟着wiki和已有的模块好像也不是什么难事。结果真是爱上ruby这门让程序员感到快乐的语言了。正如metasploit unleash 里所说的，因为mixin和各种语法糖，ruby rocks！</p>
<p>而js，由于种种历史和现实原因，可以说是一团乱麻。把javascript the good parts看完，感慨这门语言的强大表现力和灵活性的同时，也感慨灵活而来的种种问题。</p>
<p>百度前端技术学院的作业倒是很久没有动手了，360的前端培训营我给拒了。。。很庆幸没去，到白河湾臭水沟get漂流技能，到高大上的英东游泳馆get摄影技能和跳发技能。感谢某大软安和某游泳队，哈哈。</p>
<p>但是，js却一直在看，没怎么写，总觉得太灵活驾驭不住。把YDKJS的scope那本看完，似乎对很多问题都清楚了很多，然后this、object和prototype只看到mixin章节，不过感觉基础的知识都讲到了。另外YDKJS关于ES6讲的比较多，额。。。</p>
<p>想做个qq机器人，最后也没空做，看到<a href="https://github.com/xhan/qqbot" target="_blank" rel="external">qqbot</a>又瞄了两眼coffee script，觉得似乎ES6和coffee script解决了相同的问题= =，然而coffee script的语法比纯js，es6的js更好看。。。</p>
<p>康神把相机留给我玩了，这两天北京的蓝天和白云美的让人心醉。<a href="http://d0u9.xyz" target="_blank" rel="external">d0u9</a>带着我开始拍云彩，爬到主楼阴森的顶楼排夜景。直到开始处理图像，才觉得电脑性能真是不堪。</p>
<p>n多计划，一团乱麻。</p>
<ul>
<li>囚徒健身</li>
<li><p>包干游泳</p>
</li>
<li><p>图像处理技能</p>
</li>
<li>绘图技能</li>
<li><p>摄影技能</p>
</li>
<li><p>在树莓派上布置蜜罐。</p>
</li>
<li>完善ssh扫描器搜集iphone信息</li>
<li>完善某项目中关于某设备的批量扫描嗅探</li>
<li><p>看各种lkm/内存映射/用户态/GPU rootkit代码，写rootkit</p>
</li>
<li><p>百度前端技术学院作业，PC版和移动版</p>
</li>
<li><p>在树莓派上写个基于node+websocket的聊天室玩</p>
</li>
<li><p>把搁置多年的操作系统写完，也许再用rust写一遍。</p>
</li>
<li><p>看书，rust手册，YDKJS，metasploit unleash</p>
</li>
<li>看代码，某设备加密算法js实现，某些js库的一些源码，metasploit的一些代码，一些linux内核模块代码(iptables)</li>
<li><p>linux下安全审计接触的一些东西。如何发现被入侵，pam，audit，iptables这些都怎么回事。嗯。。。还有SELinux。。。</p>
</li>
<li><p>毕设，操作系统原理，shellcode和libemu，各种数据挖掘算法。</p>
</li>
</ul>
<p>几篇可能会补上的：</p>
<ol>
<li>浏览器安全，xss能做到什么，怎么做，keylogger实现，扫描器，beef项目。</li>
<li>metasploit模块编写——ruby rocks</li>
<li>树莓派——坑爹的安装配置之旅。升级到jessie，配置winATE。</li>
<li>某某加密算法源码解析(不公开)</li>
</ol>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/security/2015/06/01/security-in-browsers/" itemprop="url">
                  Security in Browsers
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-06-01T00:00:00+08:00" content="2015-06-01">
              2015-06-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/security/" itemprop="url" rel="index">
                    <span itemprop="name">security</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/security/2015/06/01/security-in-browsers/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="security/2015/06/01/security-in-browsers/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="同源策略">同源策略</h2><p>同源策略限制来自某个源的文档或者脚本与另一个源的资源交互。同源策略用来阻止一些CSRF攻击。</p>
<h3 id="定义">定义</h3><p>协议+端口(如果指定)+主机都相同。</p>
<h4 id="继承源">继承源</h4><p>来自<code>about:blank</code>，<code>javascript:</code>和<code>data:</code>的URL内容继承加载这个文档的URL的源，因为它自身并没有关于源的信息。</p>
<h4 id="IE特例">IE特例</h4><p>IE有两个关于同源策略的例外：</p>
<ol>
<li>信任区域(Trust Zones):如果两个域名高度互信，比如同一个公司域名，不使用同源策略。</li>
<li>端口：IE的同源策略不考虑端口。</li>
</ol>
<h3 id="变更源">变更源</h3><p>更改页面的源受到限制。脚本可以把<code>document.domain</code>设成当前domain的子集。之后就以此可以作为同源检查的源。例如，页面<code>http://store.company.com/dir/other.html</code>上的脚本可以这样：</p>
<pre><code>document<span class="class">.domain</span> = <span class="string">"company.com"</span>
</code></pre><p>注意必要时要指定端口号，否则会被赋值成null。</p>
<p>让子域安全访问父域必须将两者的<code>document.domain</code>设置为相同。</p>
<h3 id="跨域网络访问">跨域网络访问</h3><p>同源策略控制两个不同源的交互，当使用<code>XMLHttpRequest</code>或者<code>img</code>标签时。这些交互分为3类：</p>
<ol>
<li>跨域<code>写入</code>通常是允许的。例如链接(links)，重定向(redirects)和表单提交。某些罕见的HTTP请求需要<code>preflight</code>。</li>
<li>跨域嵌入通常是允许的。例子如下</li>
<li>跨域读取通常不允许，但通常通过嵌入泄漏了不可读内容。例如你可以读到嵌入图像的长宽，嵌入脚本的行为，或者<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=629094" target="_blank" rel="external">嵌入资源的可访问性</a>。</li>
</ol>
<p>以下是一些跨域嵌入的例子：</p>
<ul>
<li>通过<code>&lt;script src=&quot;...&quot;&gt;&lt;/script&gt;</code>嵌入的JS。语法错误信息只能在同源脚本中捕捉到。(然我并不理解，只看到浏览器可以捕捉到引入脚本的语法错误)</li>
<li>通过<code>&lt;link rel=&quot;stylesheet&quot; href=&quot;...&quot;&gt;</code>嵌入的CSS。由于CSS松散的语法规则，同源策略要求跨域CSS有正确的<code>Content-Type</code>头。各个浏览器对跨域CSS的限制都不同。</li>
<li>通过<code>&lt;img&gt;</code>嵌入的图像，支持png，jpeg，gif，bmp，svg。。。格式</li>
<li>通过<code>&lt;video&gt;</code>和<code>&lt;audio&gt;</code>嵌入媒体文件。</li>
<li><code>&lt;object&gt;</code>，<code>&lt;embed&gt;</code>和<code>&lt;applet&gt;</code>嵌入的插件。</li>
<li>通过<code>@font-face</code>嵌入的字体。有些浏览器允许跨域字体，有的不行。</li>
<li>任何<code>&lt;iframe&gt;</code>或者<code>&lt;frame&gt;</code>嵌入的东西，网站可以通过设置<code>X-Frame-Options</code>头阻止这种跨域。</li>
</ul>
<h4 id="如何允许跨域访问">如何允许跨域访问</h4><p>使用CORS</p>
<h4 id="如何阻止跨域访问">如何阻止跨域访问</h4>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2015/05/24/hacking-security/" itemprop="url">
                  Hacking Security
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-05-24T00:00:00+08:00" content="2015-05-24">
              2015-05-24
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2015/05/24/hacking-security/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2015/05/24/hacking-security/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="TSCTF2015">TSCTF2015</h2><p><img src="/images/tsctf.png" alt="TSCTF2015" title="TSCTF2015"></p>
<p>准备折腾近乎三周的TSCTF终于在昨天圆满结束，这三周来眼见到主板者的耐心与热情，亲历他们的付出与坚持。非常敬佩在此次活动中付诸心血和时间的所有人，以及他们在比赛承办过程中显示的卓越智慧和气质。</p>
<p>至于为何社团忽然建立，为何和阿里巴巴技术联盟一起举办了个校内赛，其中错综复杂种种并不清楚。后来颁奖阿里巴巴安全部技术总监和一位HR姐姐来了，对总监的名字非常眼熟，但我记得是在绿盟而不是阿里，抱着试试看的心理一问竟然真是siblly。没想到绿盟上市后这么多人离开了。</p>
<p>第一次见到天枢的幕后BOSS，没有他大概场地和资源都连影都没有，当然没有阿里也就没有主干道不输天池大数据和微软编程之美的霸气展板和外场宣传，也没影了大多数奖品，一个校赛宣传和奖品规格真是不低。</p>
<p>比赛中出了两道misc题目。有兴趣可以玩玩，根据题目提示获取flag，flag形式为TSCTF{xxxxxxxxxxxxxxxxx}的格式</p>
<ul>
<li>初赛misc3：<a href="http://buptlug.cn/steganography.html" target="_blank" rel="external">Steganography</a></li>
<li>决赛misc4：<a href="http://buptlug.cn/what-you-copy-is-not-you-want.html" target="_blank" rel="external">What You Copy is Not What You Want</a></li>
</ul>
<p>如果觉得有意思不要忘记评论点赞哈哈。</p>
<p>我并没有怎么参加过CTF这种牛逼哄哄的比赛，只是前一阵的ALICTF，被室友拉去打了个酱油，再我碌碌无为并未成功调出任何逆向题目和web题目的情况下，队友连下apk和web若干题目，硬是把排名拉到63左右。</p>
<p>我个人只玩过360在14年的hack game，overthewire上natas，krypto和bandit的题目，coolshell博主当年给大家玩得一个游戏。能有幸参与TSCTF的出题，真是不胜荣幸。</p>
<p>题目的设计要有粘性，有趣味，能吸引玩家往下继续深入。而不是依靠隐藏某些信息或假设玩家知道哪些信息，玩家可能是千差万别的所以一个好的题目设计并不容易。我想谈谈所看到TSCTF中的一些题目设计。</p>
<h3 id="ws">ws</h3><p>首先是我自己的决赛Misc4。最开始的设计来源于<a href="http://www.soimort.org/posts/154/" target="_blank" rel="external">soimort的一个博文</a>，告诫大家不要把html中的代码直接复制到可执行环境中去，并展示了这种危险性。我觉得一个题目要让大家感觉到很有意思，就要用令人惊奇的方式欺骗大家的眼睛，但这种欺骗并不是为了掩盖有利于解题的信息，而是让玩家能在解题的道路上体验到这种惊奇的感觉。</p>
<p>所以，开始的时候是提示了一个</p>
<pre><code><span class="built_in">echo</span> VGVhY2hlciBHOiB0aGVyZSBpcyBhIGxhbmd1YWdlIHdob3NlIG5hbWUgaXMgd2hpdGVzcGFjZQ== | base64 <span class="operator">-d</span>
</code></pre><p>我的想法很简单，玩家看到这个命令后很可能会直接把命令复制到控制台，实际上这个html偷偷藏了个输出到文件的(有点危险额)命令。</p>
<p>万万没想到，大部分人并不使用Unix，他们甚至没有看内容直接看源代码去了。。。卧槽。。。</p>
<p>后来看到使用mac的nemo直接往控制台里粘帖了，可惜后来已经不这么设计了。结果就是他在那里奇怪怎么粘帖的东西和复制的不一样= =</p>
<p>于是，为了引导玩家和照顾非unix使用者，我重新设计了游戏。对js部分进行编码(没有丧心病狂进行加密我好良心的好不好)，让html的dom结构看上去是那么回事，但一旦按下键盘按键或者鼠标就更改dom结构。</p>
<p>之后又改了几次出题组试了试几种常见浏览器，最后才是最终的版本。其实这是给初赛出的题目，Cao直接给放到决赛了。为了引导玩家进行了非常明显的提示，cslei觉得题目应该给分少些，但Cao给了350pts，最终决赛的时候大家率先把misc4完成了，分低的misc123反而好久没人做出来。。。。。。个人觉得misc123缺乏引导，这让人很难想到怎么回事，但一旦知道思路一切都不是问题，所以hint出来后misc1几乎被全A了，没放hint的misc23似乎没什么人玩。关于misc5,一道图片藏图片藏xx藏xx的题目，玩了一晚上，几经崩溃。。。这不是游戏，这是变着戏法虐人。</p>
<h3 id="sandbox">sandbox</h3><p>nemo为决赛出了两道相关的linux下shellcode和sandbox题目，sandbox题目按其设计意图是在shellcode题目的基础上完成。不过后来事情有些出乎意料。</p>
<p>sandbox的题目发到出题组的时候，我完全理解错他的意思了，他设计题目的时候想的是循环计数那里有漏洞，让玩家通过逆向分析，然后用exploit和shellcode来利用那个漏洞。我特么以为是escape shell玩了一晚上，丧心病狂以各种奇葩方式escape shell和dos nemo那个restricted shell环境的结果就是，nemo不断为其过滤黑名单添加各种过滤条件，为了防止fork bomb折腾linux系统配置到两点(建议大家不要在生产环境使用kali，那个给用户的权限高限制少)。我猜肯定还有我们没注意的其它方式，nemo已然不想管了，线下赛反正什么都方便。如果有人通过非设计者设计的方式获得flag那也算一种方式。果然，后来决赛的时候应验了。。。特么有个队shellcode根本没做就把sandbox给a掉了……</p>
<h3 id="天枢web对战平台">天枢web对战平台</h3><p>Teacher G出了一道非常灵活的决赛web题目。基于他们比赛的经验，他从一周前开始设想，最终实现、测试、上线对战系统。题目出得很是新颖，不过玩家的反应有些不太适应。Teacher G最后总结时说大家还是不太灵活。很多他设想的玩法都没有队伍去做。</p>
<p>其设计了一个有多个可利用漏洞的系统，让玩家能通过这几种方式进行对打。设计一个灵活的系统就是必须考虑各种奇葩的状况和面对奇葩的bug，结果就是为了实现这么个平台投入了大量开发和测试运维人力，Teacher G都快被bug和限制玩家的策略折磨哭了<br>，哈哈。</p>
<p>对实现的具体细节，有不同理解的cslei和Teacher G又进行了大量争论和妥协，最终上线后，发现有某个队开始一支独秀，其它队伍还在傻眼被虐中，并且很多人的解题策略安排都被这个题给打乱了。</p>
<p>好在是线下赛，经过我们npc的宏观调控(其实是一个强力的伪玩家，开始设计只是想作为玩家虐待目标)和不断的明示暗示之后，大多数队伍都走上正轨，开始了burp suite对刷大战。之后关于这个平台又放出若干提示，可惜已经晚了，平台大多功能并没有被玩家们使用。甚至。。。第一名竟然放弃了这道题= =</p>
<p>如果时间足够的话，我们还想做web可视化的攻防效果呢。可惜只有Teacher G用mascuee标签实现的好像营业厅广告般的实时战况信息。</p>
<p>很棒的一个想法和实现，总得来说。</p>
<h3 id="Coding题目">Coding题目</h3><p>Coding题目很是中规中矩，cslei在运营社团诸多繁杂事项的时候还一力承担起coding题目。出乎意料的一个是，本来有道分类识别的题目，发现解题者根本没写程序识别而是人工识别。。。。。。</p>
<p>我们说到底还真是人力不足，测试不充分。</p>
<p>大致我关注且印象比较深刻的就这些。</p>
<p>还有件惊奇的事，半年前的暑假，有个大三的学生来我们实验室做过一阵APT攻击的什么研究，今天说起来，才发现出题人之一竟然是他。。。。。。</p>
<p><img src="/images/dubhe.jpg" alt="Hacking Security" title="hacking security"></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2015/05/17/17/" itemprop="url">
                  17
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-05-17T00:00:00+08:00" content="2015-05-17">
              2015-05-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2015/05/17/17/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2015/05/17/17/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <blockquote>
<p>亲爱的神，伟大的神，</p>
<p>你可以怪我想法太过无知但我只是，人</p>
</blockquote>
<h2 id="一">一</h2><p>腥咸的海风吹开了记忆的闸门，想起多年前的某个夏天，真是多年前，在日照的某个离海不远的公路上，一路上都是这种味道，天空明丽的让人害怕，还有夏天毫不留情的烈日，遍目的黄绿清晰的映在视网膜上，映在记忆中。</p>
<p>第一次吃的西瓜，竟然带着咸涩的味道，就好像多年后品尝着自己的泪水。当时只觉得新奇。</p>
<p>那时17岁，自己是新的，世界是新的，什么都是新的。连记忆都是新鲜的。</p>
<h2 id="二">二</h2><p>火车呼呼的向前，就像不可阻遏的时光一样，匆匆带走来不及细看的景色。似曾相识的道旁树，一颗一颗接着一颗，出现，消失，出现，消失</p>
<p>我好像看到了它春天初芽蓬勃向上，转眼就覆盖了白雪归于寂然，前一秒郁郁葱葱，后一刻就萧萧瑟瑟。</p>
<p>这就是我眼中的世界，</p>
<p>这就是让人无力的无常。</p>
<p>人生苦短。</p>
<h2 id="三">三</h2><p>远远望见远处有一堵高大的墙，碧蓝碧蓝的。</p>
<p>这不是我印象中的海，也是我印象中的海，只是从来没想到那堵墙看上去这么高，高不可攀，无法穿越。</p>
<p>多年前的夏天，第一次看到大海。昏黄昏黄的大海，昏黄昏黄的沙滩，远处的渔船，昏黄雾中的落日，一并沙滩上的小螃蟹，击打在脚上打起的浪花，世界都是昏黄的。</p>
<p>一切都是昏黄的，</p>
<p>一切却都是崭新的。</p>
<h2 id="四">四</h2><p>动车上有点冷，我蜷缩在列车前方最右的角落位置，听到列车上在放一首曲子。</p>
<p>旋律是沟通阴阳的桥梁，是穿越时光的隧道，是迷魂之汤与忘情之水。</p>
<p>是通向世界边境冷酷仙境的钥匙。</p>
<p>我清清楚楚记得自己弹过这首歌，还能唤起那种热切的心情和执着的心境，但我想不起来它是什么。</p>
<p>曲子随着空调的风，随着列车上嘈杂的人声，杳无踪迹。</p>
<p>伸手抓不住，眼睁睁的面对残忍的现实。</p>
<p>错过的，就错过吧。</p>
<p>就好像它重来没发生过一样一样的。</p>
<p>其实我后来想起来了，爱的罗曼史</p>
<h2 id="五">五</h2><p>松软的沙滩是再一个能唤醒记忆的东西，脱掉谢，踏上有些滚烫的细沙的第一脚，似曾相识的感觉几乎把人击倒。</p>
<p>某年的某个夏天，满怀欣喜和好奇的心情，准备好了泳衣，终于却没有下水。</p>
<p>海水冰冷的感觉一如既往。</p>
<p>你的幸福感受是什么呢？</p>
<p>与他们一起在海滩漫步，看他们在海滩上风，看他们的身姿和头发在风中飘动。</p>
<p>对了，我试着抓了一把沙</p>
<p>如果抓紧，没这么容易从指缝流失</p>
<h2 id="六">六</h2><p>今天17号，西边日出东边雨，道是无晴却有晴。匆匆地赶回这里，就是为了写下这些。</p>
<p>然而我说不出，也不能指望有人理解。</p>
<p>用记忆和生命体验加密的文字，再多的提示又有何用。</p>
<p>解密出来对别人又有何意义？</p>
<p>在小鱼船上唱着滑板鞋，随着海浪起起伏伏。</p>
<blockquote>
<p>我的生命像海浪一样有时高有时低，你是否告诉坚强自己度过各种时期。</p>
</blockquote>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="Liu Yuyang" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Liu Yuyang</p>
        </div>
        <p class="site-description motion-element" itemprop="description">我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">178</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">23</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">63</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/reverland" target="_blank">
                  
                    <i class="fa fa-github"></i> GitHub
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name">Links</p>
            
              <span class="links-of-author-item">
                <a href="http://reverland.bitbucket.org/" target="_blank">曾经的的vimwiki</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://liutos.github.com/" target="_blank">Liutos</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://blog.phoenixlzx.com/" target="_blank">凤凰君</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://gndrive.org/" target="_blank">高达数字实验室</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.cherrot.com/" target="_blank">Cherrot</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://xwyam.github.com/" target="_blank">xw_y_am</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://ishell.me" target="_blank">小东</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://blog.kochiya.me/" target="_blank">AS酱</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://blog.skydark.info/" target="_blank">skydark</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://thorb.cn/" target="_blank">thorb</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.d0u9.xyz/" target="_blank">doug</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://armsword.com/" target="_blank">armsword</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://lilydjwg.is-programmer.com/" target="_blank">仙子</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://lazymind.me/" target="_blank">mapleray</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://gaohaoyang.github.io" target="_blank">HYG</a>
              </span>
            
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2011 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liu Yuyang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    
    

  

    <script type="text/javascript">
      var disqus_shortname = 'reverlandblog';
      var disqus_identifier = 'page/2/index.html';
      var disqus_title = '';
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  


  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>

  
    <script type="text/javascript" src="http://cdn.staticfile.org/mathjax/2.4.0/MathJax.js"></script>
    <script type="text/javascript" src="http://cdn.staticfile.org/mathjax/2.4.0/config/TeX-AMS-MML_HTMLorMML.js"></script>
  


  
  

</body>
</html>
