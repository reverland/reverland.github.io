<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
    <link href='//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Reverland, Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/images/default_avatar.jpg?v=0.4.5.2" />






<meta name="description" content="我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。">
<meta property="og:type" content="website">
<meta property="og:title" content="Reverland的行知阁">
<meta property="og:url" content="http://reverland.org/page/2/index.html">
<meta property="og:site_name" content="Reverland的行知阁">
<meta property="og:description" content="我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Reverland的行知阁">
<meta name="twitter:description" content="我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> Reverland的行知阁 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Reverland的行知阁</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">开放、分享、自由与进步</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">

    

    
    
      
      

      
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/law/2015/11/15/2014-06-13/" itemprop="url">
                  亚伦·斯沃茨一案
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-15T14:01:31+08:00" content="2015-11-15">
              2015-11-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/law/" itemprop="url" rel="index">
                    <span itemprop="name">law</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/law/2015/11/15/2014-06-13/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="law/2015/11/15/2014-06-13/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>Update: 看到个不错的片子，The Internet’s Own Boy: The Story Of Aaron Swartz</p>
<embed src="http://player.youku.com/player.php/sid/XNzYyMDg3MzYw/v.swf" allowfullscreen="true" quality="high" width="480" height="400" align="middle" allowscriptaccess="always" type="application/x-shockwave-flash">

<p>亚伦·斯沃茨是美国著名程序员、作家、政治活动家和互联网活动家。在其通过MIT的网络使用其拥有的哈佛研究员帐号下载大量学术论文后，被控告违反计算机欺诈和滥用法案。面对监禁，斯沃茨选择自杀。上诉随之被撤销。</p>
<h2 id="背景">背景</h2><p>2011年1月6日斯沃茨被MIT警署以其因系统下载JSTOR的学术论文涉及破坏和入侵指控逮捕。联邦检察官最终控告他两项网络诈骗和11项违反计算机欺诈和滥用法案行为。控诉累计罚款一百万美元外加35年监禁、财产没收、归还和监督保释。</p>
<p>2013年1月11日，距其被逮捕两年后，斯沃茨被发现在纽约公寓内上吊身亡。</p>
<p>JSTOR是在线数字内容提供商，提供手稿、GIS系统、扫描的植物标本和来自期刊的文章。斯沃茨是哈佛大学研究员，拥有一个JSTOR帐号。MIT开放校园访客拥有从其网络访问接入JSTOR的权利。</p>
<p>根据州和联邦政府，斯沃茨在2010年末到2011年初的几周内，通过MIT计算机网络从JSTOR下载了大量学术论文。斯沃茨通过在MIT受控接入配线间的交换机下载了大量文档到其笔记本上，而根据新闻报导，通往配线间的门是锁上的。</p>
<h2 id="逮捕、指控和起诉">逮捕、指控和起诉</h2><p>2011年1月6日，斯沃茨在哈佛校园附近被两名MIT警察和一名特勤局特工逮捕。随后在剑桥地区法院以蓄意犯下重罪破坏和入侵两项罪名提审。</p>
<p>2011年7月11日，斯沃茨在联邦地区法院被以四项重罪起诉：网络诈骗、计算机诈骗、非法从受保护计算机获取信息和不顾一切地破坏受保护计算机。</p>
<p>2011年11月17日，斯沃茨被米德尔塞克斯县高级法院大陪审团以蓄意破坏和进入、巨额盗窃和未授权接入计算机网络罪名起诉。</p>
<p>2011年12月16日，地区律师办公室发出撤回斯沃茨2011年6月被捕以来诉讼的声明。从2011年11月17日开始有关州指控的起诉于2012年3月8日取消。根据米德尔塞克斯县检察官声明州控诉取消是为了让联邦控诉顺畅进行。</p>
<p>据指此案本可以以未有任何发现毫无进展而保留判决撤回诉讼，联邦检察官的调查和介入引发了悲剧。</p>
<h2 id="联邦检察官">联邦检察官</h2><p>2011年4月13日，作为调查的一部分，联邦政府走访了斯沃茨的前伙伴连线急着奎因·诺顿。</p>
<p>2011年7月19日，7月11日起诉解封。控告斯沃茨两项欺诈和两项涉及非法介入和破坏受保护计算机罪名。根据起诉书，斯沃茨暗中将笔记本介入MIT计算机网络，运行叫做<code>keepgrabbing.py</code>的脚本，从JSTOR下载了惊人数量的文章。本案检察官说斯沃茨有将论文公开到P2P文件共享站点的意图。</p>
<p>斯沃茨向当局自首，对所有罪状供人不讳，以10万美元无抵押保释。在他被捕后，JSTOR发出声明，尽管它们认为斯沃茨的接入是以一种非授权方式的重大滥用，它们不考虑寻求对他的民事诉讼。MIT对诉讼没有评论。</p>
<p>纽约时报对案例这样描述：一个受尊敬的哈佛研究员和互联网英雄在波士顿被捕并被指控计算机黑客行为，全基于对他从有权自由获取的地方下载文章的控诉。锥子网站也类似地评论：斯沃茨被以黑客罪行指控，而不是版权侵害罪，因为其没有分发任何文档。JSTOR甚至没有想起诉他。</p>
<p>美国助理检察官斯蒂芬·海曼和斯科特·加兰德是主检察官，在美国检察官卡门·奥蒂斯的监督下工作。该案被归入计算机诈骗和滥用法案下，该法案与1986年通过以促进政府起诉非法接入计算机头去信息或破坏和摧毁计算机功能的黑客。奥蒂斯指出，如果定罪，斯沃茨将面临高达35年监禁，三年的监督保释、归还，财产没收和高达100万美元的罚款。</p>
<p>2012年9月12日，检察官提交了新的诉讼添加了九条重罪。没美国律政界普遍认为起诉过重。</p>
<h2 id="请求协商">请求协商</h2><p>斯沃茨的律师艾略特·皮特说检察官在斯沃茨死亡前两天告诉他，斯沃茨最好在监狱呆上6个月并且供认13项指控，如果他不想被审讯的话。皮特随后向司法部职业责任办公室申诉，声称如果斯沃茨不认罪，海曼威胁将寻求斯沃茨在监狱呆上七年。和皮特之前断言的联邦量刑指南中认罪部分中鼓励的相差悬殊。</p>
<p>斯沃茨最早的律师，安迪·古德告诉波士顿环球：我告诉海曼斯沃茨有自杀风险。他的反应是标准的官方反应，并不只对斯沃茨。他说，“好，我们把他关起来。”我不是说他让斯沃茨自杀，斯沃茨终将这样做。我认为它们意识到了风险但太不小心。</p>
<p>在斯沃茨死前不久，JSTOR宣称它们将免费公开4500万文章。每两周三篇文章封顶，只能在线阅读，有些可以下载。</p>
<p>在他斯沃茨死亡后，奥蒂斯办公室解除了对斯沃茨的控告。她说：引入和处理案件的官方行为是适当的，官方寻求匹配对应行为的合适量刑。一个我们推荐的最低安全环境下6个月判处。官方从来没有寻求，像斯沃茨律师所说的法律允许下的最大惩罚。</p>
<p>2013年1月12日，斯沃茨法律团队雇佣的计算机取证调查员亚历克斯·斯塔莫斯在线发表了他本该在斯沃茨审讯时提供的专家证词总结：</p>
<p>如果我如计划那样采取的立场被检察官问及亚伦的行为是“错的”，我更可能回复亚伦的行为应该被描述成欠考虑的。同样，为了历史论文检查图书馆中的每一本书也是欠考虑的，从共享Wifi下载大量文件也是欠考虑的。</p>
<h2 id="联邦控诉理由和回应">联邦控诉理由和回应</h2><p>美国检察官奥蒂斯在2011年起诉后声称：偷窃就是偷窃，无论你使用电脑命令还是撬棒，无论你偷的是文件、数据还是美元。同样损害了被害者，无论你是否出售还是赠送你偷来的东西。</p>
<h3 id="有关起诉">有关起诉</h3><p>翻译自维基百科，纪念斯沃茨。</p>
<p>被锥子网站批评：偷窃可能是偷窃，但这里什么是盗窃？很多有关该报导的推文指出了奥蒂斯评论的荒谬：“JSTOR被偷空了！”我真希望JSTOR能从它们被偷的文件中恢复。</p>
<p>2013年1月24日，纪念斯沃茨时，卡尔·马拉默德会议了它们有关PACER的工作。他指出它们将美国地区法律的上百万条记录从PACER的付费围墙后拉出，发现它们充斥着对隐私的违反。</p>
<p>“我们将结果发送给31个地区的主法官，他们删节这些记录并且对发送他们的律师大吼大叫。司法会议变更了他们的隐私条款。……对那些运行美国法院行政办公室的官僚……我们就是窃贼，所以他们呼叫FBI……FBI没有发现我们有任何不对。”</p>
<p>“司法检察官和法律部门官方过分积极的姿态，是因为他们曾经让他们尴尬过的复仇吗？还是以至少以他们的观点我们从PACER偷走了什么？JSTOR起诉的无情是当局官僚尴尬的复仇，因为让他们在纽约时报上看起来愚蠢，因为在参议院他们遇到了麻烦？”</p>
<p>前尼克松总统白宫法律顾问约翰·迪恩在justia.com写了篇题目为“以尼克松传统处理亚伦·斯沃茨问题：过分狂热和过分诉讼酿造悲剧结果”的法律文章，声称这不是些切实和公正坚持联邦法律的人，相反，他们是一群以无耻手段欺凌像亚伦·斯沃茨一样不幸的人们为乐子的独裁者。</p>
<p>乔治华盛顿大学法律教授奥林·科尔在2013年1月15日写到：这个控诉已经超过任何良心的检察官所该控诉太多。公爵大学法律教授詹姆士·博耶尔回应赫芬顿邮报：我认为科尔有关围绕慎重控诉的描述是事实，他们倾向于最小化和忽略有利斯沃茨的事实。</p>
<p>有个老记者叫Jane Scholz不认同将斯沃茨转化为面对美国政府控诉的英雄。他认为斯沃茨很熟悉信息财产保护的法律，他不应该对他自己招致的罪行有多严重吃惊。他是罪犯，不是受害者。我是个老记者，我工作时的工资来自版权，退休后的退休金来自版权。最近几年杂志社业绩不好，成千上万记者失去薪资甚至失业，我发现很讽刺的是斯沃茨还能把有版权的软件卖出去赚钱。斯沃茨事件是个悲剧，但他不是英雄。</p>
<p>法律教授麦克·麦迪逊评论道：找不到比这更巧舌如簧的话了“我的失业曾经很成功但现在不是了……”和“有些人犯罪了”由此感染了当代知识产权的议论。</p>
<p>大卫·艾伦诺维奇在时代杂志指出JSTOR本身就是慈善事业，但他不得不向学术出版商付费。他指责无法被说服的一代人认为版权还重要的“不顾一切”的行为。</p>
<p>相反，高等教育纪事报的皮特·勒德洛认为由于当前学术界发表或是灭亡的现状和杂志声誉的重要性。“当学者将将版权签给出版商之后就积累出一种一方拥有权利无法讨价还价的情况。像论文原作者一样，JSTOR也不得不在弱势上跟出版商协商许可。勒德洛展示了JSTOR和出版商的协商协议，规定出版商若销售量小于在他们旧材料最小销售时有要以补偿。而且JSTOR必须在获得JSTOR自己收益之前。”他总结道：“学术界应该团结一心，使用新的出版模式，我们必须认清亚伦·斯沃茨这样的个人不服从是合法的。”</p>
<p>Rob Weir，一个自称小杂志的助理编辑在写Inside Higher Ed道：“许多人奇怪为什么那些只聚合其他人劳动成果的人应该赚钱，特别是当很多纳税人的钱承销了许多文章。这时合法的考虑，但是斯沃茨的做法超越了法律和法理的界限。”然而他承认“JSTOR像个大爷一样向大学图书馆收费提供服务”，他认为，“即使最普通的杂志也需要高额资金生产，如果你想让任何人读你的期刊，你得给JSTOR钱或者其它聚合机构钱。除非，你能招揽一大堆广告。”他总结道：“信息想要免费”的谚语无法揭示“信息自由下隐藏的代价”，他建议“天下没有免费的午餐”还是对当前信息社会生产发展相适应的总结。他向黑客和信息窃贼告诫道：“若你无法做对的，就别犯罪”。</p>
<p>蒂姆·吴，在纽约客上写到他认为的不符的起诉。“行为本身无害，意味着没有实际的物理伤害和经济伤害。泄漏被发现和回收;JSTOR没有遭受经济损失，也没有提起诉讼。就像个恶作剧，斯沃茨的行为令受害者恼怒，但是没有持续的结果。”吴继续比较了斯沃茨的行为和乔布斯、斯蒂夫·沃兹尼亚克，“在20世纪70年代，犯下了类似罪行，但是一样没有造成经济损失。这两个人黑掉了贝尔实验室的点环系统打长途电话，还出售他们的设备赚钱。他们的老师约翰·德雷珀确实去监狱呆了一个月，但是乔布斯和沃兹尼亚克从未被起诉。相反，他们厌倦了电话黑客转而构建电脑。伟大的人总是在边缘游走。”吴写道：“我们可以根据一个社会如何对待怪人和艺术天才正确评价它，显然通过这次，我们完全失败了。”</p>
<h2 id="关于法律">关于法律</h2><p>这之后科尔在哈芬顿邮报专栏呼吁对控告斯沃茨的计算机欺诈和滥用法案改革。“斯沃茨案件的问题在于，重罪责任太容易被触发了。法律需要明确分清什么是轻罪什么是重罪，当前法律做的很差。”</p>
<p>来自美国民主自由联盟的科技政策分析师克里斯同样认为：“现存法律无法区分两类罪行的区别：为了获取利益的恶意犯罪和黑客攻入系统证明他们的技艺或者向公众散步他们认为应该公开的信息的行为。”斯坦福网络和社会中心人民自由执行官，也是斯沃茨的辩护律师珍妮佛质疑了控告斯沃茨的法律(CFAA)的适用范围。</p>
<p>法律教授斯蒂芬·卡特同意对斯沃茨的控告非常荒唐，也提出了对国会没几周就粗略炮制新类型联邦重罪的行为进行了批评。卡特认为CFAA是这个现象的一个佳例。他写道：“在20世纪80年代制定，在互联网大爆炸之前。法规让任何意图未经或超越授权接入计算机的人，在这个过程中，获取金融信息、政府信息或者任何从受保护的计算机上获取的信息，都成为罪犯。”卡特举个例子，就像你在上班，忽然想起来有个账单没付，于是登录银行支付。如果公司禁止雇员使用电脑干私人的事，你就越权了，你又登录银行获取了金融信息。相信与否，你是重罪。诉讼的可能性很小，但你还是犯罪了。卡特接着写到法律的问题是知名的，联邦法院已经给出了狭隘的司法解释。但有些人还是泛泛地理解它，并且奥巴马政府反对国会缩小其领域范围的努力。上诉法院第九轮主审亚历克斯·科金斯基警告2012年春政府的立场会让大量民众会因为微不足道的原因被怀疑犯下联邦罪名的人成为罪犯。</p>
<p>2013年，佐伊洛夫格伦和罗恩维登(两人分别是民主党前国会议员和参议员)提出一个法律建议叫做“亚伦法”，为了修订CFAA来消除之前提到的模糊性和消除是一个人对同意罪行遭受多次惩罚的冗余规定。正如连线杂志提到的，“这事实正是亚伦·斯沃茨所蒙受的，取代的起诉书超过三分之一的指控都是CFAA规定冗余带来的。”</p>
<h3 id="反应、申诉和撤诉行动">反应、申诉和撤诉行动</h3><p>在儿子的葬礼上，罗伯特·斯沃茨说：“亚伦是被政府杀害的，MIT违背了它的基本原则。”莲花公司创始人将其发布在推特上。对此，检察官卡门·奥蒂斯的丈夫，IBM执行官汤姆·多论回应说，“真他妈难以置信他自己儿子的讣告上责备他人的责任而不提我们提供了6个月监禁的选择。”马上在杂志Esquire上，查理·皮尔斯(作家)就写道，“检察官和她丈夫的狡辩仅仅在低警戒或者没有警戒的监狱，联邦监狱受折磨六个月，是我们的检察官那些日子里行事不够正常的进一步迹象。”</p>
<p>卫报联系奥蒂斯的发言人，发言人称对此事不置评论。路透社报导无法联系上其丈夫多伦。在2013年1月16日，奥蒂斯发布了官方声明，她重申了“我必须阐明官方在引入和处理此案的行为是合理的。”并且她的下属在“坚守誓言执行法律时肩负着困难的任务，但他们做了合理的事。”</p>
<p>2013年1月28日，斯沃茨的房产律师想司法部控诉助理检察官斯蒂芬·海曼职业行为不当。他们说海曼“向法庭有关联邦政府摄入调查的程度和范围进行了不实汇报。”</p>
<p>“邮件和报导更一步显示……海曼自身涉入了调查，甚至在斯沃茨一月6号被捕之前。”</p>
<p>律师们认为海曼当他强迫斯沃茨认罪时滥用了他的酌处权：</p>
<p>“斯沃茨……自然感觉放弃他的权利备受压力……四个月和相差七年的差距太大……对被告的量刑应该遵循量刑指南中承担责任条款要求”(认罪减免两到三级罪行。)</p>
<p>3月15日，律师要求联邦法院更改斯沃茨文件的保护令允许公开披露发现的材料，包括MIT，JSTOR中人员和法律部门雇员的姓名和头衔。律师们声称保留姓名让文档不易被国会更好理解和使用。马州首席助理检察官表示他在积极残余讨论，并将询问法庭给受影响雇员一个对建议的披露被聆听机会。</p>
<p>司法部寻求编撰涉案检察官的姓名。在2013年4月3日，美国联邦检察官办公室发言人说，“我们反对公开的原因在于，涉案人员不仅会受到影响，有时还受到残余影响”。联邦检察官办公室报告了数起针对已知涉案检察官的威胁和骇客尝试：“奥蒂斯和海曼受到威胁邮件，对海曼facebook帐号的骇客，海曼哈佛大学教授的父亲收到其在断头台的照片。”明信片和一些邮件摘录被连线杂志发布。</p>
<p>2013年5月13日，法院准予了房产律师们的部分行动，允许公开披露大量资产律师寻求解封的材料。但政府和MIT雇员的名字被替换。资产律师们认为姓名的披露胜过政府的利益和保护受害者远离潜在报复的可能。检察官和斯沃茨律师被勒令在2013年5月27日前协商披露和删节的条款。</p>
<p>凯文·鲍尔森(前黑客)于2013年11月提交了一个信息自由法案(FOIA)诉讼获取了130页来自美国特勤局有关斯沃茨的文件，美国特勤局有近20000页有关斯沃茨的文件。</p>
<p>关于海曼，BuzzFeed(一个社会新闻和娱乐网站)强调：“2008年，年轻黑客乔纳森·詹姆士在同一个检察官主导的联邦调查中自杀。”</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/machine-learning/2015/11/15/2014-06-02/" itemprop="url">
                  实现一个反向传播人工神经网络
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-15T14:01:31+08:00" content="2015-11-15">
              2015-11-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/machine-learning/" itemprop="url" rel="index">
                    <span itemprop="name">machine learning</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/machine-learning/2015/11/15/2014-06-02/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="machine-learning/2015/11/15/2014-06-02/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="为何实现一个BP神经网络？">为何实现一个BP神经网络？</h1><blockquote>
<p>“What I cannot create, I do not understand”</p>
<p>— Richard Feynman,  February 1988</p>
</blockquote>
<hr>
<h2 id="实现一个BP神经网络的7个步骤">实现一个BP神经网络的7个步骤</h2><ol>
<li>选择神经网络 <em>结构</em></li>
<li><em>随机</em> 初始化权重</li>
<li>实现 <em>前向传播</em> </li>
<li>实现 <em>成本函数</em> $J(\Theta)$</li>
<li>实现反向传播算法并计算 <em>偏微分</em> $\frac{\partial}{\partial<br>\Theta_{jk}^{(i)}}J(\Theta)$</li>
<li>使用 <em>梯度检查</em> 并在检查后关闭</li>
<li>使用梯度下降或其它优化算法和反向传播来 <em>优化</em> $\Theta$ 的函数 $J(\Theta)$</li>
</ol>
<hr>
<h2 id="数据集">数据集</h2><p>我们选取著名的鸢尾花数据集作为神经网络作用的对象，首先先观察下数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">2</span>]:</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line"><span class="comment"># random it</span></span><br><span class="line">perm = np.random.permutation(iris.target.size)</span><br><span class="line">iris.data = iris.data[perm]</span><br><span class="line">iris.target = iris.target[perm]</span><br><span class="line"><span class="keyword">print</span> iris.data.shape</span><br><span class="line"><span class="keyword">print</span> iris.target.shape </span><br><span class="line">np.unique(iris.target)</span><br><span class="line"><span class="comment">#print iris</span></span><br><span class="line">Out[<span class="number">2</span>]:</span><br><span class="line">    (<span class="number">150</span>, <span class="number">4</span>)</span><br><span class="line">    (<span class="number">150</span>,)</span><br><span class="line"></span><br><span class="line">    array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br></pre></td></tr></table></figure>
<p>可见，鸢尾花数据集有四个特征，分为三种类别，总共150个条数据。</p>
<hr>
<h1 id="选择人工神经网络结构">选择人工神经网络结构</h1><p><img src="/images/nn.png" alt="神经网络架构图"></p>
<hr>
<h1 id="随机初始化权重">随机初始化权重</h1><h2 id="网络权重随机初始化">网络权重随机初始化</h2><p> 初始化 $\Theta_{ij}^{(l)}$ 为  $[-\epsilon, \epsilon]$ 之间的随机值。</p>
<p> 初始化函数可定义如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">3</span>]:</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">random_init</span><span class="params">(input_layer_size, hidden_layer_size, classes, init_epsilon=<span class="number">0.12</span>)</span>:</span></span><br><span class="line">    Theta_1 = np.random.rand(hidden_layer_size, input_layer_size + <span class="number">1</span>) * <span class="number">2</span> * init_epsilon -init_epsilon</span><br><span class="line">    Theta_2 = np.random.rand(classes, hidden_layer_size + <span class="number">1</span>) * <span class="number">2</span> * init_epsilon -init_epsilon</span><br><span class="line">    <span class="keyword">return</span> (Theta_1, Theta_2)</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="实现前向传播">实现前向传播</h1><p>每一层都以此为公式计算下一层：</p>
<p>$$<br>G_{\theta^{(l)}(X)} = \frac{1}{1 + e^{-X(\Theta^{(l)})^T}}<br>$$</p>
<p>注意添加偏差项。</p>
<hr>
<h3 id="前向传播函数定义如下">前向传播函数定义如下</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">4</span>]:</span><br><span class="line"><span class="comment"># 先定义一个sigmoid函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">(theta, X)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> / (<span class="number">1</span> + np.e ** (-np.dot(X, np.transpose(theta))))</span><br><span class="line"><span class="comment"># 前向传播函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(Theta_1, Theta_2, X)</span>:</span></span><br><span class="line">    h = g(Theta_1, np.hstack((np.ones((X.shape[<span class="number">0</span>], <span class="number">1</span>)), X)))</span><br><span class="line">    o = g(Theta_2, np.hstack((np.ones((h.shape[<span class="number">0</span>], <span class="number">1</span>)), h)))</span><br><span class="line">    <span class="keyword">return</span> o</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="实现成本函数">实现成本函数</h1><h2 id="成本函数的数学表示">成本函数的数学表示</h2><p>$$<br>J(\Theta) = -\frac{1}{m}[\sum<em>{i=1}^m<br>\sum</em>{k=1}^Ky<em>k^{(i)}\log(h</em>\Theta(x^{(i)}))_k + (1 -<br>y<em>k^{(i)})\log(1-h</em>\Theta(x^{(i)}))<em>k)] + \frac{\lambda}{2m}\sum</em>{l=1}^{L-1}\sum<br>_{i=1}^{s<em>l}\sum</em>{j=1}^{s<em>{l+1}}(\Theta</em>{ji}^{(l)})^2<br>$$</p>
<p>$K$是输出层单元个数, $L$是层数，我们这里是三， $s_l$ 是层 $l$ 中单元数。</p>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">5</span>]:</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">costfunction</span><span class="params">(nn_param, input_layer_size, hidden_layer_size, classes, X, y, lamb_da)</span>:</span></span><br><span class="line">    Theta_1 = nn_param[:hidden_layer_size * (input_layer_size + <span class="number">1</span>)].reshape((hidden_layer_size, (input_layer_size + <span class="number">1</span>)))</span><br><span class="line">    Theta_2 = nn_param[hidden_layer_size * (input_layer_size + <span class="number">1</span>):].reshape((classes, (hidden_layer_size + <span class="number">1</span>)))</span><br><span class="line">    m = X.shape[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># recode y</span></span><br><span class="line">    y_recoded = np.eye(classes)[y,:]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># print y_recoded</span></span><br><span class="line">    <span class="comment"># calculate regularator</span></span><br><span class="line">    regularator = (np.sum(Theta_1**<span class="number">2</span>) + np.sum(Theta_2 ** <span class="number">2</span>)) * (lamb_da/(<span class="number">2</span>*m))</span><br><span class="line"></span><br><span class="line">    a3 = predict(Theta_1, Theta_2, X)</span><br><span class="line"></span><br><span class="line">    J = <span class="number">1.0</span> / m * np.sum(-<span class="number">1</span> * y_recoded * np.log(a3)-(<span class="number">1</span>-y_recoded) * np.log(<span class="number">1</span>-a3)) + regularator</span><br><span class="line">    <span class="comment"># print J</span></span><br><span class="line">    <span class="keyword">return</span> J</span><br></pre></td></tr></table></figure>
<p>因为scipy中优化函数要求输入参数是向量而不是矩阵，因此我们的函数实现也必须能够随时展开和复原矩阵。</p>
<hr>
<h1 id="实现反向传播">实现反向传播</h1><ul>
<li>正向传播计算网络输出</li>
<li>反向计算每一层的误差$\sigma^{(l)}$</li>
<li>由误差累加计算得到成本函数的偏微分$\frac{\partial}{\partial\Theta_{ij}^{(l)}}J(\Theta)$</li>
</ul>
<p>同样，在实现函数时因为要传递给<code>scipy.optimize</code>模块中的优化函数，必须能展开矩阵参数为向量并可随时复原。</p>
<p>详细实现过程参见Andrew NG在Coursera上的讲座。</p>
<p>数学推导过程请 <em>自行</em> 上coursera ml课程论坛搜索。</p>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">6</span>]:</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Gradient</span><span class="params">(nn_param, input_layer_size, hidden_layer_size, classes, X, y, lamb_da)</span>:</span></span><br><span class="line">    </span><br><span class="line">    Theta_1 = nn_param[:hidden_layer_size * (input_layer_size + <span class="number">1</span>)].reshape((hidden_layer_size, (input_layer_size + <span class="number">1</span>)))</span><br><span class="line">    Theta_2 = nn_param[hidden_layer_size * (input_layer_size + <span class="number">1</span>):].reshape((classes, (hidden_layer_size + <span class="number">1</span>)))</span><br><span class="line">    </span><br><span class="line">    m = X.shape[<span class="number">0</span>]</span><br><span class="line">    </span><br><span class="line">    Theta1_grad = np.zeros(Theta_1.shape);</span><br><span class="line">    Theta2_grad = np.zeros(Theta_2.shape);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> range(m):</span><br><span class="line">        <span class="comment"># For the input layer, where l=1:</span></span><br><span class="line">        <span class="comment"># add a bias unit and forward propagate</span></span><br><span class="line">        a1 = np.hstack((np.ones((X[t:t+<span class="number">1</span>,:].shape[<span class="number">0</span>], <span class="number">1</span>)), X[t:t+<span class="number">1</span>,:]))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># For the hidden layers, where l=2:</span></span><br><span class="line">        a2 = g(Theta_1, a1)</span><br><span class="line">        a2 = np.hstack((np.ones((a2.shape[<span class="number">0</span>], <span class="number">1</span>)), a2))</span><br><span class="line">        a3 = g(Theta_2, a2)</span><br><span class="line"></span><br><span class="line">        yy = np.zeros((<span class="number">1</span>, classes))</span><br><span class="line">        yy[<span class="number">0</span>][y[t]] = <span class="number">1</span></span><br><span class="line">        <span class="comment"># For the delta values:</span></span><br><span class="line">        delta_3 = a3 - yy;</span><br></pre></td></tr></table></figure>
<hr>
<p>续上页</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">    delta_2 = delta_3.dot(Theta_2) * (a2 * (<span class="number">1</span> - a2))</span><br><span class="line">    delta_2 = delta_2[<span class="number">0</span>][<span class="number">1</span>:] <span class="comment"># Taking of the bias row</span></span><br><span class="line">    delta_2 = np.transpose(delta_2)</span><br><span class="line">    delta_2 = delta_2.reshape(<span class="number">1</span>, (np.size(delta_2)))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># delta_1 is not calculated because we do not associate error with the input</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Big delta update</span></span><br><span class="line">    Theta1_grad = Theta1_grad + np.transpose(delta_2).dot(a1);</span><br><span class="line">    Theta2_grad = Theta2_grad + np.transpose(delta_3).dot(a2);</span><br><span class="line"></span><br><span class="line">Theta1_grad = <span class="number">1.0</span> / m * Theta1_grad + lamb_da / m * np.hstack((np.zeros((Theta_1.shape[<span class="number">0</span>], <span class="number">1</span>)), Theta_1[:, <span class="number">1</span>:]))</span><br><span class="line">Theta2_grad = <span class="number">1.0</span> / m * Theta2_grad + lamb_da / m * np.hstack((np.zeros((Theta_2.shape[<span class="number">0</span>], <span class="number">1</span>)), Theta_2[:, <span class="number">1</span>:]))</span><br><span class="line"></span><br><span class="line">Grad = np.concatenate((Theta1_grad.ravel(), Theta2_grad.ravel()), axis=<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> Grad</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="梯度检测">梯度检测</h1><blockquote>
<p>“But back prop as an algorithm has a lot of details and,you know, can be a<br>little bit tricky to implement.”</p>
<p>– Andrew NG如是说</p>
</blockquote>
<ul>
<li>即使看上去成本函数在一直减小，可能神经网络还是有问题。</li>
<li>梯度检测能让你确认，哦，我的实现还正常。</li>
</ul>
<hr>
<h2 id="梯度检测原理">梯度检测原理</h2><p>简单的微分近似。但相比反向传播神经网络算法计算量更大。</p>
<p>$$<br>\frac{\partial}{\partial\theta<em>{i}}J(\theta) \approx<br>\frac{J(\theta</em>{i}+\epsilon) - J(\theta_{i}+\epsilon) }{2\epsilon}<br>$$</p>
<h3 id="这种梯度计算实现如下：">这种梯度计算实现如下：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">7</span>]:</span><br><span class="line"><span class="comment"># define compute_grad</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute_grad</span><span class="params">(theta, input_layer_size, hidden_layer_size, classes, X, y, lamb_da, epsilon=<span class="number">1e-4</span>)</span>:</span></span><br><span class="line">    n = np.size(theta)</span><br><span class="line">    gradaproxy = np.zeros(n)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        theta_plus = np.copy(theta) <span class="comment"># Important for in numpy assign is shalow copy</span></span><br><span class="line">        theta_plus[i] = theta_plus[i] + epsilon</span><br><span class="line">        theta_minus = np.copy(theta)</span><br><span class="line">        theta_minus[i] = theta_minus[i] - epsilon</span><br><span class="line">        gradaproxy[i] = (costfunction(theta_plus, input_layer_size, hidden_layer_size, classes, X, y, lamb_da) - costfunction(theta_minus, input_layer_size, hidden_layer_size, classes, X, y, lamb_da)) / (<span class="number">2.0</span> * epsilon)</span><br><span class="line">    <span class="keyword">return</span> gradaproxy</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="把一切放到一起">把一切放到一起</h1><p>先定义训练函数如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">8</span>]:</span><br><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> optimize</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train</span><span class="params">(input_layer_size, hidden_layer_size, classes, X, y, lamb_da)</span>:</span></span><br><span class="line">    Theta_1, Theta_2 = random_init(input_layer_size, hidden_layer_size, classes, init_epsilon=<span class="number">0.12</span>)</span><br><span class="line">    nn_param = np.concatenate((Theta_1.ravel(), Theta_2.ravel()))</span><br><span class="line">    final_nn = optimize.fmin_cg(costfunction, </span><br><span class="line">                                np.concatenate((Theta_1.ravel(), Theta_2.ravel()), axis=<span class="number">0</span>), </span><br><span class="line">                                fprime=Gradient, </span><br><span class="line">                                args=(input_layer_size,</span><br><span class="line">                                      hidden_layer_size, </span><br><span class="line">                                      classes, </span><br><span class="line">                                      X, </span><br><span class="line">                                      y,</span><br><span class="line">                                      lamb_da))</span><br><span class="line">    <span class="keyword">return</span> final_nn</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="使用训练集进行训练">使用训练集进行训练</h2><p>我选取鸢尾花数据集的100条作为训练集，剩下50条作为测试集。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">9</span>]:</span><br><span class="line">X = iris.data[:<span class="number">100</span>]</span><br><span class="line">y = iris.target[:<span class="number">100</span>]</span><br><span class="line">lamb_da = <span class="number">1.0</span> <span class="comment"># must be float</span></span><br><span class="line">input_layer_size = <span class="number">4</span></span><br><span class="line">hidden_layer_size = <span class="number">6</span></span><br><span class="line">classes = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">final_nn = train(input_layer_size, hidden_layer_size, classes, X, y, lamb_da)</span><br><span class="line"></span><br><span class="line">    Warning: Desired error <span class="keyword">not</span> necessarily achieved due to precision loss.</span><br><span class="line">             Current function value: <span class="number">0.878999</span></span><br><span class="line">             Iterations: <span class="number">48</span></span><br><span class="line">             Function evaluations: <span class="number">152</span></span><br><span class="line">             Gradient evaluations: <span class="number">140</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="检测两种方式计算的梯度是否近似">检测两种方式计算的梯度是否近似</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">10</span>]:</span><br><span class="line"><span class="comment"># gradient checking</span></span><br><span class="line">grad_aprox = compute_grad(final_nn, input_layer_size, hidden_layer_size, classes, X, y, lamb_da)</span><br><span class="line">grad_bp = Gradient(final_nn, input_layer_size, hidden_layer_size, classes, X, y, lamb_da)</span><br><span class="line"><span class="keyword">print</span> (grad_aprox - grad_bp) &lt; <span class="number">1e-1</span></span><br><span class="line"></span><br><span class="line">    [ <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span></span><br><span class="line">      <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span></span><br><span class="line">      <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span></span><br><span class="line">      <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span></span><br><span class="line">      <span class="keyword">True</span>  <span class="keyword">True</span>  <span class="keyword">True</span>]</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="对测试集使用训练得来的参数">对测试集使用训练得来的参数</h2><p>可以看到，测试集中50个样本有_个判定错误，其它_个分类正确。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">11</span>]:</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(final_nn, input_layer_size, hidden_layer_size, classes, X, y, lamb_da)</span>:</span></span><br><span class="line">    Theta_1 = final_nn[:hidden_layer_size * (input_layer_size + <span class="number">1</span>)].reshape((hidden_layer_size, input_layer_size + <span class="number">1</span>))</span><br><span class="line">    Theta_2 = final_nn[hidden_layer_size * (input_layer_size + <span class="number">1</span>):].reshape((classes, hidden_layer_size + <span class="number">1</span>))</span><br><span class="line">    nsuccess = np.sum(np.argmax(predict(Theta_1, Theta_2, X), axis=<span class="number">1</span>) == y)</span><br><span class="line">    <span class="keyword">return</span> nsuccess</span><br><span class="line"></span><br><span class="line">n = test(final_nn, input_layer_size, hidden_layer_size, classes, iris.data[<span class="number">100</span>:], iris.target[<span class="number">100</span>:], lamb_da)</span><br><span class="line"><span class="keyword">print</span> n</span><br><span class="line">n = test(final_nn, input_layer_size, hidden_layer_size, classes, iris.data[:<span class="number">100</span>], iris.target[:<span class="number">100</span>], lamb_da)</span><br><span class="line"><span class="keyword">print</span> n</span><br><span class="line"></span><br><span class="line">Out[<span class="number">11</span>]:</span><br><span class="line">    <span class="number">47</span></span><br><span class="line">    <span class="number">99</span></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="另一个例子：手写数字数据集">另一个例子：手写数字数据集</h1><p>最后是对同样著名的手写数字数据集的实验。</p>
<h3 id="载入并观察数据集：">载入并观察数据集：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">12</span>]:</span><br><span class="line">digits = datasets.load_digits()</span><br><span class="line"></span><br><span class="line"><span class="comment"># random it</span></span><br><span class="line">perm = np.random.permutation(digits.target.size)</span><br><span class="line">digits.data = digits.data[perm]</span><br><span class="line">digits.target = digits.target[perm]</span><br><span class="line"><span class="keyword">print</span> digits.data.shape</span><br><span class="line"><span class="keyword">print</span> digits.target.shape</span><br><span class="line"><span class="keyword">print</span> np.unique(digits.target)</span><br><span class="line"></span><br><span class="line">Out[<span class="number">12</span>]:</span><br><span class="line">    (<span class="number">1797</span>, <span class="number">64</span>)</span><br><span class="line">    (<span class="number">1797</span>,)</span><br><span class="line">    [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="选择神经网络参数">选择神经网络参数</h2><p>取1000个样本作为训练集，剩下作为测试集。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">13</span>]:</span><br><span class="line">X = digits.data[:<span class="number">1000</span>]</span><br><span class="line">y = digits.target[:<span class="number">1000</span>]</span><br><span class="line">lamb_da = <span class="number">1.0</span> <span class="comment"># must be float</span></span><br><span class="line">input_layer_size = <span class="number">64</span></span><br><span class="line">hidden_layer_size = <span class="number">10</span></span><br><span class="line">classes = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">final_nn = train(input_layer_size, hidden_layer_size, classes, X, y, lamb_da)</span><br><span class="line"></span><br><span class="line">Out[<span class="number">13</span>]:</span><br><span class="line">    Warning: Desired error <span class="keyword">not</span> necessarily achieved due to precision loss.</span><br><span class="line">             Current function value: <span class="number">0.594474</span></span><br><span class="line">             Iterations: <span class="number">965</span></span><br><span class="line">             Function evaluations: <span class="number">2210</span></span><br><span class="line">             Gradient evaluations: <span class="number">2189</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="进行梯度检测">进行梯度检测</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">14</span>]:</span><br><span class="line"><span class="comment"># gradient checking</span></span><br><span class="line">grad_aprox = compute_grad(final_nn, input_layer_size, hidden_layer_size, classes, X, y, lamb_da)</span><br><span class="line">grad_bp = Gradient(final_nn, input_layer_size, hidden_layer_size, classes, X, y, lamb_da)</span><br><span class="line"><span class="keyword">print</span> np.all((grad_aprox - grad_bp) &lt; <span class="number">1e-1</span>)</span><br><span class="line"></span><br><span class="line">Out[<span class="number">14</span>]:</span><br><span class="line">    <span class="keyword">True</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="对测试集使用训练得来的参数-1">对测试集使用训练得来的参数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">In[<span class="number">15</span>]:</span><br><span class="line"></span><br><span class="line">n = test(final_nn, input_layer_size, hidden_layer_size, classes, digits.data[<span class="number">1000</span>:], digits.target[<span class="number">1000</span>:], lamb_da)</span><br><span class="line"><span class="keyword">print</span> n</span><br><span class="line"></span><br><span class="line">n = test(final_nn, input_layer_size, hidden_layer_size, classes, digits.data[:<span class="number">1000</span>], digits.target[:<span class="number">1000</span>], lamb_da)</span><br><span class="line"><span class="keyword">print</span> n</span><br><span class="line"></span><br><span class="line">Out[<span class="number">15</span>]:</span><br><span class="line"></span><br><span class="line">    <span class="number">722</span></span><br><span class="line">    <span class="number">991</span></span><br></pre></td></tr></table></figure>
<hr>
<center><br><h3>BY REVERLAND</h3><br></center>



            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/network/2015/11/15/2014-05-04/" itemprop="url">
                  扫描器原理与实现
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-15T14:01:31+08:00" content="2015-11-15">
              2015-11-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/network/" itemprop="url" rel="index">
                    <span itemprop="name">network</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/network/2015/11/15/2014-05-04/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="network/2015/11/15/2014-05-04/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>随便写写端口扫描器，估计不会写多。最近事情太多。</p>
<h2 id="原理">原理</h2><p>TCP端口扫描的基本原理，就是尝试与被探测端口建立连接，如果这个连接能够建立上，则说明端口是开放的。另一方面，按照TCP三次握手标准其实探测端口是否开放并不用完成三次握手建立连接，仅仅收到第二次握手的包基本就足以说明该端口确实打开并提供服务。</p>
<p>UDP是另一种无连接不可靠数据报交付协议，仅仅发送UDP报文到指定端口，然后等待返回。如果收到回复信息则说明该端口确实提供UDP服务，如果在有限时间内没收到任何回复就当作该端口不存在吧。</p>
<p>在扫描大量机器的大量端口时，比如对TCP端口扫描，如果我们发送一个包后等待建立连接，可能由于网络原因等待很久才会收到回复的报文。这样其它待扫描端口不得不等着，整个扫描器在这段时间内除了等待什么都不做。网络上行带宽没得到充分利用。所以，一般采用多线程或者异步的方式来实现扫描器的并发。</p>
<p>扫描器往往不仅仅就看看端口是否开放，它们往往还搜集信息供人判断，甚至可以提供payload来与目标进行交互。</p>
<h2 id="检阅">检阅</h2><p>最简单的扫描器，比如说netcat：</p>
<pre><code> ~ ⮀ nc -v -z bbs.byr.cn <span class="number">80</span>
Warning: inverse host lookup failed <span class="keyword">for</span> <span class="number">10.3</span><span class="number">.18</span><span class="number">.66</span>: 
bbs.byr.cn [<span class="number">10.3</span><span class="number">.18</span><span class="number">.66</span>] <span class="number">80</span> (http) open
</code></pre><p>事实上你只要找个能建立连接或者构造包的东西都能作为扫描器，比如hping</p>
<pre><code> ~ ⮀ sudo hping -c <span class="number">1</span> google.com -S -V -p <span class="number">80</span> 
<span class="keyword">using</span> eth0, addr: <span class="number">10.210</span><span class="number">.96</span><span class="number">.200</span>, MTU: <span class="number">1500</span>
HPING google.com (eth0 <span class="number">74.125</span><span class="number">.128</span><span class="number">.100</span>): S <span class="built_in">set</span>, <span class="number">40</span> headers + <span class="number">0</span> data bytes
len=<span class="number">46</span> ip=<span class="number">74.125</span><span class="number">.128</span><span class="number">.100</span> ttl=<span class="number">29</span> id=<span class="number">13203</span> tos=<span class="number">0</span> iplen=<span class="number">44</span>
sport=<span class="number">80</span> flags=SA seq=<span class="number">0</span> win=<span class="number">42900</span> rtt=<span class="number">185.2</span> ms
seq=<span class="number">2055062331</span> ack=<span class="number">2123742633</span> sum=<span class="number">2338</span> urp=<span class="number">0</span>


--- google.com hping statistic ---
<span class="number">1</span> packets tramitted, <span class="number">1</span> packets received, <span class="number">0</span>% packet loss
</code></pre><p>更专业一点的扫描器有nmap，非常专业的扫描器，在nmap script engine的扩展(lua)下更是可以方便的实现各种功能。功能强大、使用简洁暴力。</p>
<pre><code>✘ ⮀ ~ ⮀ sudo nmap -sS baidu<span class="class">.com</span>

Starting Nmap <span class="number">6.25</span> ( http:<span class="comment">//nmap.org ) at 2014-05-10 10:10 CST</span>
Nmap scan report <span class="keyword">for</span> baidu<span class="class">.com</span> (<span class="number">220.181</span>.<span class="number">111.86</span>)
Host is up (<span class="number">0.0019s</span> latency).
Other addresses <span class="keyword">for</span> baidu<span class="class">.com</span> (not scanned): <span class="number">123.125</span>.<span class="number">114.144</span> <span class="number">220.181</span>.<span class="number">111.85</span>
Not shown: <span class="number">999</span> filtered ports
PORT   STATE SERVICE
<span class="number">80</span>/tcp open  http

Nmap done: <span class="number">1</span> IP <span class="tag">address</span> (<span class="number">1</span> host up) scanned <span class="keyword">in</span> <span class="number">37.67</span> seconds
</code></pre><p>近两年出现了更加高效的面向整个互联网的扫描器。一个叫zmap，紧接着是masscan。和nmap的多线程实现不同，这两种扫描器靠异步实现高并发。</p>
<h2 id="实践">实践</h2><p>我本来想详细写写最近研究扫描器的一些心得，可是，最近事情太多，没有心情也没有时间。大致用python写扫描器的一些心得吧。</p>
<ol>
<li>你不一定要用别人现成的库。因为你可能根本搞不清有些东西是怎么运作的，而一些细节会让你痛不欲生。事实上如果你只想抓取部分信息，不妨直接自己解析报文对应字段。有时你不得不自己去做什么，比如面对某些用ActiveX的奇葩系统而你还想用python来扫描并搜集信息时。</li>
<li>gevent面对网络I/O真是毫无压力，但同时给内存和CPU带来了更大的负担。据说一个Greenlet占用四个文件描述符，gevent要拷贝大量上下文等等。实际上我这里有时并发根本上不去。超过2000就看着CPU一直处于100%左右而网络流量没有任何变化。不知道是哪里的限制，网络上行无法到达顶峰。但一些简单的例子可以无压力达到。</li>
<li>在进行大范围扫描时不要将某个可能会变的巨大变量塞进内存，虽然把对象放入内存也许会运行的更快，但你的内存满掉时它就不会更快了。这时通过shelve来实现字典相比直接把巨大的dict读入内存并不断扩展更合适。在我的某个例子中，把变量放到硬盘上而不是一股脑塞进内存后性能得到极大改善。</li>
<li><p>大文件的读写时，python有个优雅的方式。一行一行读取。无论是什么巨大的东西，比如说15G的字典文件，这样一行一行读入内存然后让python的垃圾回收机制慢慢回收基本不会占用什么内存。</p>
<pre><code>with <span class="function"><span class="title">open</span><span class="params">(<span class="string">"./data/netbios/temp"</span>)</span></span> as f:
    <span class="keyword">for</span> line <span class="keyword">in</span> f:
        pool.<span class="function"><span class="title">spawn</span><span class="params">(get_netbios, line.strip()</span></span>)
</code></pre></li>
</ol>
<p>还有些其它想法。</p>
<ol>
<li><p>一个是twisted，虽然之前把一个非常棒的教程完整实践下来，寒假拿着手机把文档直接都看完了，甚至Gsoc的时候还想着如果twisted是mentor organization争取报名参加下。结果几个月没接触，完全不知道怎么使用这个框架了。</p>
</li>
<li><p>一个是python对select和epoll的支持，我觉得可能直接使用epoll实现一些并发比gevent会好很多。可是没空去试，我一直觉得epoll和select这种东西用python写出来真是不堪入目。如果是py3，async也许是个好主意。</p>
</li>
<li><p>在使用python做一些比如ip地址处理等等的时候，你也许会发现python3有着内置的模块，更优雅的处理方式。有那么几次真想完全用python3改写已经使用的东西。不过，还是没空。</p>
</li>
</ol>
<p>还有，同学给了我片单片机，我忽然觉得扫描器玩腻了……</p>
<p>不过面对积累的大量扫描数据，我觉得做做数据分析和可视化还是不错的。不会遥遥无期吧，尽管只对python的工具稍微熟悉，更想去用d3.js做展示。</p>
<p>时间和精力有限，语言技能点该怎么点呢？</p>
<p>汇编、C、javascript、python3、lua、也许go、也许再个ruby.</p>
<p>还有两本书等着看或正在看，TCP/IP internetworking和深入理解计算机系统.</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/network/2015/11/15/2014-04-18/" itemprop="url">
                  且谈扫描器
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-15T14:01:31+08:00" content="2015-11-15">
              2015-11-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/network/" itemprop="url" rel="index">
                    <span itemprop="name">network</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/network/2015/11/15/2014-04-18/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="network/2015/11/15/2014-04-18/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="缘起">缘起</h2><p>大概是因为论坛一个毕业去阿里的师兄就这么扫到了一个某品牌摄像头web管理界面。接着，对于我，YD的几周便开始了。各种扫描内网啊，No zuo no die啊= =，然后找到了一大堆开放到内网的摄像头、弱口令ssh、匿名ftp、嵌入式板甚至还有ip电话……独留我风中凌乱。</p>
<p>我准备把常见的东西都研究一圈= =</p>
<p>总之，用到了几种扫描器和自己写的扫描器……</p>
<h2 id="nmap">nmap</h2><p>nmap是一个专业的网络探索和安全审计开源工具。尽管它可以针对主机，却被设计来快速扫描大规模网络。nmap使用IP报文来决定网络上的主机是否可达，主机上哪些服务开放(应用程序名和版本)，它们运行着什么样的操作系统，包过滤器和防火墙的情况和许多其它特征。尽管nmap广泛用于安全审计。许多系统和网络管理员在实行日常工作比如网络发现、管理服务升级安排，监控主机或服务启动时间<br>时都很好用。</p>
<p>nmap的输出是一列被扫描的目标，和有关参数指定的补充信息。常见的比如说端口信息表：</p>
<p> ~ ⮀ sudo nmap 10.210.96.193</p>
<pre><code>Starting Nmap <span class="number">6.25</span> ( <span class="string">http:</span><span class="comment">//nmap.org ) at 2014-04-18 21:44 CST</span>
Nmap scan report <span class="keyword">for</span> <span class="number">10.210</span><span class="number">.96</span><span class="number">.193</span>
Host is up (<span class="number">0.054</span>s latency).
Not <span class="string">shown:</span> <span class="number">996</span> closed ports
PORT      STATE    SERVICE
<span class="number">21</span>/tcp    ssh      closed
<span class="number">23</span>/tcp    open     telnet
<span class="number">50389</span>/tcp filtered unknown
MAC <span class="string">Address:</span> <span class="number">3</span><span class="string">C:</span><span class="string">E5:</span><span class="string">A6:</span><span class="string">D2:</span><span class="number">39</span>:AD (Hangzhou H3C Technologies Co.)
</code></pre><ul>
<li><code>open</code>意味着服务在启动并监听着。比如TCP的三次握手成功建立。</li>
<li><code>closed</code>表示该端口上服务关闭。比如收到了目标主机返回的RST.</li>
<li><code>filtered</code>意味着有防火墙，过滤器等其它障碍阻塞了端口，以致于nmap不知道端口是<code>open</code>还是<code>closed</code>。出现这种情况是发出去的探测包没了响应。</li>
</ul>
<p>如果nmap不能确定到底是哪个状态，这些状态可以写成折中形式<code>closed|filtered</code>,表示关闭或者是过滤。</p>
<p>当使用版本探测参数(<code>-sV</code>)时，端口信息表也可以包含具体的服务版本信息。</p>
<pre><code> ~ ⮀ sudo nmap -sV <span class="number">10.210</span><span class="number">.96</span><span class="number">.193</span>

Starting Nmap <span class="number">6.25</span> ( <span class="string">http:</span><span class="comment">//nmap.org ) at 2014-04-18 22:03 CST</span>
Nmap scan report <span class="keyword">for</span> <span class="number">10.210</span><span class="number">.96</span><span class="number">.193</span>
Host is up (<span class="number">0.045</span>s latency).
Not <span class="string">shown:</span> <span class="number">996</span> closed ports
PORT      STATE    SERVICE VERSION
<span class="number">23</span>/tcp    open     telnet  H3C <span class="keyword">switch</span> telnetd
MAC <span class="string">Address:</span> <span class="number">3</span><span class="string">C:</span><span class="string">E5:</span><span class="string">A6:</span><span class="string">D2:</span><span class="number">39</span>:AD (Hangzhou H3C Technologies Co.)
Service <span class="string">Info:</span> <span class="string">Device:</span> <span class="keyword">switch</span>

Service detection performed. Please report any incorrect results at <span class="string">http:</span><span class="comment">//nmap.org/submit/ .</span>
Nmap <span class="string">done:</span> <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned <span class="keyword">in</span> <span class="number">2.88</span> seconds
</code></pre><p>当使用IP协议扫描(<code>-sO</code>)时，nmap则提供IP支持的协议而不是端口：</p>
<pre><code> ~ ⮀ sudo nmap -sO <span class="number">10.210</span><span class="number">.96</span><span class="number">.193</span>

Starting Nmap <span class="number">6.25</span> ( <span class="string">http:</span><span class="comment">//nmap.org ) at 2014-04-18 22:02 CST</span>
Nmap scan report <span class="keyword">for</span> <span class="number">10.210</span><span class="number">.96</span><span class="number">.193</span>
Host is up (<span class="number">0.010</span>s latency).
Not <span class="string">shown:</span> <span class="number">252</span> open|filtered protocols
PROTOCOL STATE  SERVICE
<span class="number">1</span>        open   icmp
<span class="number">6</span>        open   tcp
<span class="number">17</span>       open   udp
<span class="number">132</span>      closed sctp
MAC <span class="string">Address:</span> <span class="number">3</span><span class="string">C:</span><span class="string">E5:</span><span class="string">A6:</span><span class="string">D2:</span><span class="number">39</span>:AD (Hangzhou H3C Technologies Co.)
</code></pre><p>除了端口信息表，nmap提供目标的更多信息，包括反向DNS域名，操作系统猜测，设备类型和MAC地址。</p>
<p>更多参照<a href="http://nmap.org/book/" target="_blank" rel="external">Nmap Guide</a></p>
<pre><code><span class="bullet"> ~ </span>⮀ nmap --help
Nmap 6.25 ( http://nmap.org )
Usage: nmap [Scan Type(s)] [Options] {target specification}
TARGET SPECIFICATION:
  Can pass hostnames, IP addresses, networks, etc.
  Ex: scanme.nmap.org, microsoft.com/24, 192.168.0.1; 10.0.0-255.1-254
  -<span class="ruby">iL &lt;inputfilename&gt;<span class="symbol">:</span> <span class="constant">Input</span> from list of hosts/networks
</span>  -<span class="ruby">iR &lt;num hosts&gt;<span class="symbol">:</span> <span class="constant">Choose</span> random targets
</span>  -<span class="ruby">-exclude &lt;host1[,host2][,host3],...&gt;<span class="symbol">:</span> <span class="constant">Exclude</span> hosts/networks
</span>  -<span class="ruby">-excludefile &lt;exclude_file&gt;<span class="symbol">:</span> <span class="constant">Exclude</span> list from file
</span>HOST DISCOVERY:
  -<span class="ruby"><span class="symbol">sL:</span> <span class="constant">List</span> <span class="constant">Scan</span> - simply list targets to scan
</span>  -<span class="ruby"><span class="symbol">sn:</span> <span class="constant">Ping</span> <span class="constant">Scan</span> - disable port scan
</span>  -<span class="ruby"><span class="constant">Pn</span><span class="symbol">:</span> <span class="constant">Treat</span> all hosts as online -- skip host discovery
</span>  -<span class="ruby"><span class="constant">PS</span>/<span class="constant">PA</span>/<span class="constant">PU</span>/<span class="constant">PY</span>[portlist]<span class="symbol">:</span> <span class="constant">TCP</span> <span class="constant">SYN</span>/<span class="constant">ACK</span>, <span class="constant">UDP</span> <span class="keyword">or</span> <span class="constant">SCTP</span> discovery to given ports
</span>  -<span class="ruby"><span class="constant">PE</span>/<span class="constant">PP</span>/<span class="constant">PM</span><span class="symbol">:</span> <span class="constant">ICMP</span> echo, timestamp, <span class="keyword">and</span> netmask request discovery probes
</span>  -<span class="ruby"><span class="constant">PO</span>[protocol list]<span class="symbol">:</span> <span class="constant">IP</span> <span class="constant">Protocol</span> <span class="constant">Ping</span>
</span>  -<span class="ruby">n/-<span class="constant">R</span><span class="symbol">:</span> <span class="constant">Never</span> <span class="keyword">do</span> <span class="constant">DNS</span> resolution/<span class="constant">Always</span> resolve [<span class="symbol">default:</span> sometimes]
</span>  -<span class="ruby">-dns-servers &lt;serv1[,serv2],...&gt;<span class="symbol">:</span> <span class="constant">Specify</span> custom <span class="constant">DNS</span> servers
</span>  -<span class="ruby">-system-<span class="symbol">dns:</span> <span class="constant">Use</span> <span class="constant">OS</span><span class="string">'s DNS resolver
</span></span>  -<span class="ruby"><span class="string">-traceroute: Trace hop path to each host
</span></span>SCAN TECHNIQUES:
  -<span class="ruby"><span class="string">sS/sT/sA/sW/sM: TCP SYN/Connect()/ACK/Window/Maimon scans
</span></span>  -<span class="ruby"><span class="string">sU: UDP Scan
</span></span>  -<span class="ruby"><span class="string">sN/sF/sX: TCP Null, FIN, and Xmas scans
</span></span>  -<span class="ruby"><span class="string">-scanflags &lt;flags&gt;: Customize TCP scan flags
</span></span>  -<span class="ruby"><span class="string">sI &lt;zombie host[:probeport]&gt;: Idle scan
</span></span>  -<span class="ruby"><span class="string">sY/sZ: SCTP INIT/COOKIE-ECHO scans
</span></span>  -<span class="ruby"><span class="string">sO: IP protocol scan
</span></span>  -<span class="ruby"><span class="string">b &lt;FTP relay host&gt;: FTP bounce scan
</span></span>PORT SPECIFICATION AND SCAN ORDER:
  -<span class="ruby"><span class="string">p &lt;port ranges&gt;: Only scan specified ports
</span></span>    Ex: -p22; -p1-65535; -p U:53,111,137,T:21-25,80,139,8080,S:9
  -<span class="ruby"><span class="string">F: Fast mode - Scan fewer ports than the default scan
</span></span>  -<span class="ruby"><span class="string">r: Scan ports consecutively - don'</span>t randomize
</span>  -<span class="ruby">-top-ports &lt;number&gt;<span class="symbol">:</span> <span class="constant">Scan</span> &lt;number&gt; most common ports
</span>  -<span class="ruby">-port-ratio &lt;ratio&gt;<span class="symbol">:</span> <span class="constant">Scan</span> ports more common than &lt;ratio&gt;
</span>SERVICE/VERSION DETECTION:
  -<span class="ruby"><span class="symbol">sV:</span> <span class="constant">Probe</span> open ports to determine service/version info
</span>  -<span class="ruby">-version-intensity &lt;level&gt;<span class="symbol">:</span> <span class="constant">Set</span> from <span class="number">0</span> (light) to <span class="number">9</span> (try all probes)
</span>  -<span class="ruby">-version-<span class="symbol">light:</span> <span class="constant">Limit</span> to most likely probes (intensity <span class="number">2</span>)
</span>  -<span class="ruby">-version-<span class="symbol">all:</span> <span class="constant">Try</span> every single probe (intensity <span class="number">9</span>)
</span>  -<span class="ruby">-version-<span class="symbol">trace:</span> <span class="constant">Show</span> detailed version scan activity (<span class="keyword">for</span> debugging)
</span>SCRIPT SCAN:
  -<span class="ruby"><span class="symbol">sC:</span> equivalent to --script=default
</span>  -<span class="ruby">-script=&lt;<span class="constant">Lua</span> scripts&gt;<span class="symbol">:</span> &lt;<span class="constant">Lua</span> scripts&gt; is a comma separated list of 
</span>           directories, script-files or script-categories
  -<span class="ruby">-script-args=&lt;n1=v1,[n2=v2,...]&gt;<span class="symbol">:</span> provide arguments to scripts
</span>  -<span class="ruby">-script-args-file=<span class="symbol">filename:</span> provide <span class="constant">NSE</span> script args <span class="keyword">in</span> a file
</span>  -<span class="ruby">-script-<span class="symbol">trace:</span> <span class="constant">Show</span> all data sent <span class="keyword">and</span> received
</span>  -<span class="ruby">-script-<span class="symbol">updatedb:</span> <span class="constant">Update</span> the script database.
</span>  -<span class="ruby">-script-help=&lt;<span class="constant">Lua</span> scripts&gt;<span class="symbol">:</span> <span class="constant">Show</span> help about scripts.
</span>           &lt;Lua scripts&gt; is a comma separted list of script-files or
           script-categories.
OS DETECTION:
  -<span class="ruby"><span class="constant">O</span><span class="symbol">:</span> <span class="constant">Enable</span> <span class="constant">OS</span> detection
</span>  -<span class="ruby">-osscan-<span class="symbol">limit:</span> <span class="constant">Limit</span> <span class="constant">OS</span> detection to promising targets
</span>  -<span class="ruby">-osscan-<span class="symbol">guess:</span> <span class="constant">Guess</span> <span class="constant">OS</span> more aggressively
</span>TIMING AND PERFORMANCE:
  Options which take &lt;time&gt; are in seconds, or append 'ms' (milliseconds),
  's' (seconds), 'm' (minutes), or 'h' (hours) to the value (e.g. 30m).
  -<span class="ruby"><span class="constant">T</span>&lt;<span class="number">0</span>-<span class="number">5</span>&gt;<span class="symbol">:</span> <span class="constant">Set</span> timing template (higher is faster)
</span>  -<span class="ruby">-min-hostgroup/max-hostgroup &lt;size&gt;<span class="symbol">:</span> <span class="constant">Parallel</span> host scan group sizes
</span>  -<span class="ruby">-min-parallelism/max-parallelism &lt;numprobes&gt;<span class="symbol">:</span> <span class="constant">Probe</span> parallelization
</span>  -<span class="ruby">-min-rtt-timeout/max-rtt-timeout/initial-rtt-timeout &lt;time&gt;<span class="symbol">:</span> <span class="constant">Specifies</span>
</span>      probe round trip time.
  -<span class="ruby">-max-retries &lt;tries&gt;<span class="symbol">:</span> <span class="constant">Caps</span> number of port scan probe retransmissions.
</span>  -<span class="ruby">-host-timeout &lt;time&gt;<span class="symbol">:</span> <span class="constant">Give</span> up on target after this long
</span>  -<span class="ruby">-scan-delay/--max-scan-delay &lt;time&gt;<span class="symbol">:</span> <span class="constant">Adjust</span> delay between probes
</span>  -<span class="ruby">-min-rate &lt;number&gt;<span class="symbol">:</span> <span class="constant">Send</span> packets no slower than &lt;number&gt; per second
</span>  -<span class="ruby">-max-rate &lt;number&gt;<span class="symbol">:</span> <span class="constant">Send</span> packets no faster than &lt;number&gt; per second
</span>FIREWALL/IDS EVASION AND SPOOFING:
  -<span class="ruby">f; --mtu &lt;val&gt;<span class="symbol">:</span> fragment packets (optionally w/given <span class="constant">MTU</span>)
</span>  -<span class="ruby"><span class="constant">D</span> &lt;decoy1,decoy2[,<span class="constant">ME</span>],...&gt;<span class="symbol">:</span> <span class="constant">Cloak</span> a scan with decoys
</span>  -<span class="ruby"><span class="constant">S</span> &lt;<span class="constant">IP_Address</span>&gt;<span class="symbol">:</span> <span class="constant">Spoof</span> source address
</span>  -<span class="ruby">e &lt;iface&gt;<span class="symbol">:</span> <span class="constant">Use</span> specified interface
</span>  -<span class="ruby">g/--source-port &lt;portnum&gt;<span class="symbol">:</span> <span class="constant">Use</span> given port number
</span>  -<span class="ruby">-data-length &lt;num&gt;<span class="symbol">:</span> <span class="constant">Append</span> random data to sent packets
</span>  -<span class="ruby">-ip-options &lt;options&gt;<span class="symbol">:</span> <span class="constant">Send</span> packets with specified ip options
</span>  -<span class="ruby">-ttl &lt;val&gt;<span class="symbol">:</span> <span class="constant">Set</span> <span class="constant">IP</span> time-to-live field
</span>  -<span class="ruby">-spoof-mac &lt;mac address/prefix/vendor name&gt;<span class="symbol">:</span> <span class="constant">Spoof</span> your <span class="constant">MAC</span> address
</span>  -<span class="ruby">-<span class="symbol">badsum:</span> <span class="constant">Send</span> packets with a bogus <span class="constant">TCP</span>/<span class="constant">UDP</span>/<span class="constant">SCTP</span> checksum
</span>OUTPUT:
  -<span class="ruby">oN/-oX/-oS/-oG &lt;file&gt;<span class="symbol">:</span> <span class="constant">Output</span> scan <span class="keyword">in</span> normal, <span class="constant">XML</span>, s|&lt;rIpt kIddi3,
</span>     and Grepable format, respectively, to the given filename.
  -<span class="ruby">oA &lt;basename&gt;<span class="symbol">:</span> <span class="constant">Output</span> <span class="keyword">in</span> the three major formats at once
</span>  -<span class="ruby"><span class="symbol">v:</span> <span class="constant">Increase</span> verbosity level (use -vv <span class="keyword">or</span> more <span class="keyword">for</span> greater effect)
</span>  -<span class="ruby"><span class="symbol">d:</span> <span class="constant">Increase</span> debugging level (use -dd <span class="keyword">or</span> more <span class="keyword">for</span> greater effect)
</span>  -<span class="ruby">-<span class="symbol">reason:</span> <span class="constant">Display</span> the reason a port is <span class="keyword">in</span> a particular state
</span>  -<span class="ruby">-<span class="symbol">open:</span> <span class="constant">Only</span> show open (<span class="keyword">or</span> possibly open) ports
</span>  -<span class="ruby">-packet-<span class="symbol">trace:</span> <span class="constant">Show</span> all packets sent <span class="keyword">and</span> received
</span>  -<span class="ruby">-<span class="symbol">iflist:</span> <span class="constant">Print</span> host interfaces <span class="keyword">and</span> routes (<span class="keyword">for</span> debugging)
</span>  -<span class="ruby">-log-<span class="symbol">errors:</span> <span class="constant">Log</span> errors/warnings to the normal-format output file
</span>  -<span class="ruby">-append-<span class="symbol">output:</span> <span class="constant">Append</span> to rather than clobber specified output files
</span>  -<span class="ruby">-resume &lt;filename&gt;<span class="symbol">:</span> <span class="constant">Resume</span> an aborted scan
</span>  -<span class="ruby">-stylesheet &lt;path/<span class="constant">URL</span>&gt;<span class="symbol">:</span> <span class="constant">XSL</span> stylesheet to transform <span class="constant">XML</span> output to <span class="constant">HTML</span>
</span>  -<span class="ruby">-<span class="symbol">webxml:</span> <span class="constant">Reference</span> stylesheet from <span class="constant">Nmap</span>.<span class="constant">Org</span> <span class="keyword">for</span> more portable <span class="constant">XML</span>
</span>  -<span class="ruby">-no-<span class="symbol">stylesheet:</span> <span class="constant">Prevent</span> associating of <span class="constant">XSL</span> stylesheet w/<span class="constant">XML</span> output
</span>MISC:
  -<span class="ruby"><span class="number">6</span><span class="symbol">:</span> <span class="constant">Enable</span> <span class="constant">IPv6</span> scanning
</span>  -<span class="ruby"><span class="constant">A</span><span class="symbol">:</span> <span class="constant">Enable</span> <span class="constant">OS</span> detection, version detection, script scanning, <span class="keyword">and</span> traceroute
</span>  -<span class="ruby">-datadir &lt;dirname&gt;<span class="symbol">:</span> <span class="constant">Specify</span> custom <span class="constant">Nmap</span> data file location
</span>  -<span class="ruby">-send-eth/--send-<span class="symbol">ip:</span> <span class="constant">Send</span> using raw ethernet frames <span class="keyword">or</span> <span class="constant">IP</span> packets
</span>  -<span class="ruby">-<span class="symbol">privileged:</span> <span class="constant">Assume</span> that the user is fully privileged
</span>  -<span class="ruby">-<span class="symbol">unprivileged:</span> <span class="constant">Assume</span> the user lacks raw socket privileges
</span>  -<span class="ruby"><span class="constant">V</span><span class="symbol">:</span> <span class="constant">Print</span> version number
</span>  -<span class="ruby"><span class="symbol">h:</span> <span class="constant">Print</span> this help summary page.
</span>EXAMPLES:
  nmap -v -A scanme.nmap.org
  nmap -v -sn 192.168.0.0/16 10.0.0.0/8
  nmap -v -iR 10000 -Pn -p 80
SEE THE MAN PAGE (http://nmap.org/book/man.html) FOR MORE OPTIONS AND EXAMPLES
</code></pre><h2 id="zmap">zmap</h2><p>Zmap是一个开源网络扫描器，旨在帮助研究人员轻松扫描互联网。通过单个机器和可观的上行量，zmap可以在45分钟内扫描整个IPv4地址段，达到以太网的理论上限。</p>
<p>zmap可以研究随时间变化协议的采用情况。检测互联网上可用的服务，让我们更好的理解分布在互联网上的大系统。</p>
<p>详细用法见：<a href="https://zmap.io/documentation.html" target="_blank" rel="external">Zmap Documentation</a></p>
<p>Zmap是强有力的工具，但请尊重他人和当地法律。</p>
<h2 id="masscan">masscan</h2><p>号称最快的互联网端口扫描器，它能够在6分钟内扫遍整个互联网，每秒发送十个百万数据包。</p>
<p>它生成类似<code>nmap</code>的结果，但内部机理是类似<code>scanrand</code>、<code>unicornscan</code>和<code>zmap</code>异步传输。主要的区别是比它们都快(笑)。另外，它更灵活，允许任意的地址段和端口段。</p>
<p>自由软件。</p>
<pre><code>~/ ⮀ masscan <span class="comment">--help</span>
MASSCAN is a fast port scanner. The primary input parameters are the
IP addresses/ranges you want to scan, and the port numbers. An example
is the following, which scans the 10.x.x.x network for web servers:
 masscan 10.0.0.0/8 -p80
The program auto-detects network interface/adapter settings. If this
fails, you'll have to <span class="operator"><span class="keyword">set</span> these manually. The <span class="keyword">following</span> <span class="keyword">is</span> an
example <span class="keyword">of</span> all the <span class="keyword">parameters</span> that <span class="keyword">are</span> needed:
 <span class="comment">--adapter-ip 192.168.10.123</span>
 <span class="comment">--adapter-mac 00-11-22-33-44-55</span>
 <span class="comment">--router-mac 66-55-44-33-22-11</span>
<span class="keyword">Parameters</span> can be <span class="keyword">set</span> either via the command-line <span class="keyword">or</span> config-<span class="keyword">file</span>. The
<span class="keyword">names</span> <span class="keyword">are</span> the same <span class="keyword">for</span> <span class="keyword">both</span>. Thus, the above adapter <span class="keyword">settings</span> would
appear <span class="keyword">as</span> <span class="keyword">follows</span> <span class="keyword">in</span> a configuration <span class="keyword">file</span>:
 adapter-ip = <span class="number">192.168</span><span class="number">.10</span><span class="number">.123</span>
 adapter-mac = <span class="number">00</span>-<span class="number">11</span>-<span class="number">22</span>-<span class="number">33</span>-<span class="number">44</span>-<span class="number">55</span>
 router-mac = <span class="number">66</span>-<span class="number">55</span>-<span class="number">44</span>-<span class="number">33</span>-<span class="number">22</span>-<span class="number">11</span>
All single-dash <span class="keyword">parameters</span> have a spelled <span class="keyword">out</span> <span class="keyword">double</span>-dash equivalent,
so <span class="string">'-p80'</span> <span class="keyword">is</span> the same <span class="keyword">as</span> <span class="string">'--ports 80'</span> (<span class="keyword">or</span> <span class="string">'ports = 80'</span> <span class="keyword">in</span> config <span class="keyword">file</span>).
<span class="keyword">To</span> <span class="keyword">use</span> the config <span class="keyword">file</span>, <span class="keyword">type</span>:
 masscan -<span class="keyword">c</span> &lt;filename&gt;
<span class="keyword">To</span> generate a config-<span class="keyword">file</span> <span class="keyword">from</span> the <span class="keyword">current</span> <span class="keyword">settings</span>, <span class="keyword">use</span> the <span class="comment">--echo</span>
<span class="keyword">option</span>. This stops the program <span class="keyword">from</span> actually running, <span class="keyword">and</span> just echoes
the <span class="keyword">current</span> configuration instead. This <span class="keyword">is</span> a useful way <span class="keyword">to</span> generate
your <span class="keyword">first</span> config <span class="keyword">file</span>, <span class="keyword">or</span> see a <span class="keyword">list</span> <span class="keyword">of</span> <span class="keyword">parameters</span> you didn<span class="string">'t know
about. I suggest you try it now:
 masscan -p1234 --echo</span></span>
</code></pre><p><a href="https://github.com/robertdavidgraham/masscan" target="_blank" rel="external">Masscan github页面</a><br><a href="http://blog.erratasec.com/2013/09/masscan-entire-internet-in-3-minutes.html" target="_blank" rel="external">Masscan: the entire Internet in 3 minutes </a></p>
<h2 id="自制扫描器">自制扫描器</h2><p>没啥好说的，拿这gevent写啊……暂时不开源。通常我先用zmap扫端口，然后送给自己的扫描器去扫。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2015/11/15/2014-02-18/" itemprop="url">
                  生命游戏
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-15T14:01:31+08:00" content="2015-11-15">
              2015-11-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2015/11/15/2014-02-18/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2015/11/15/2014-02-18/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>Warning: 满篇的信口雌黄，请勿认真。</p>
<blockquote>
<p>温度计说，零下25度，天气预报说，北部寒潮，东部暴雨，南方大风，经验说，路面很滑，坡度表说，这太陡了，而你说，感谢这一切….</p>
</blockquote>
<p>从小就对生物感兴趣，好奇毫无生气的元素如何如何就造就了栩栩如生丰富多彩的世界。然而时光飞逝，渐渐来到这里，每日敲着代码。在森林中彷徨着，抬头看不到日月星辰，走起来分不清东南西北。</p>
<p>从家里离开的那天前一晚，看了CCTV记录频道一档励志片——人猿星球。讲述了两个人科动物的爱恨情仇，刀光剑影。</p>
<p>人高马大，身体健壮，皮肤白皙的尼安德特人灭绝了，这群高富帅属性符合多少女性审美趣味的原始人类永远消失在地球之上。矮搓穷们的非洲智人则取代他们，成为地球的主宰。</p>
<p>太他妈励志了。</p>
<p>励志片说智人发明了针，于是尼安德特人灭绝了。</p>
<p>励志片说智人产生了男女分工甚至社会分工，于是尼安德特人灭绝了。</p>
<p>励志片说智人更容易说话，于是尼安德特人灭绝了。</p>
<p>励志片说尼安德特人需要的食物更多，于是他们灭绝了。</p>
<p>智人们说，团结就是力量，于是尼安德特人灭绝了。</p>
<p>其实总结起来就是，社会化的智人在这个星球上有更强大的生存能力。所以，有了现在的我们。</p>
<p>又想起了另一档励志片。叫做《远古生物大灭绝》，我看的那集讲了主宰地球两亿年的恐龙如何被一颗飞来横祸的小行星给祸害的故事。也是一群地下穴居哺乳动物如何逆袭成为世界主流的故事。</p>
<p>一颗小行星，一个偶发事件，改变了生物生存的环境，也因此改变了进化的轨迹。生物有多脆弱，再强大的生物在自然的变化前也难逃厄运。</p>
<p>小行星撞击地球对哺乳动物是个机遇。从前作为恐龙的食物他们被迫转入地下，存储食物。结果，虽然死亡率很高，它们没有灭绝。在黎明前的黑暗之后，便迎来了哺乳动物的时代。</p>
<p>想想启示吧，生存下来是第一要务，人应该锻炼更有利于生存的技能，否则在社会竞争下等待的只有被选择淘汰的命运。</p>
<p>困难的时候就等等机遇吧，等个两亿年说不定世界就变了。世界变了，习惯困难的倒霉孩子也会很倒霉，但有些人会更倒霉。</p>
<p>这时候不得不说说我最爱看的电视节目：动物世界</p>
<p>管他是什么动物，看着生物们使出浑身解数，各施绝技，你就感觉这世界太他妈精彩了，可能性太他妈多了。好像忽然明白生命不只是只有一条路而是存在无数可能。</p>
<p>我从前一直觉得捕食者好像很舒服似的，被捕食者真是倒了霉的。后来才知道捕食者的日子也难过的一比。一次捕食失败就会沉重打击一个捕食者，也许它就此被淘汰出局。食物链越上层的动物越是脆弱，因为它越是依赖下层的支持和供应。嗯，懂我在说什么吧。</p>
<p>生命就像场游戏，你不会见到比这更迷人更丰富的游戏了。你不得不玩这个游戏。</p>
<p>没倒下就坚持到最后。</p>
<p>最后谈谈正题，谈谈蚂蚁。</p>
<p>我所崇拜的黑客、物理学家、无线电修理者、保险柜密码破解高手、艺术家、舞蹈爱好者、手鼓演奏者和玛雅象形文字的破译者费曼曾经在他的书中描述过某个的午后，他是怎么和蚂蚁有个约会玩的上了瘾。费曼探索出蚂蚁找寻食物的原理，它们通过信息素/气味进行通信，标识食物和窝的路径。</p>
<p>1992年，著名的蚁群算法诞生了。</p>
<p>我第一次看到“蚁群算法”是在江南大学的图书馆里某本书，立即被这个神奇的过程吸引了，然而想起来动手试试，竟然是多少年之后的事。</p>
<p>更奇葩的是，竟然照着百度百科来的……</p>
<p>蚂蚁很萌的，你们不要黑它。</p>
<p>它们的世界很小，身边<code>3x3</code>的世界，它们只是蚁群蚂蚁中微不足道的一部分。</p>
<p>蚂蚁说，我从何处来，将往哪里去呢？</p>
<p>蚂蚁们有两个状态，有的寻找食物，有的寻找蚂蚁洞。</p>
<p>可怜的蚂蚁。</p>
<p>但是它们竟然找到一条近乎最短的到食物的路径，来回往复，How？</p>
<p>我抓了一只萌蚂蚁问她</p>
<p>蚂蚁说，我们通过气味来交流</p>
<p>蚂蚁说，当我发现食物时，就开始留下气味，离食物越远，我留下的气味越小。</p>
<p>蚂蚁说, 随着时间流逝，我留下的气味慢慢挥发。</p>
<p>蚂蚁说，我这样做决定：</p>
<ol>
<li>如果我的四周哪个地方信息素越高，那里有我寻找的东西的几率就大，我就往哪里去。</li>
<li>但是我不走回头路，我会记住曾走过的一部分路，并且尽量避免再走一遍</li>
<li>蚂蚁说，当我找到什么时我就回头寻找回去的路。</li>
</ol>
<p>于是我放了一些食物和一群蚂蚁，看看它们能不能找到窝，我想它们可以找到。</p>
<p>虽然一个只能朝八个方向运动的蚂蚁是这么不完美, 最短路径也是这么不完美。</p>
<p>but, it works…</p>
<p>我得找个地方放视频。干脆用gimp转成gif算了……不知道matplotlib能不能做这个……懒得看了</p>
<p><img src="/images/ants/animate.gif" alt="蚁群算法模拟"></p>
<p>made by matplotlib</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2015/11/15/2013-12-31/" itemprop="url">
                  一念之间
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-15T14:01:31+08:00" content="2015-11-15">
              2015-11-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2015/11/15/2013-12-31/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2015/11/15/2013-12-31/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>中午忽然想起一些事，大概是这篇文章一定要写出来的契机，然而这也就是一念之间就决<br>定的。</p>
<p>在2013年的最后一天，忽然想起一些问题，这疑问渐行渐远，追溯回遥远而模糊的过去，<br>投射到飘忽不定的未来，然而却不知道如何形容、表达它。还有，今天好累，明天再写。</p>
<h2 id="一念之间">一念之间</h2><p>人生在无数个这样的一念之间到了今天这个地步，好像一步步从雪地走来，不知道走到空<br>旷的旷野中的哪个地方，漫天漫地都是白茫茫的什么也分不清。自己一步步走到今天，一<br>转眼2013就结束，却难以想起林林总总忽如其来随兴而至却改变人生方向的念头，就像踏<br>雪飞鸿，渺无踪迹。</p>
<p>这大概是年终总结吧，又是一年。</p>
<h2 id="念头2013">念头2013</h2><p>去年这个时候，大概完全没有注意到一年过去了。也许正像和同学说的，满心欢喜着考研<br>要结束了，也许完全是另一回事，我不记得当时究竟有了些怎样的念头。只记得在黑夜中<br>跑去看图书馆前空地上张贴的考研座位，拿着手机帮别人照，碰到一个也考研的同学但在<br>黑夜中看不清她的容颜。完全不记得自己当时都想了些什么。</p>
<p>然而考完第一场从考场回去时那感觉却历历在目，穿过斑斑点点未化的白雪，走过网球场<br>时，一个强烈的念头涌上心头，考研太看运气了，我以前还想今年随便考考，明年再来，<br>然而现在却决心明年再也不会去考研。我不记得这念头是压抑已久还是从天而降，但就是<br>这样一个念头。</p>
<p>考完最后一场的念头却是如此清晰，兴奋、高兴，不管怎样，终于结束了，明年我才不要<br>继续做这个呢。似乎当时面对手舞足蹈的样子，在二十堂</p>
<p>然而之后到成绩出来之前的那些日子，我换gentoo了，那念头真是奇怪，不知道什么时候<br>主宰了我也不知为什么，甚至在漫长的考研复习过程中一度忘记。在考试刚一结束时却忽<br>然就毫无预兆的想起，曾经有个更换gentoo的念头。然后第二天就立马执行了。</p>
<p>寒假也没有闲着，毕业设计的题目定下来了。之前某个很奇怪的想用python做科学计算的<br>念头就这么开始付诸实践，这个奇怪的念头也是不知道什么时候埋在心里，后来接触<br>ipython，翻译scipy lecture notes，还有python科学计算一书，各种信息的灌溉下，最<br>终决定了，嗯，用python做毕设。</p>
<p>这个念头的结果是在淘宝上打了第一本英文书，竟然还看完了。然后用python开始改写。<br>用ipython做记录和绘图。虽然最后毕业答辩时没怎么被看好，老师来了句你这没做什么<br>东西啊的评价和一个中等的成绩。不过不挂在毕业对我来说就够了，这么多心血也必然<br>不是白费。</p>
<p>寒假时就是在家里陪家人，什么也不做，没有任何社交活动。在家中打扫下卫生做做饭，<br>陪陪老人帮帮忙。新年就这么过去了。</p>
<p>不知何时有了考研成绩出来不去学校的念头，最后发展到复试前都没打算去学校。成绩下<br>来时吓到我了，这么高复试肯定没问题。一念之间，就在家呆到了四月多。</p>
<p>然后去北京的复试，在人人上一念之间作出了去四处骚扰蹭饭的决定，便有了之后令人倍<br>感温暖的复试旅程和这一生永远不会忘记的美好记忆。这些阴差阳错的经历又让人产生了<br>新的念头，以致于改变了思想的轨迹。</p>
<p>复试完直接回到了学校，之前由于论坛上某人偶然的一句一念之差报到信息安全，在图书<br>馆偶然碰到一本就hacking the art of exploitation的书，一念之差，便开始试着建立<br>渗透测试环境，写shellcode，痴迷起社工。</p>
<p>于是毕业前被一种很奇怪但很high的状态填满了，当大家都忙着打麻将讨论着旅游什么时，<br>我却处于不断折腾学习的亢奋状态，好奇怪啊。直到曲终人散，才终于反过神来一种悲凉<br>的情绪从心中默默升起，逐渐不可抑制。那时产生一个念头，我应该更加珍惜现世的人和<br>羁绊。</p>
<p>大概也是这段时间，慢慢见到一些技术人员的感慨，也慢慢感觉痴心对身体的损害。也慢<br>慢在他们带着伤心的故事中形成一个念头：骇客是生活的一部分，但生活不是骇客的一部<br>分。一念之间，今后所有的人生方向天翻地覆，再也没有像以前折腾这么厉害这么忘乎所<br>以沉醉其中。可以说，开始想尝试接触很多其它东西。一念之间，确定了今后半年的人生<br>基调，从一种单纯的技术和设计氛围中逃离。</p>
<p>后来来到帝都上学，恍惚间只想折腾，莫名奇妙地被拉进学生会，跟课上分的小组莫名奇<br>妙变成出游，频繁地上qq和之前的同学朋友联系，频繁地蹭饭折腾，频繁而积极的参加社<br>团和活动。除了上班时就是不肯坐下折腾技术，技术在我这里有什么用？换不来钱，换不<br>来妹子，换不来与人同乐和成就感，毁身体。唯一的好处是我自己也能玩得很开心吧。一<br>念之间，人生已变。</p>
<p>然而没变得这么彻底，过去打下了深深的印记。有时念头忽至，竟能花上好久去研究。研<br>究xss是这样，做R语言大作业时研究分类算法时是这样，忘记时间和世界，整个世界都是<br>醉心技术时的迷醉。</p>
<p>不知道什么时候产生个念头，这万千念头都是执念，大概是佛教的影响吧，觉得这些执念<br>都应该去除，是一切悲剧的根源，去除执念，方能炼就金刚之心。所以每当沉迷什么时，<br>都努力把自己拉回来别走火入魔。虽然不走火入魔就干不出什么事，但岁月静好，一个平<br>平淡淡是真的念头却静悄悄地在心中发芽壮大，一念之间，已非当年血气方刚的我，已非<br>当年慷慨激昂的我，已非当初我所畏惧的我，已非当初自以为是的我。</p>
<p>寝室有室友擅长吉他。然后一念之间，就开始学吉他，每天就那么一个小时，但一直几乎<br>坚持着，拿着室友的吉他，对着书，渐渐大概也能弹唱了吧。两三年前数学建模的那个暑<br>假第一次有了弹吉他的念头，却因为忙着学数学写程序折腾计算机雪藏了两年，两年后在<br>他乡却意外地生根，好奇怪啊。</p>
<p>为了锻炼身体，游泳一直是心目中最好的运动，这个念头不知道什么时候出现，在北邮游<br>泳倒还真方便便宜，于是游泳也成了每周的日常，不去反而不舒服，每次晚上开会耽误游<br>泳就愤愤不平。某天忽然有了游一千的念头，然后竟然没几天就实现了。</p>
<p>大概是因为某些人的博客，因为pg的黑客与画家，因为krita令人惊叹的gallery。一直潜<br>藏着画画的念头，双十二的一念之间，入手了自己第一个数位板。以后，希望不会浪费这<br>个由来已久的念头。</p>
<h2 id="念头2014">念头2014</h2><p>追忆都是追忆，还有那风中凋零再不曾拾起的念头。可能再也不会付诸一眼，便在时间的<br>长河中腐烂遗忘。然而一念之差，一些念头萌生，却见有些念头已经成真，有些还在迷雾<br>中不知生死的前行。愿有义无反顾的勇气和信心，一路前行。</p>
<ul>
<li>游泳。在新的一年，学习自由泳，完成自由泳千米，蛙泳万米。</li>
<li>绘画。开始学习，做到能用绘画自由表达，能准确传达透视、人体结构、光影</li>
<li>吉他。她来听我的演唱会，如果可以，加州旅馆</li>
<li>机器学习与数据挖掘，算法与应用，某些念头绕一圈又回来了。看上去Stack Exchange<br>的Cross Validate不错。</li>
<li>前端。理论与实践。争取成为mdn常客。</li>
<li>锻炼文笔和口才</li>
<li>锻炼应用金钱的能力</li>
<li>各种搭配与设计理论与实践，在生活细微处着手，致力于提高自己和他人生活情调。</li>
<li>找妹子……</li>
<li>xss/sql web安全</li>
</ul>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2015/11/15/2013-12-21/" itemprop="url">
                  不忘初心，方得始终
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-15T14:01:31+08:00" content="2015-11-15">
              2015-11-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2015/11/15/2013-12-21/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2015/11/15/2013-12-21/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <blockquote>
<p>Hacking is part of life, not the opposite.</p>
</blockquote>
<p>题目来自于华严经，是R语言课老师课件上展示给我们的。</p>
<p>好久没写技术类文章了，一是没空，二是没心情，三是不想折腾，四是想回到生活中去。</p>
<p>胡乱记下，不想忘。</p>
<p>12月4号到6号，铁夹子玩得丧心病狂，晚上搞到一点热情难抑地用夹子做了个铁塔。</p>
<p>12月5号助管，给助管老师拿上千块钱的东西，也算老师的信任吧，周六还打电话帮拿了个快递。。。</p>
<p>8号早上aqi440多，一片大雾，这种天气党支部活动竟然去科技馆了，走马观花的围观了很多有意思的东西。真是科普，而且都是玩的。。。<br>等到中午回到学校都两点了，下午的SUSE 13.1 Release<br>Party也就没去了。不过12月3号论坛上发帖说送DVD的DVD竟然拿到了，回来正好室友不小心把系统搞挂了，干脆给了他一个SUSE装上，虽然后来他还是回归debian了。</p>
<p>等到晚上aqi降到60，帝都这空气质量大转变。</p>
<p>11号，好象是办公室搬家第二天，刚换了个地方没有网，想把以前办公室的网线拉过去。<br>于是和斌哥第一次上了楼顶，广阔的视野美的摄人心魄，简直被迷住了。</p>
<p>12号，又是助管日，第二次去金五星，去一家玩具店换玩偶，拿发票。天气和骄阳都好到不行。<br>下午第一次在游泳馆游泳，阳光穿过窗口，晒在水面上有种梦幻的感觉。</p>
<p>本来说晚上开会没开，项目由于boss要视察都发展到快一天一会了。各种电话会。结果游泳后竟然第一次吃回转火锅。</p>
<p>十三号，几乎是故意错过了一次电话会议。。。不算故意。。。但是错过了。。。</p>
<p>十四号，Pycon 2013<br>Beijing，和室友去了中科院自动化所打酱油，去的晚坐得远，大部分讲web，openstackblabla然后我这近视状况就跪了。<br>也不是毫无收获但没碰上感兴趣的。提问时怂了，一迟疑就不再有机会混本书。不过主办方送了个很漂亮的帽子，室友拿到个人生苦短我用python的T-shirt<br>另外，在看博文视点展示书籍时看到一本社工的书，作者竟然是the real<br>hustle(我喜欢死这个节目了！！！)的设计者之一！然后听到旁边的妹子在推广speedycloud，顺手搭了个话很厚颜无耻地拿了个小本(我当时真是以为是纸片！！就是想拿来用微信扫以下！！！)，后来这个小本用来被我学习近世代数了= =。</p>
<p>对了，还有一顿自动化所食堂不错的午餐。</p>
<p>下午提前回来，因为——我的wacom ctl 471到了，我迫不及待地想看看怎么样。</p>
<p>发现gentoo识别不来，打开虚拟机用xp试了试还行，便有了第一个作品。</p>
<p>后来几天折腾啊，把xf86-input-wacom和libwacom都更新到最新，还是不行，最后把内核升级到3.12终于可以用了。</p>
<p>然后就没空画画了T T</p>
<p>十五号，GDG组织的轻松学安卓第二课，在友盟。和gc社长一起去的。环境相当好，意料之外送了个漂亮的数据线还有一堆零食。<br>工程师讲得很用心但快到我们所有三十来人全没跟上，但最后竟然在旁边gc社长和一漂亮的首师妹子的帮助下运行出来了。<br>然后由于pycon怂掉的刺激提问环节完全不知答案胡乱就举手回答也算答得差不多，再加上东西运行出来了，又混了个安卓小人和google<br>map的徽章。。。我这。。。真不是纯粹是为了混小礼品。。。话说最后旁边的妹子终于也运行出来了。。。就是安卓小人发完了。。。</p>
<p>十六号和师兄在老食堂吃饭为这几天都说要开会激动不已竟然忘了拿笔记本，我都以为找不到了竟然在经理办公室登记领回去了，真心谢谢老食堂二楼的工作人员。算是表达感谢发了个贴，竟然论坛十大了。。。<br>不过晚上取消开会了。</p>
<p>之后的日子迷迷糊糊，似乎在排练准备实验室年会节目、项目、学习R和近世代数中浑浑噩噩度过。大概这样，记不清。</p>
<p>19日的助管平淡无奇，除了帮老师让参会老师签到和分发材料就是录入文件。</p>
<p>下午mapleray来学校，闲逛北邮北师竟然花了一个下午，最后还没留下吃个饭。。。</p>
<p>20日，两个节目排练,又是中心年会场务开会，泳版的版聚又失之交臂。</p>
<p>21日，下午和公司的同事和师兄去ktv排练，然后。。。就不只是排练了。。。冬至晚上在金谷园蒙斌哥请客吃饺子(后来发现被安卓手机日历坑了，22号才是冬至)。回来又赶上Foxsay的排练，排练就是各种欢乐。</p>
<p>还有些其它：</p>
<ul>
<li>在室友的指点下，可以弹唱第一首歌了——A调送别</li>
<li>clamav signature文档翻译，我觉得得根据协议发布，而不能算商业机密。</li>
<li>研究谷歌safe browsing api，跪到不行。</li>
<li>emerge world了</li>
<li>依然保持着一周三游的态势。除了这周不行。</li>
<li>才知道手机应该用带话筒的耳机。。。</li>
</ul>
<p>检视硬盘上，忽然发现有这么一个截图，不知道哪里截取的了：</p>
<blockquote>
<p>你会发现一个有趣的现象，你会惊奇地发现看似不相关的主题却有着出奇相似的道理。</p>
</blockquote>
<p>时光飞逝，已然28号。继续补上没写完的</p>
<p>22号，中心年会，早上起的晚，饭没来得及吃，直接十点被班长带着打车去了京民大厦。会场工作人员没想到去的这么早，各种没准备。然后打开灯光，准备音乐，试话筒调音量，又是一轮接一轮的彩排。到中午又累又饿，<br>当以为会陷入无人管饭的悲催境地时意外地被告知还有工作餐，工作餐还真不错，不知是饿了还是什么吃得很high，也不管是谁在哪买的了。年会结束，散场吃饭。正以为陷入无位置可坐的悲凉境地时，碰上了实验室的人，然后，嗯就有位置了。</p>
<p>23号上课、看近世代数、排练。游泳真是越来越困难了，晚上不是开会就是排练。xwyam竟然来帝都了，也没个空一起吃顿饭。</p>
<p>24号，说是开会没开，竟然游泳去了，开心到不行。晚上意外收到研会的苹果和祝福纸条，意外的惊喜。</p>
<p>25号，圣诞节好像没啥气氛。。。大致是旷了一天课去上班的地方打了个酱油。晚上干嘛了，大概先是公司排练然后在做R语言的演示ppt？</p>
<p>26号，助管倒没什么事，倒是各种排练定动作。晚上又是赶上两边排练。</p>
<p>27号，一早赶到公司定动作排练。下午实验室年会，中午十二点半就被导演喊去布置会场，去了牡丹园花园酒店结果中午的场还没结束。又等了会又排练了阵，本来让我管下ppt，最后也没管= =。等到万事俱结束一群人开始喝酒的时候，和师兄悄悄溜掉压马路回学校了。</p>
<p>28号，上午大概是一群同实验室的人都喝跪了。。。一早被揪起来帮忙还衣服。中午去民大那边，下午回来。回来一觉睡到五点。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2015/11/15/2013-09-15/" itemprop="url">
                  浪客剑心
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-15T14:01:31+08:00" content="2015-11-15">
              2015-11-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2015/11/15/2013-09-15/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2015/11/15/2013-09-15/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>把电影看完了，还真不错，画面和动感、音乐都大赞。</p>
<p>晚上又把ova 浪客剑心追忆篇看了遍，日系动漫真的做的厉害啊。画面大多都是静止的，但配上优秀得声优、优美得旋律、古典得画面，太合乎东方美学了。</p>
<p>算是追忆下明治维新得历史吧。</p>
<p>关于工作，我想吐槽下。。。又无力吐槽，祝愿所有人都一切顺利。</p>
<p>好水。。。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/reviews/2015/11/15/2013-09-09/" itemprop="url">
                  金色梦乡
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-15T14:01:31+08:00" content="2015-11-15">
              2015-11-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/reviews/" itemprop="url" rel="index">
                    <span itemprop="name">reviews</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/reviews/2015/11/15/2013-09-09/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="reviews/2015/11/15/2013-09-09/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="Golden_Slumber">Golden Slumber</h2><p>大概两年以前，非常痴迷推理小说，当时把阿加莎、宫部美雪、京极夏彦、东野圭吾等等的小说图书馆有的都翻了一遍，还有些同学有的也借来看。我还依稀记得图书馆3楼夕阳斜入时那份静谧与安宁，时间好像停滞一般。多希望那自由自在的日子能够永远。</p>
<p>大概那段时间，我听说有本小说叫作：金色梦乡。然而图书馆没有，朋友那里也没。我竟也没上网去买一本，甚至没有在网上找来看过。</p>
<p>让而这个书名却深深地烙印在心中，时不时就会想起。好像是一种用不能释怀的美好记忆。</p>
<p>我还记得两年前在网球场上等bing哥，阳光温暖和煦，似乎把整个世界都染成的金色我眯着眼凝视着安宁和煦的世界，不自觉就想起：金色梦乡。</p>
<p>是的，现在回头看真像一场温暖和煦的梦，好想时光倒流，回到从前。</p>
<h2 id="电影">电影</h2><p>昨天把电影看了，有着个人对抗国家的壮阔背景，却是如此一个温情默默的故事。</p>
<p>金色的梦乡是什么呢，青柳和朋友的记忆中，往日清闲自在的时光，永远也回不去的过去，无法磨灭的情谊。</p>
<h2 id="不自知">不自知</h2><blockquote>
<p>在幸福的漩涡中，不能自知。</p>
</blockquote>
<p>珍惜现在，现在就是金色的梦乡。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/life/2015/11/15/2013-10-11/" itemprop="url">
                  沉沉如梦
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-11-15T14:01:31+08:00" content="2015-11-15">
              2015-11-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/life/2015/11/15/2013-10-11/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="life/2015/11/15/2013-10-11/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <pre><code>阳光透过树林洒下，
好像零零碎碎的梦
支离破碎的记忆中
光怪陆离的影像里

卷起残叶的风有些微凉
阳光热情而温暖
冷热之间 回眸百味

羞涩的风
一转眼你就消失，
不能捉摸你的样子
你的踪迹你的方向
你来时出人意料
你离开时一片狼籍
你昨天为什么这么炽烈
扬起温柔的沙
迷住了我的眼
止住了旅人匆匆的脚步
却没有给他一个家？

你没在天空留下痕迹
但滚烫的风沙划伤了旅人的玻璃心
没有血
没有泪

阳光下真温暖
耳边依然是你的气息你的声音你的温存
好想在一片温暖中沉沉入梦
好想在温暖的梦中忘却所有
好想在一无所有中重新拥抱
拥抱美丽的世界
拥抱彷徨中寻找的心

沉沉如梦，
我在想什么 
</code></pre>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="Liu Yuyang" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Liu Yuyang</p>
        </div>
        <p class="site-description motion-element" itemprop="description">我希望生活是诗的，是画的，是无数动听的音符。我希望我是自由的，摇滚的，有一颗黑客的心。</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">167</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">23</span>
              <span class="site-state-item-name">分类</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">57</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/reverland" target="_blank">
                  
                    <i class="fa fa-github"></i> GitHub
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2011 - 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liu Yuyang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    
    

  

    <script type="text/javascript">
      var disqus_shortname = 'reverlandblog';
      var disqus_identifier = 'page/2/index.html';
      var disqus_title = '';
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  


  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
