<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Better and Beautiful Console | Reverland的行知阁</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="linux," />
  

  <meta name="description" content="一般的linux控制台（这还是gentoo配置过的默认bash呢）是这样的

而经过一番简单的配置之后，你的控制台是这样的


如何美化Linux下控制台（Better Framebuffer）如果你运气足够好，碰上个有良心的发行版会帮你稍微配置下bash，增加些显示当前目录啊、彩色输出啊的功能。如果你足够悲剧，选择了一个以KISS为目标的发行版或者碰到一个无良发行版，你的bash就是个勉强能用的">
<meta property="og:type" content="article">
<meta property="og:title" content="Better and Beautiful Console">
<meta property="og:url" content="http://reverland.org/linux/2014/08/08/better-and-beautiful-console/index.html">
<meta property="og:site_name" content="Reverland的行知阁">
<meta property="og:description" content="一般的linux控制台（这还是gentoo配置过的默认bash呢）是这样的

而经过一番简单的配置之后，你的控制台是这样的


如何美化Linux下控制台（Better Framebuffer）如果你运气足够好，碰上个有良心的发行版会帮你稍微配置下bash，增加些显示当前目录啊、彩色输出啊的功能。如果你足够悲剧，选择了一个以KISS为目标的发行版或者碰到一个无良发行版，你的bash就是个勉强能用的">
<meta property="og:image" content="http://reverland.org/images/plainconsole.png">
<meta property="og:image" content="http://reverland.org/images/fbterm.png">
<meta property="og:updated_time" content="2015-12-10T14:32:25.787Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Better and Beautiful Console">
<meta name="twitter:description" content="一般的linux控制台（这还是gentoo配置过的默认bash呢）是这样的

而经过一番简单的配置之后，你的控制台是这样的


如何美化Linux下控制台（Better Framebuffer）如果你运气足够好，碰上个有良心的发行版会帮你稍微配置下bash，增加些显示当前目录啊、彩色输出啊的功能。如果你足够悲剧，选择了一个以KISS为目标的发行版或者碰到一个无良发行版，你的bash就是个勉强能用的">

  

  
    <link rel="icon" href="/images/favicon.ico">
  

  <link rel="stylesheet" href="/css/styles.css" type="text/css">

  

  

  

</head>

<body>
  <div class="post-header CENTER">
   
  <div class="toolbox">
    <div class="toolbox-entry">盒子</div>
    <ul class="list-toolbox">
      
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/archives/">博客</a>
          </li>
        
      
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/category/">分类</a>
          </li>
        
      
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/tag/">标签</a>
          </li>
        
      
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/link/">友链</a>
          </li>
        
      
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/about/">关于</a>
          </li>
        
      
        
          <li class="item-toolbox">
            <a class="CIRCLE" href="/atom.xml">RSS</a>
          </li>
        
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#如何美化Linux下控制台（Better_Framebuffer）"><span class="toc-text">如何美化Linux下控制台（Better Framebuffer）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#zsh"><span class="toc-text">zsh</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fbterm背景图片"><span class="toc-text">fbterm背景图片</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#fbterm"><span class="toc-text">fbterm</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#中文输入法"><span class="toc-text">中文输入法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#specify_the_favorite_input_method_program_to_run"><span class="toc-text">specify the favorite input method program to run</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#鼠标支持"><span class="toc-text">鼠标支持</span></a></li></ol>
  </div>


<div class="content-post CENTER">
   <article id="post-better-and-beautiful-console" class="article article-type-post" itemscope itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">Better and Beautiful Console</h1>

    <div class="article-meta">
      <span>2014-08-08</span>

      <span> | </span>

      <span class="article-author">Liu Yuyang</span>

      <span> | </span>

      
  <span class="article-category">
    <a class="article-category-link" href="/categories/linux/">linux</a>
  </span>


    </div>
  </header>

  <div class="article-content">
    
      <p>一般的linux控制台（这还是gentoo配置过的默认bash呢）是这样的</p>
<p><img src="/images/plainconsole.png" alt="普通控制台"></p>
<p>而经过一番简单的配置之后，你的控制台是这样的</p>
<p><img src="/images/fbterm.png" alt="fbterm"></p>
<hr>
<h2 id="如何美化Linux下控制台（Better_Framebuffer）">如何美化Linux下控制台（Better Framebuffer）</h2><p>如果你运气足够好，碰上个有良心的发行版会帮你稍微配置下bash，增加些显示当前目录啊、彩色输出啊的功能。如果你足够悲剧，选择了一个以KISS为目标的发行版或者碰到一个无良发行版，你的bash就是个勉强能用的悲剧。</p>
<p>为了让终端在即使没有X也能漂亮起来，为了更加愉快的在没有X的Server下工作，为了不装X胜似装X。让我们开始配置一个漂亮的Linux控制台吧。</p>
<p>我是在gentoo linux完成配置的，首先安装必要的程序：</p>
<pre><code>emerge fbterm fcitx-fbterm fbv fbdump zsh oh-<span class="keyword">my</span>-zsh gpm
</code></pre><h2 id="zsh">zsh</h2><p>1.把zsh改成默认shell</p>
<pre><code>chsh <span class="operator">-s</span> zsh
</code></pre><p>2.修改zsh主题</p>
<pre><code><span class="setting">ZSH_THEME=<span class="value"><span class="string">"agnoster"</span></span></span>
</code></pre><p>至此，zsh配置完成。</p>
<h2 id="fbterm背景图片">fbterm背景图片</h2><p>3.为了让fbterm显示背景图像，建立一个比如说<code>.background_fbterm</code>作为fbterm启动的封装</p>
<pre><code> ~ ⮀ cat .background_fbterm
<span class="shebang">#!/bin/bash</span>
<span class="comment"># fbterm-bi: a wrapper script to enable background image with fbterm</span>
<span class="comment"># usage: fbterm-bi /path/to/image fbterm-options</span>
<span class="built_in">echo</span> <span class="operator">-ne</span> <span class="string">"\e[?25l"</span> <span class="comment"># hide cursor</span>
fbv -ciuker <span class="string">"<span class="variable">$1</span>"</span> &lt;&lt; EOF
</code></pre><p>q<br>    EOF<br>    shift<br>    export FBTERM_BACKGROUND_IMAGE=1<br>    exec fbterm “$@”</p>
<ol>
<li><p>在<code>.zshrc</code>中添加一个别名，指定背景图片。</p>
<h1 id="fbterm">fbterm</h1><p> alias fbterm=”sh ~/.background_fbterm ~/Pictures/wallpaper/girl.png”</p>
</li>
</ol>
<h2 id="中文输入法">中文输入法</h2><ol>
<li><p>在<code>.fbtermrc</code>中写入以下行，提供framebuffer下的中文输入法。</p>
<h1 id="specify_the_favorite_input_method_program_to_run">specify the favorite input method program to run</h1><p> input-method=fcitx-fbterm</p>
<h2 id="鼠标支持">鼠标支持</h2></li>
</ol>
<p>你会迷恋上中键粘帖的。</p>
<hr>
<p>看到没有，简单5步，即使没有X，一个漂亮、高效、支持中文显示和输入的控制台就诞生了。</p>
<p>ps:关于终端截图。<code>fbgrab</code>获取的图像错位，</p>
<p>即使多次尝试w和h：</p>
<pre><code>cat /dev/fb0 &gt; fb<span class="class">.raw</span>
fbgrab -<span class="tag">i</span> -w <span class="number">1056</span> -h <span class="number">1024</span> -<span class="tag">b</span> <span class="number">32</span> -f framebuffer<span class="class">.raw</span> fb.png
</code></pre><p>获取的也是错位的图像。</p>
<p>后来编译个<code>fbdump</code>挺好用的。</p>
<pre><code><span class="tag">fbdump</span> &gt; <span class="tag">fb</span><span class="class">.ppm</span>
</code></pre><p>然后用gimp啊等转成其它格式就随意了</p>
<pre><code><span class="tag">gimp</span> <span class="tag">fb</span><span class="class">.ppm</span>
</code></pre>
    
  </div>
</article>



<section class="disqus-comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>




</div>

  
<script>
  var disqus_shortname = 'reverlandblog';
  
  var disqus_url = 'http://reverland.org/linux/2014/08/08/better-and-beautiful-console/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"undefined"};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0]
   || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
<!-- 多说公共JS代码 end -->

</body>
</html>
